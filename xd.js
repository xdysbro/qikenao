!function(){const He=document.createElement("link").relList;if(!(He&&He.supports&&He.supports("modulepreload"))){for(const He of document.querySelectorAll('link[rel="modulepreload"]'))e(He);new MutationObserver((He=>{for(const $e of He)if("childList"===$e.type)for(const He of $e.addedNodes)"LINK"===He.tagName&&"modulepreload"===He.rel&&e(He)})).observe(document,{childList:!0,subtree:!0})}function e(He){if(He.ep)return;He.ep=!0;const $e=function(He){const $e={};return He.integrity&&($e.integrity=He.integrity),He.referrerPolicy&&($e.referrerPolicy=He.referrerPolicy),"use-credentials"===He.crossOrigin?$e.credentials="include":"anonymous"===He.crossOrigin?$e.credentials="omit":$e.credentials="same-origin",$e}(He);fetch(He.href,$e)}}();class t{on(He,$e,je){const Ye=this.e||(this.e={});return(Ye[He]||(Ye[He]=[])).push({fn:$e,ctx:je}),this}once(He,$e,je){const Ye=this;function a(...ti){Ye.off(He,a),$e.apply(je,ti)}return a._=$e,this.on(He,a,je)}emit(He,...$e){const je=((this.e||(this.e={}))[He]||[]).slice();for(let He=0;He<je.length;He+=1)je[He].fn.apply(je[He].ctx,$e);return this}off(He,$e){const je=this.e||(this.e={}),Ye=je[He],ti=[];if(Ye&&$e)for(let He=0,je=Ye.length;He<je;He+=1)Ye[He].fn!==$e&&Ye[He].fn._!==$e&&ti.push(Ye[He]);return ti.length?je[He]=ti:delete je[He],this}}const e="undefined"!=typeof navigator?navigator.userAgent:"",i=/^((?!chrome|android).)*safari/i.test(e),r=/MicroMessenger/i.test(e),a=/MSIE|Trident/i.test(e),s=/android/i.test(e),n=/iPad|iPhone|iPod/i.test(e)&&!window.MSStream,o=n||e.includes("Macintosh")&&navigator.maxTouchPoints>=1,h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)||o,l="undefined"!=typeof window;function A(He){return He&&He.__esModule&&Object.prototype.hasOwnProperty.call(He,"default")?He.default:He}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var d,u={exports:{}};d=u.exports,"undefined"!=typeof navigator&&(u.exports=function(){var He="",$e=!1,je=-999999,r=function(){return He};function a(He){return document.createElement(He)}function s(He,$e){var je,Ye,ti=He.length;for(je=0;je<ti;je+=1)for(var mi in Ye=He[je].prototype)Object.prototype.hasOwnProperty.call(Ye,mi)&&($e.prototype[mi]=Ye[mi])}var Ye=function(){function t(He){this.audios=[],this.audioFactory=He,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(He){this.audios.push(He)},pause:function(){var He,$e=this.audios.length;for(He=0;He<$e;He+=1)this.audios[He].pause()},resume:function(){var He,$e=this.audios.length;for(He=0;He<$e;He+=1)this.audios[He].resume()},setRate:function(He){var $e,je=this.audios.length;for($e=0;$e<je;$e+=1)this.audios[$e].setRate(He)},createAudio:function(He){return this.audioFactory?this.audioFactory(He):window.Howl?new window.Howl({src:[He]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(He){this.audioFactory=He},setVolume:function(He){this._volume=He,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var He,$e=this.audios.length;for(He=0;He<$e;He+=1)this.audios[He].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),ti=function(){function t(He,$e){var je,Ye=0,ti=[];switch(He){case"int16":case"uint8c":je=1;break;default:je=1.1}for(Ye=0;Ye<$e;Ye+=1)ti.push(je);return ti}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(He,$e){return"float32"===He?new Float32Array($e):"int16"===He?new Int16Array($e):"uint8c"===He?new Uint8ClampedArray($e):t(He,$e)}:t}();function l(He){return Array.apply(null,{length:He})}var mi=!0,_i=null,Pi="",Mi=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Fi=Math.pow,Oi=Math.sqrt,Ni=Math.floor,Ui=Math.min,Gi=150,Vi=Math.PI/180,Hi=.5519;function C(He,$e,je,Ye){this.type=He,this.currentTime=$e,this.totalTime=je,this.direction=Ye<0?-1:1}function B(He,$e){this.type=He,this.direction=$e<0?-1:1}function k(He,$e,je,Ye){this.type=He,this.currentLoop=je,this.totalLoops=$e,this.direction=Ye<0?-1:1}function x(He,$e,je){this.type=He,this.firstFrame=$e,this.totalFrames=je}function w(He,$e){this.type=He,this.target=$e}function Q(He,$e){this.type="renderFrameError",this.nativeError=He,this.currentTime=$e}function S(He){this.type="configError",this.nativeError=He}var zi,Ki=(zi=0,function(){return Pi+"__lottie_element_"+(zi+=1)});function R(He,$e,je){var Ye,ti,mi,_i,Pi,Mi,Fi,Oi;switch(Mi=je*(1-$e),Fi=je*(1-(Pi=6*He-(_i=Math.floor(6*He)))*$e),Oi=je*(1-(1-Pi)*$e),_i%6){case 0:Ye=je,ti=Oi,mi=Mi;break;case 1:Ye=Fi,ti=je,mi=Mi;break;case 2:Ye=Mi,ti=je,mi=Oi;break;case 3:Ye=Mi,ti=Fi,mi=je;break;case 4:Ye=Oi,ti=Mi,mi=je;break;case 5:Ye=je,ti=Mi,mi=Fi}return[Ye,ti,mi]}function L(He,$e,je){var Ye,ti=Math.max(He,$e,je),mi=Math.min(He,$e,je),_i=ti-mi,Pi=0===ti?0:_i/ti,Mi=ti/255;switch(ti){case mi:Ye=0;break;case He:Ye=$e-je+_i*($e<je?6:0),Ye/=6*_i;break;case $e:Ye=je-He+2*_i,Ye/=6*_i;break;case je:Ye=He-$e+4*_i,Ye/=6*_i}return[Ye,Pi,Mi]}function T(He,$e){var je=L(255*He[0],255*He[1],255*He[2]);return je[1]+=$e,je[1]>1?je[1]=1:je[1]<=0&&(je[1]=0),R(je[0],je[1],je[2])}function M(He,$e){var je=L(255*He[0],255*He[1],255*He[2]);return je[2]+=$e,je[2]>1?je[2]=1:je[2]<0&&(je[2]=0),R(je[0],je[1],je[2])}function F(He,$e){var je=L(255*He[0],255*He[1],255*He[2]);return je[0]+=$e/360,je[0]>1?je[0]-=1:je[0]<0&&(je[0]+=1),R(je[0],je[1],je[2])}!function(){var He;for(He=0;He<256;He+=1)He.toString(16).length}();var P=function(){return _i},_=function(He){Gi=He},N=function(){return Gi};function U(He){return document.createElementNS("http://www.w3.org/2000/svg",He)}function G(He){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(He){return typeof He}:function(He){return He&&"function"==typeof Symbol&&He.constructor===Symbol&&He!==Symbol.prototype?"symbol":typeof He})(He)}var ji=function(){var He,je,Ye=1,ti=[],mi={onmessage:function(){},postMessage:function($e){He({data:$e})}},_i={postMessage:function(He){mi.onmessage({data:He})}};function h(){je||((je=function o(je){if(window.Worker&&window.Blob&&$e){var Ye=new Blob(["var _workerSelf = self; self.onmessage = ",je.toString()],{type:"text/javascript"}),ti=URL.createObjectURL(Ye);return new Worker(ti)}return He=je,mi}((function(He){if(_i.dataManager||(_i.dataManager=function(){function t(He,$e){var je,Ye,ti,mi,_i,Pi,Mi=He.length;for(Ye=0;Ye<Mi;Ye+=1)if("ks"in(je=He[Ye])&&!je.completed){if(je.completed=!0,je.hasMask){var Fi=je.masksProperties;for(mi=Fi.length,ti=0;ti<mi;ti+=1)if(Fi[ti].pt.k.i)r(Fi[ti].pt.k);else for(Pi=Fi[ti].pt.k.length,_i=0;_i<Pi;_i+=1)Fi[ti].pt.k[_i].s&&r(Fi[ti].pt.k[_i].s[0]),Fi[ti].pt.k[_i].e&&r(Fi[ti].pt.k[_i].e[0])}0===je.ty?(je.layers=e(je.refId,$e),t(je.layers,$e)):4===je.ty?i(je.shapes):5===je.ty&&d(je)}}function e(He,$e){var je=function(He,$e){for(var je=0,Ye=$e.length;je<Ye;){if($e[je].id===He)return $e[je];je+=1}return null}(He,$e);return je?je.layers.__used?JSON.parse(JSON.stringify(je.layers)):(je.layers.__used=!0,je.layers):null}function i(He){var $e,je,Ye;for($e=He.length-1;$e>=0;$e-=1)if("sh"===He[$e].ty)if(He[$e].ks.k.i)r(He[$e].ks.k);else for(Ye=He[$e].ks.k.length,je=0;je<Ye;je+=1)He[$e].ks.k[je].s&&r(He[$e].ks.k[je].s[0]),He[$e].ks.k[je].e&&r(He[$e].ks.k[je].e[0]);else"gr"===He[$e].ty&&i(He[$e].it)}function r(He){var $e,je=He.i.length;for($e=0;$e<je;$e+=1)He.i[$e][0]+=He.v[$e][0],He.i[$e][1]+=He.v[$e][1],He.o[$e][0]+=He.v[$e][0],He.o[$e][1]+=He.v[$e][1]}function a(He,$e){var je=$e?$e.split("."):[100,100,100];return He[0]>je[0]||!(je[0]>He[0])&&(He[1]>je[1]||!(je[1]>He[1])&&(He[2]>je[2]||!(je[2]>He[2])&&null))}var He,$e=function(){var He=[4,4,14];function e(He){var $e,je,Ye,ti=He.length;for($e=0;$e<ti;$e+=1)5===He[$e].ty&&(Ye=(je=He[$e]).t.d,je.t.d={k:[{s:Ye,t:0}]})}return function($e){if(a(He,$e.v)&&(e($e.layers),$e.assets)){var je,Ye=$e.assets.length;for(je=0;je<Ye;je+=1)$e.assets[je].layers&&e($e.assets[je].layers)}}}(),je=(He=[4,7,99],function($e){if($e.chars&&!a(He,$e.v)){var je,Ye=$e.chars.length;for(je=0;je<Ye;je+=1){var ti=$e.chars[je];ti.data&&ti.data.shapes&&(i(ti.data.shapes),ti.data.ip=0,ti.data.op=99999,ti.data.st=0,ti.data.sr=1,ti.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},$e.chars[je].t||(ti.data.shapes.push({ty:"no"}),ti.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),Ye=function(){var He=[5,7,15];function e(He){var $e,je,Ye=He.length;for($e=0;$e<Ye;$e+=1)5===He[$e].ty&&(je=void 0,"number"==typeof(je=He[$e].t.p).a&&(je.a={a:0,k:je.a}),"number"==typeof je.p&&(je.p={a:0,k:je.p}),"number"==typeof je.r&&(je.r={a:0,k:je.r}))}return function($e){if(a(He,$e.v)&&(e($e.layers),$e.assets)){var je,Ye=$e.assets.length;for(je=0;je<Ye;je+=1)$e.assets[je].layers&&e($e.assets[je].layers)}}}(),ti=function(){var He=[4,1,9];function e(He){var $e,je,Ye,ti=He.length;for($e=0;$e<ti;$e+=1)if("gr"===He[$e].ty)e(He[$e].it);else if("fl"===He[$e].ty||"st"===He[$e].ty)if(He[$e].c.k&&He[$e].c.k[0].i)for(Ye=He[$e].c.k.length,je=0;je<Ye;je+=1)He[$e].c.k[je].s&&(He[$e].c.k[je].s[0]/=255,He[$e].c.k[je].s[1]/=255,He[$e].c.k[je].s[2]/=255,He[$e].c.k[je].s[3]/=255),He[$e].c.k[je].e&&(He[$e].c.k[je].e[0]/=255,He[$e].c.k[je].e[1]/=255,He[$e].c.k[je].e[2]/=255,He[$e].c.k[je].e[3]/=255);else He[$e].c.k[0]/=255,He[$e].c.k[1]/=255,He[$e].c.k[2]/=255,He[$e].c.k[3]/=255}function i(He){var $e,je=He.length;for($e=0;$e<je;$e+=1)4===He[$e].ty&&e(He[$e].shapes)}return function($e){if(a(He,$e.v)&&(i($e.layers),$e.assets)){var je,Ye=$e.assets.length;for(je=0;je<Ye;je+=1)$e.assets[je].layers&&i($e.assets[je].layers)}}}(),mi=function(){var He=[4,4,18];function e(He){var $e,je,Ye;for($e=He.length-1;$e>=0;$e-=1)if("sh"===He[$e].ty)if(He[$e].ks.k.i)He[$e].ks.k.c=He[$e].closed;else for(Ye=He[$e].ks.k.length,je=0;je<Ye;je+=1)He[$e].ks.k[je].s&&(He[$e].ks.k[je].s[0].c=He[$e].closed),He[$e].ks.k[je].e&&(He[$e].ks.k[je].e[0].c=He[$e].closed);else"gr"===He[$e].ty&&e(He[$e].it)}function i(He){var $e,je,Ye,ti,mi,_i,Pi=He.length;for(je=0;je<Pi;je+=1){if(($e=He[je]).hasMask){var Mi=$e.masksProperties;for(ti=Mi.length,Ye=0;Ye<ti;Ye+=1)if(Mi[Ye].pt.k.i)Mi[Ye].pt.k.c=Mi[Ye].cl;else for(_i=Mi[Ye].pt.k.length,mi=0;mi<_i;mi+=1)Mi[Ye].pt.k[mi].s&&(Mi[Ye].pt.k[mi].s[0].c=Mi[Ye].cl),Mi[Ye].pt.k[mi].e&&(Mi[Ye].pt.k[mi].e[0].c=Mi[Ye].cl)}4===$e.ty&&e($e.shapes)}}return function($e){if(a(He,$e.v)&&(i($e.layers),$e.assets)){var je,Ye=$e.assets.length;for(je=0;je<Ye;je+=1)$e.assets[je].layers&&i($e.assets[je].layers)}}}();function d(He){0===He.t.a.length&&He.t.p}var _i={completeData:function(He){He.__complete||(ti(He),$e(He),je(He),Ye(He),mi(He),t(He.layers,He.assets),function(He,$e){if(He){var je=0,Ye=He.length;for(je=0;je<Ye;je+=1)1===He[je].t&&(He[je].data.layers=e(He[je].data.refId,$e),t(He[je].data.layers,$e))}}(He.chars,He.assets),He.__complete=!0)}};return _i.checkColors=ti,_i.checkChars=je,_i.checkPathProperties=Ye,_i.checkShapes=mi,_i.completeLayers=t,_i}()),_i.assetLoader||(_i.assetLoader=function(){function t(He){var $e=He.getResponseHeader("content-type");return $e&&"json"===He.responseType&&-1!==$e.indexOf("json")||He.response&&"object"===G(He.response)?He.response:He.response&&"string"==typeof He.response?JSON.parse(He.response):He.responseText?JSON.parse(He.responseText):null}return{load:function(He,$e,je,Ye){var ti,mi=new XMLHttpRequest;try{mi.responseType="json"}catch(He){}mi.onreadystatechange=function(){if(4===mi.readyState)if(200===mi.status)ti=t(mi),je(ti);else try{ti=t(mi),je(ti)}catch(He){Ye&&Ye(He)}};try{mi.open(["G","E","T"].join(""),He,!0)}catch(je){mi.open(["G","E","T"].join(""),$e+"/"+He,!0)}mi.send()}}}()),"loadAnimation"===He.data.type)_i.assetLoader.load(He.data.path,He.data.fullPath,(function($e){_i.dataManager.completeData($e),_i.postMessage({id:He.data.id,payload:$e,status:"success"})}),(function(){_i.postMessage({id:He.data.id,status:"error"})}));else if("complete"===He.data.type){var $e=He.data.animation;_i.dataManager.completeData($e),_i.postMessage({id:He.data.id,payload:$e,status:"success"})}else"loadData"===He.data.type&&_i.assetLoader.load(He.data.path,He.data.fullPath,(function($e){_i.postMessage({id:He.data.id,payload:$e,status:"success"})}),(function(){_i.postMessage({id:He.data.id,status:"error"})}))}))).onmessage=function(He){var $e=He.data,je=$e.id,Ye=ti[je];ti[je]=null,"success"===$e.status?Ye.onComplete($e.payload):Ye.onError&&Ye.onError()})}function l(He,$e){var je="processId_"+(Ye+=1);return ti[je]={onComplete:He,onError:$e},je}return{loadAnimation:function(He,$e,Ye){h();var ti=l($e,Ye);je.postMessage({type:"loadAnimation",path:He,fullPath:window.location.origin+window.location.pathname,id:ti})},loadData:function(He,$e,Ye){h();var ti=l($e,Ye);je.postMessage({type:"loadData",path:He,fullPath:window.location.origin+window.location.pathname,id:ti})},completeAnimation:function(He,$e,Ye){h();var ti=l($e,Ye);je.postMessage({type:"complete",animation:He,id:ti})}}}(),Yi=function(){var He=function(){var He=a("canvas");He.width=1,He.height=1;var $e=He.getContext("2d");return $e.fillStyle="rgba(0,0,0,0)",$e.fillRect(0,0,1,1),He}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(He,$e,je){var Ye="";if(He.e)Ye=He.p;else if($e){var ti=He.p;-1!==ti.indexOf("images/")&&(ti=ti.split("/")[1]),Ye=$e+ti}else Ye=je,Ye+=He.u?He.u:"",Ye+=He.p;return Ye}function s(He){var $e=0,je=setInterval(function(){(He.getBBox().width||$e>500)&&(this._imageLoaded(),clearInterval(je)),$e+=1}.bind(this),50)}function n(He){var $e={assetData:He},je=r(He,this.assetsPath,this.path);return ji.loadData(je,function(He){$e.img=He,this._footageLoaded()}.bind(this),function(){$e.img={},this._footageLoaded()}.bind(this)),$e}function o(){this._imageLoaded=e.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=n.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return o.prototype={loadAssets:function(He,$e){var je;this.imagesLoadedCb=$e;var Ye=He.length;for(je=0;je<Ye;je+=1)He[je].layers||(He[je].t&&"seq"!==He[je].t?3===He[je].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(He[je]))):(this.totalImages+=1,this.images.push(this._createImageData(He[je]))))},setAssetsPath:function(He){this.assetsPath=He||""},setPath:function(He){this.path=He||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(He){for(var $e=0,je=this.images.length;$e<je;){if(this.images[$e].assetData===He)return this.images[$e].img;$e+=1}return null},createImgData:function($e){var je=r($e,this.assetsPath,this.path),Ye=a("img");Ye.crossOrigin="anonymous",Ye.addEventListener("load",this._imageLoaded,!1),Ye.addEventListener("error",function(){ti.img=He,this._imageLoaded()}.bind(this),!1),Ye.src=je;var ti={img:Ye,assetData:$e};return ti},createImageData:function($e){var je=r($e,this.assetsPath,this.path),Ye=U("image");Mi?this.testImageLoaded(Ye):Ye.addEventListener("load",this._imageLoaded,!1),Ye.addEventListener("error",function(){ti.img=He,this._imageLoaded()}.bind(this),!1),Ye.setAttributeNS("http://www.w3.org/1999/xlink","href",je),this._elementHelper.append?this._elementHelper.append(Ye):this._elementHelper.appendChild(Ye);var ti={img:Ye,assetData:$e};return ti},imageLoaded:e,footageLoaded:i,setCacheType:function(He,$e){"svg"===He?(this._elementHelper=$e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},o}();function Y(){}Y.prototype={triggerEvent:function(He,$e){if(this._cbs[He])for(var je=this._cbs[He],Ye=0;Ye<je.length;Ye+=1)je[Ye]($e)},addEventListener:function(He,$e){return this._cbs[He]||(this._cbs[He]=[]),this._cbs[He].push($e),function(){this.removeEventListener(He,$e)}.bind(this)},removeEventListener:function(He,$e){if($e){if(this._cbs[He]){for(var je=0,Ye=this._cbs[He].length;je<Ye;)this._cbs[He][je]===$e&&(this._cbs[He].splice(je,1),je-=1,Ye-=1),je+=1;this._cbs[He].length||(this._cbs[He]=null)}}else this._cbs[He]=null}};var qi=function(){function t(He){for(var $e,je=He.split("\r\n"),Ye={},ti=0,mi=0;mi<je.length;mi+=1)2===($e=je[mi].split(":")).length&&(Ye[$e[0]]=$e[1].trim(),ti+=1);if(0===ti)throw new Error;return Ye}return function(He){for(var $e=[],je=0;je<He.length;je+=1){var Ye=He[je],ti={time:Ye.tm,duration:Ye.dr};try{ti.payload=JSON.parse(He[je].cm)}catch($e){try{ti.payload=t(He[je].cm)}catch($e){ti.payload={name:He[je].cm}}}$e.push(ti)}return $e}}(),Xi=function(){function t(He){this.compositions.push(He)}return function(){function e(He){for(var $e=0,je=this.compositions.length;$e<je;){if(this.compositions[$e].data&&this.compositions[$e].data.nm===He)return this.compositions[$e].prepareFrame&&this.compositions[$e].data.xt&&this.compositions[$e].prepareFrame(this.currentFrame),this.compositions[$e].compInterface;$e+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),lr={};function z(He){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(He){return typeof He}:function(He){return He&&"function"==typeof Symbol&&He.constructor===Symbol&&He!==Symbol.prototype?"symbol":typeof He})(He)}var q=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!0,this.loop=!0,this.renderer=null,this.animationID=Ki(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=mi,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=Xi(),this.imagePreloader=new Yi,this.audioController=Ye(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new C("drawnFrame",0,0,0),this.expressionsPlugin=P()};s([Y],q),q.prototype.setParams=function(He){(He.wrapper||He.container)&&(this.wrapper=He.wrapper||He.container);var $e="svg";He.animType?$e=He.animType:He.renderer&&($e=He.renderer);var je=lr[$e];this.renderer=new je(this,He.rendererSettings),this.imagePreloader.setCacheType($e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=$e,""===He.loop||null===He.loop||void 0===He.loop||!0===He.loop?this.loop=!0:!1===He.loop?this.loop=!1:this.loop=parseInt(He.loop,10),this.autoplay=!("autoplay"in He)||He.autoplay,this.name=He.name?He.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(He,"autoloadSegments")||He.autoloadSegments,this.assetsPath=He.assetsPath,this.initialSegment=He.initialSegment,He.audioFactory&&this.audioController.setAudioFactory(He.audioFactory),He.animationData?this.setupAnimation(He.animationData):He.path&&(-1!==He.path.lastIndexOf("\\")?this.path=He.path.substr(0,He.path.lastIndexOf("\\")+1):this.path=He.path.substr(0,He.path.lastIndexOf("/")+1),this.fileName=He.path.substr(He.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),ji.loadAnimation(He.path,this.configAnimation,this.onSetupError))},q.prototype.onSetupError=function(){this.trigger("data_failed")},q.prototype.setupAnimation=function(He){ji.completeAnimation(He,this.configAnimation)},q.prototype.setData=function(He,$e){$e&&"object"!==z($e)&&($e=JSON.parse($e));var je={wrapper:He,animationData:$e},Ye=He.attributes;je.path=Ye.getNamedItem("data-animation-path")?Ye.getNamedItem("data-animation-path").value:Ye.getNamedItem("data-bm-path")?Ye.getNamedItem("data-bm-path").value:Ye.getNamedItem("bm-path")?Ye.getNamedItem("bm-path").value:"",je.animType=Ye.getNamedItem("data-anim-type")?Ye.getNamedItem("data-anim-type").value:Ye.getNamedItem("data-bm-type")?Ye.getNamedItem("data-bm-type").value:Ye.getNamedItem("bm-type")?Ye.getNamedItem("bm-type").value:Ye.getNamedItem("data-bm-renderer")?Ye.getNamedItem("data-bm-renderer").value:Ye.getNamedItem("bm-renderer")?Ye.getNamedItem("bm-renderer").value:function(){if(lr.canvas)return"canvas";for(var He in lr)if(lr[He])return He;return""}()||"canvas";var ti=Ye.getNamedItem("data-anim-loop")?Ye.getNamedItem("data-anim-loop").value:Ye.getNamedItem("data-bm-loop")?Ye.getNamedItem("data-bm-loop").value:Ye.getNamedItem("bm-loop")?Ye.getNamedItem("bm-loop").value:"";"false"===ti?je.loop=!1:"true"===ti?je.loop=!0:""!==ti&&(je.loop=parseInt(ti,10));var mi=Ye.getNamedItem("data-anim-autoplay")?Ye.getNamedItem("data-anim-autoplay").value:Ye.getNamedItem("data-bm-autoplay")?Ye.getNamedItem("data-bm-autoplay").value:!Ye.getNamedItem("bm-autoplay")||Ye.getNamedItem("bm-autoplay").value;je.autoplay="false"!==mi,je.name=Ye.getNamedItem("data-name")?Ye.getNamedItem("data-name").value:Ye.getNamedItem("data-bm-name")?Ye.getNamedItem("data-bm-name").value:Ye.getNamedItem("bm-name")?Ye.getNamedItem("bm-name").value:"","false"===(Ye.getNamedItem("data-anim-prerender")?Ye.getNamedItem("data-anim-prerender").value:Ye.getNamedItem("data-bm-prerender")?Ye.getNamedItem("data-bm-prerender").value:Ye.getNamedItem("bm-prerender")?Ye.getNamedItem("bm-prerender").value:"")&&(je.prerender=!1),je.path?this.setParams(je):this.trigger("destroy")},q.prototype.includeLayers=function(He){He.op>this.animationData.op&&(this.animationData.op=He.op,this.totalFrames=Math.floor(He.op-this.animationData.ip));var $e,je,Ye=this.animationData.layers,ti=Ye.length,mi=He.layers,_i=mi.length;for(je=0;je<_i;je+=1)for($e=0;$e<ti;){if(Ye[$e].id===mi[je].id){Ye[$e]=mi[je];break}$e+=1}if((He.chars||He.fonts)&&(this.renderer.globalData.fontManager.addChars(He.chars),this.renderer.globalData.fontManager.addFonts(He.fonts,this.renderer.globalData.defs)),He.assets)for(ti=He.assets.length,$e=0;$e<ti;$e+=1)this.animationData.assets.push(He.assets[$e]);this.animationData.__complete=!1,ji.completeAnimation(this.animationData,this.onSegmentComplete)},q.prototype.onSegmentComplete=function(He){this.animationData=He;var $e=P();$e&&$e.initExpressions(this),this.loadNextSegment()},q.prototype.loadNextSegment=function(){var He=this.animationData.segments;if(!He||0===He.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var $e=He.shift();this.timeCompleted=$e.time*this.frameRate;var je=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,ji.loadData(je,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},q.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},q.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},q.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},q.prototype.configAnimation=function(He){if(this.renderer)try{this.animationData=He,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(He),He.assets||(He.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(He.assets),this.markers=qi(He.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(He){this.triggerConfigError(He)}},q.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},q.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var He=P();He&&He.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},q.prototype.resize=function(He,$e){var je="number"==typeof He?He:void 0,Ye="number"==typeof $e?$e:void 0;this.renderer.updateContainerSize(je,Ye)},q.prototype.setSubframe=function(He){this.isSubframeEnabled=!!He},q.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},q.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(He){this.triggerRenderFrameError(He)}},q.prototype.play=function(He){He&&this.name!==He||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},q.prototype.pause=function(He){He&&this.name!==He||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},q.prototype.togglePause=function(He){He&&this.name!==He||(!0===this.isPaused?this.play():this.pause())},q.prototype.stop=function(He){He&&this.name!==He||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},q.prototype.getMarkerData=function(He){for(var $e,je=0;je<this.markers.length;je+=1)if(($e=this.markers[je]).payload&&$e.payload.name===He)return $e;return null},q.prototype.goToAndStop=function(He,$e,je){if(!je||this.name===je){var Ye=Number(He);if(isNaN(Ye)){var ti=this.getMarkerData(He);ti&&this.goToAndStop(ti.time,!0)}else $e?this.setCurrentRawFrameValue(He):this.setCurrentRawFrameValue(He*this.frameModifier);this.pause()}},q.prototype.goToAndPlay=function(He,$e,je){if(!je||this.name===je){var Ye=Number(He);if(isNaN(Ye)){var ti=this.getMarkerData(He);ti&&(ti.duration?this.playSegments([ti.time,ti.time+ti.duration],!0):this.goToAndStop(ti.time,!0))}else this.goToAndStop(Ye,$e,je);this.play()}},q.prototype.advanceTime=function(He){if(!0!==this.isPaused&&!1!==this.isLoaded){var $e=this.currentRawFrame+He*this.frameModifier,je=!1;$e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?$e>=this.totalFrames?(this.playCount+=1,this.checkSegments($e%this.totalFrames)||(this.setCurrentRawFrameValue($e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue($e):this.checkSegments($e>this.totalFrames?$e%this.totalFrames:0)||(je=!0,$e=this.totalFrames-1):$e<0?this.checkSegments($e%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(je=!0,$e=0):(this.setCurrentRawFrameValue(this.totalFrames+$e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue($e),je&&(this.setCurrentRawFrameValue($e),this.pause(),this.trigger("complete"))}},q.prototype.adjustSegment=function(He,$e){this.playCount=0,He[1]<He[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=He[0]-He[1],this.timeCompleted=this.totalFrames,this.firstFrame=He[1],this.setCurrentRawFrameValue(this.totalFrames-.001-$e)):He[1]>He[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=He[1]-He[0],this.timeCompleted=this.totalFrames,this.firstFrame=He[0],this.setCurrentRawFrameValue(.001+$e)),this.trigger("segmentStart")},q.prototype.setSegment=function(He,$e){var je=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<He?je=He:this.currentRawFrame+this.firstFrame>$e&&(je=$e-He)),this.firstFrame=He,this.totalFrames=$e-He,this.timeCompleted=this.totalFrames,-1!==je&&this.goToAndStop(je,!0)},q.prototype.playSegments=function(He,$e){if($e&&(this.segments.length=0),"object"===z(He[0])){var je,Ye=He.length;for(je=0;je<Ye;je+=1)this.segments.push(He[je])}else this.segments.push(He);this.segments.length&&$e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},q.prototype.resetSegments=function(He){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),He&&this.checkSegments(0)},q.prototype.checkSegments=function(He){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),He),!0)},q.prototype.destroy=function(He){He&&this.name!==He||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},q.prototype.setCurrentRawFrameValue=function(He){this.currentRawFrame=He,this.gotoFrame()},q.prototype.setSpeed=function(He){this.playSpeed=He,this.updaFrameModifier()},q.prototype.setDirection=function(He){this.playDirection=He<0?-1:1,this.updaFrameModifier()},q.prototype.setLoop=function(He){this.loop=He},q.prototype.setVolume=function(He,$e){$e&&this.name!==$e||this.audioController.setVolume(He)},q.prototype.getVolume=function(){return this.audioController.getVolume()},q.prototype.mute=function(He){He&&this.name!==He||this.audioController.mute()},q.prototype.unmute=function(He){He&&this.name!==He||this.audioController.unmute()},q.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},q.prototype.getPath=function(){return this.path},q.prototype.getAssetsPath=function(He){var $e="";if(He.e)$e=He.p;else if(this.assetsPath){var je=He.p;-1!==je.indexOf("images/")&&(je=je.split("/")[1]),$e=this.assetsPath+je}else $e=this.path,$e+=He.u?He.u:"",$e+=He.p;return $e},q.prototype.getAssetData=function(He){for(var $e=0,je=this.assets.length;$e<je;){if(He===this.assets[$e].id)return this.assets[$e];$e+=1}return null},q.prototype.hide=function(){this.renderer.hide()},q.prototype.show=function(){this.renderer.show()},q.prototype.getDuration=function(He){return He?this.totalFrames:this.totalFrames/this.frameRate},q.prototype.updateDocumentData=function(He,$e,je){try{this.renderer.getElementByPath(He).updateDocumentData($e,je)}catch(He){}},q.prototype.trigger=function(He){if(this._cbs&&this._cbs[He])switch(He){case"enterFrame":this.triggerEvent(He,new C(He,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(He,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(He,new k(He,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(He,new B(He,this.frameMult));break;case"segmentStart":this.triggerEvent(He,new x(He,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(He,new w(He,this));break;default:this.triggerEvent(He)}"enterFrame"===He&&this.onEnterFrame&&this.onEnterFrame.call(this,new C(He,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===He&&this.onLoopComplete&&this.onLoopComplete.call(this,new k(He,this.loop,this.playCount,this.frameMult)),"complete"===He&&this.onComplete&&this.onComplete.call(this,new B(He,this.frameMult)),"segmentStart"===He&&this.onSegmentStart&&this.onSegmentStart.call(this,new x(He,this.firstFrame,this.totalFrames)),"destroy"===He&&this.onDestroy&&this.onDestroy.call(this,new w(He,this))},q.prototype.triggerRenderFrameError=function(He){var $e=new Q(He,this.currentFrame);this.triggerEvent("error",$e),this.onError&&this.onError.call(this,$e)},q.prototype.triggerConfigError=function(He){var $e=new S(He,this.currentFrame);this.triggerEvent("error",$e),this.onError&&this.onError.call(this,$e)};var hr=function(){var He={},$e=[],je=0,Ye=0,ti=0,mi=!0,_i=!1;function h(He){for(var je=0,ti=He.target;je<Ye;)$e[je].animation===ti&&($e.splice(je,1),je-=1,Ye-=1,ti.isPaused||d()),je+=1}function l(He,je){if(!He)return null;for(var ti=0;ti<Ye;){if($e[ti].elem===He&&null!==$e[ti].elem)return $e[ti].animation;ti+=1}var mi=new q;return u(mi,He),mi.setData(He,je),mi}function A(){ti+=1,f()}function d(){ti-=1}function u(He,je){He.addEventListener("destroy",h),He.addEventListener("_active",A),He.addEventListener("_idle",d),$e.push({elem:je,animation:He}),Ye+=1}function c(He){var Pi,Mi=He-je;for(Pi=0;Pi<Ye;Pi+=1)$e[Pi].animation.advanceTime(Mi);je=He,ti&&!_i?window.requestAnimationFrame(c):mi=!0}function g(He){je=He,window.requestAnimationFrame(c)}function f(){!_i&&ti&&mi&&(window.requestAnimationFrame(g),mi=!1)}return He.registerAnimation=l,He.loadAnimation=function(He){var $e=new q;return u($e,null),$e.setParams(He),$e},He.setSpeed=function(He,je){var ti;for(ti=0;ti<Ye;ti+=1)$e[ti].animation.setSpeed(He,je)},He.setDirection=function(He,je){var ti;for(ti=0;ti<Ye;ti+=1)$e[ti].animation.setDirection(He,je)},He.play=function(He){var je;for(je=0;je<Ye;je+=1)$e[je].animation.play(He)},He.pause=function(He){var je;for(je=0;je<Ye;je+=1)$e[je].animation.pause(He)},He.stop=function(He){var je;for(je=0;je<Ye;je+=1)$e[je].animation.stop(He)},He.togglePause=function(He){var je;for(je=0;je<Ye;je+=1)$e[je].animation.togglePause(He)},He.searchAnimations=function(He,$e,je){var Ye,ti=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),mi=ti.length;for(Ye=0;Ye<mi;Ye+=1)je&&ti[Ye].setAttribute("data-bm-type",je),l(ti[Ye],He);if($e&&0===mi){je||(je="svg");var _i=document.getElementsByTagName("body")[0];_i.innerText="";var Pi=a("div");Pi.style.width="100%",Pi.style.height="100%",Pi.setAttribute("data-bm-type",je),_i.appendChild(Pi),l(Pi,He)}},He.resize=function(){var He;for(He=0;He<Ye;He+=1)$e[He].animation.resize()},He.goToAndStop=function(He,je,ti){var mi;for(mi=0;mi<Ye;mi+=1)$e[mi].animation.goToAndStop(He,je,ti)},He.destroy=function(He){var je;for(je=Ye-1;je>=0;je-=1)$e[je].animation.destroy(He)},He.freeze=function(){_i=!0},He.unfreeze=function(){_i=!1,f()},He.setVolume=function(He,je){var ti;for(ti=0;ti<Ye;ti+=1)$e[ti].animation.setVolume(He,je)},He.mute=function(He){var je;for(je=0;je<Ye;je+=1)$e[je].animation.mute(He)},He.unmute=function(He){var je;for(je=0;je<Ye;je+=1)$e[je].animation.unmute(He)},He.getRegisteredAnimations=function(){var He,je=$e.length,Ye=[];for(He=0;He<je;He+=1)Ye.push($e[He].animation);return Ye},He}(),dr=function(){var He={getBezierEasing:function(He,je,Ye,ti,mi){var _i=mi||("bez_"+He+"_"+je+"_"+Ye+"_"+ti).replace(/\./g,"p");if($e[_i])return $e[_i];var Pi=new l([He,je,Ye,ti]);return $e[_i]=Pi,Pi}},$e={},je=.1,Ye="function"==typeof Float32Array;function a(He,$e){return 1-3*$e+3*He}function s(He,$e){return 3*$e-6*He}function n(He){return 3*He}function o(He,$e,je){return((a($e,je)*He+s($e,je))*He+n($e))*He}function h(He,$e,je){return 3*a($e,je)*He*He+2*s($e,je)*He+n($e)}function l(He){this._p=He,this._mSampleValues=Ye?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(He){var $e=this._p[0],je=this._p[1],Ye=this._p[2],ti=this._p[3];return this._precomputed||this._precompute(),$e===je&&Ye===ti?He:0===He?0:1===He?1:o(this._getTForX(He),je,ti)},_precompute:function(){var He=this._p[0],$e=this._p[1],je=this._p[2],Ye=this._p[3];this._precomputed=!0,He===$e&&je===Ye||this._calcSampleValues()},_calcSampleValues:function(){for(var He=this._p[0],$e=this._p[2],Ye=0;Ye<11;++Ye)this._mSampleValues[Ye]=o(Ye*je,He,$e)},_getTForX:function(He){for(var $e=this._p[0],Ye=this._p[2],ti=this._mSampleValues,mi=0,_i=1;10!==_i&&ti[_i]<=He;++_i)mi+=je;var Pi=mi+(He-ti[--_i])/(ti[_i+1]-ti[_i])*je,Mi=h(Pi,$e,Ye);return Mi>=.001?function(He,$e,je,Ye){for(var ti=0;ti<4;++ti){var mi=h($e,je,Ye);if(0===mi)return $e;$e-=(o($e,je,Ye)-He)/mi}return $e}(He,Pi,$e,Ye):0===Mi?Pi:function(He,$e,je,Ye,ti){var mi,_i,Pi=0;do{(mi=o(_i=$e+(je-$e)/2,Ye,ti)-He)>0?je=_i:$e=_i}while(Math.abs(mi)>1e-7&&++Pi<10);return _i}(He,mi,mi+je,$e,Ye)}},He}(),Z_double=function(He){return He.concat(l(He.length))},X=function(He,$e,je){var Ye=0,ti=He,mi=l(ti);return{newElement:function(){return Ye?mi[Ye-=1]:$e()},release:function(He){Ye===ti&&(mi=Z_double(mi),ti*=2),je&&je(He),mi[Ye]=He,Ye+=1}}},ur=X(8,(function(){return{addedLength:0,percents:ti("float32",N()),lengths:ti("float32",N())}})),vr=X(8,(function(){return{lengths:[],totalLength:0}}),(function(He){var $e,je=He.lengths.length;for($e=0;$e<je;$e+=1)ur.release(He.lengths[$e]);He.lengths.length=0})),yr=function(){var He=Math;function e(He,$e,je,Ye,ti,mi){var _i=He*Ye+$e*ti+je*mi-ti*Ye-mi*He-je*$e;return _i>-.001&&_i<.001}var i=function(He,$e,je,Ye){var ti,mi,_i,Pi,Mi,Ni,Ui=N(),Gi=0,Vi=[],Hi=[],zi=ur.newElement();for(_i=je.length,ti=0;ti<Ui;ti+=1){for(Mi=ti/(Ui-1),Ni=0,mi=0;mi<_i;mi+=1)Pi=Fi(1-Mi,3)*He[mi]+3*Fi(1-Mi,2)*Mi*je[mi]+3*(1-Mi)*Fi(Mi,2)*Ye[mi]+Fi(Mi,3)*$e[mi],Vi[mi]=Pi,null!==Hi[mi]&&(Ni+=Fi(Vi[mi]-Hi[mi],2)),Hi[mi]=Vi[mi];Ni&&(Gi+=Ni=Oi(Ni)),zi.percents[ti]=Mi,zi.lengths[ti]=Gi}return zi.addedLength=Gi,zi};function r(He){this.segmentLength=0,this.points=new Array(He)}function a(He,$e){this.partialLength=He,this.point=$e}var $e,je=($e={},function(He,je,Ye,ti){var mi=(He[0]+"_"+He[1]+"_"+je[0]+"_"+je[1]+"_"+Ye[0]+"_"+Ye[1]+"_"+ti[0]+"_"+ti[1]).replace(/\./g,"p");if(!$e[mi]){var _i,Pi,Mi,Ni,Ui,Gi,Vi,Hi=N(),zi=0,Ki=null;2===He.length&&(He[0]!==je[0]||He[1]!==je[1])&&e(He[0],He[1],je[0],je[1],He[0]+Ye[0],He[1]+Ye[1])&&e(He[0],He[1],je[0],je[1],je[0]+ti[0],je[1]+ti[1])&&(Hi=2);var ji=new r(Hi);for(Mi=Ye.length,_i=0;_i<Hi;_i+=1){for(Vi=l(Mi),Ui=_i/(Hi-1),Gi=0,Pi=0;Pi<Mi;Pi+=1)Ni=Fi(1-Ui,3)*He[Pi]+3*Fi(1-Ui,2)*Ui*(He[Pi]+Ye[Pi])+3*(1-Ui)*Fi(Ui,2)*(je[Pi]+ti[Pi])+Fi(Ui,3)*je[Pi],Vi[Pi]=Ni,null!==Ki&&(Gi+=Fi(Vi[Pi]-Ki[Pi],2));zi+=Gi=Oi(Gi),ji.points[_i]=new a(Gi,Vi),Ki=Vi}ji.segmentLength=zi,$e[mi]=ji}return $e[mi]});function o(He,$e){var je=$e.percents,Ye=$e.lengths,ti=je.length,mi=Ni((ti-1)*He),_i=He*$e.addedLength,Pi=0;if(mi===ti-1||0===mi||_i===Ye[mi])return je[mi];for(var Mi=Ye[mi]>_i?-1:1,Fi=!0;Fi;)if(Ye[mi]<=_i&&Ye[mi+1]>_i?(Pi=(_i-Ye[mi])/(Ye[mi+1]-Ye[mi]),Fi=!1):mi+=Mi,mi<0||mi>=ti-1){if(mi===ti-1)return je[mi];Fi=!1}return je[mi]+(je[mi+1]-je[mi])*Pi}var Ye=ti("float32",8);return{getSegmentsLength:function(He){var $e,je=vr.newElement(),Ye=He.c,ti=He.v,mi=He.o,_i=He.i,Pi=He._length,Mi=je.lengths,Fi=0;for($e=0;$e<Pi-1;$e+=1)Mi[$e]=i(ti[$e],ti[$e+1],mi[$e],_i[$e+1]),Fi+=Mi[$e].addedLength;return Ye&&Pi&&(Mi[$e]=i(ti[$e],ti[0],mi[$e],_i[0]),Fi+=Mi[$e].addedLength),je.totalLength=Fi,je},getNewSegment:function($e,je,ti,mi,_i,Pi,Mi){_i<0?_i=0:_i>1&&(_i=1);var Fi,Oi=o(_i,Mi),Ni=o(Pi=Pi>1?1:Pi,Mi),Ui=$e.length,Gi=1-Oi,Vi=1-Ni,Hi=Gi*Gi*Gi,zi=Oi*Gi*Gi*3,Ki=Oi*Oi*Gi*3,ji=Oi*Oi*Oi,Yi=Gi*Gi*Vi,qi=Oi*Gi*Vi+Gi*Oi*Vi+Gi*Gi*Ni,Xi=Oi*Oi*Vi+Gi*Oi*Ni+Oi*Gi*Ni,lr=Oi*Oi*Ni,hr=Gi*Vi*Vi,dr=Oi*Vi*Vi+Gi*Ni*Vi+Gi*Vi*Ni,ur=Oi*Ni*Vi+Gi*Ni*Ni+Oi*Vi*Ni,vr=Oi*Ni*Ni,yr=Vi*Vi*Vi,xr=Ni*Vi*Vi+Vi*Ni*Vi+Vi*Vi*Ni,kr=Ni*Ni*Vi+Vi*Ni*Ni+Ni*Vi*Ni,Er=Ni*Ni*Ni;for(Fi=0;Fi<Ui;Fi+=1)Ye[4*Fi]=He.round(1e3*(Hi*$e[Fi]+zi*ti[Fi]+Ki*mi[Fi]+ji*je[Fi]))/1e3,Ye[4*Fi+1]=He.round(1e3*(Yi*$e[Fi]+qi*ti[Fi]+Xi*mi[Fi]+lr*je[Fi]))/1e3,Ye[4*Fi+2]=He.round(1e3*(hr*$e[Fi]+dr*ti[Fi]+ur*mi[Fi]+vr*je[Fi]))/1e3,Ye[4*Fi+3]=He.round(1e3*(yr*$e[Fi]+xr*ti[Fi]+kr*mi[Fi]+Er*je[Fi]))/1e3;return Ye},getPointInSegment:function($e,je,Ye,ti,mi,_i){var Pi=o(mi,_i),Mi=1-Pi;return[He.round(1e3*(Mi*Mi*Mi*$e[0]+(Pi*Mi*Mi+Mi*Pi*Mi+Mi*Mi*Pi)*Ye[0]+(Pi*Pi*Mi+Mi*Pi*Pi+Pi*Mi*Pi)*ti[0]+Pi*Pi*Pi*je[0]))/1e3,He.round(1e3*(Mi*Mi*Mi*$e[1]+(Pi*Mi*Mi+Mi*Pi*Mi+Mi*Mi*Pi)*Ye[1]+(Pi*Pi*Mi+Mi*Pi*Pi+Pi*Mi*Pi)*ti[1]+Pi*Pi*Pi*je[1]))/1e3]},buildBezierData:je,pointOnLine2D:e,pointOnLine3D:function($e,je,Ye,ti,mi,_i,Pi,Mi,Fi){if(0===Ye&&0===_i&&0===Fi)return e($e,je,ti,mi,Pi,Mi);var Oi,Ni=He.sqrt(He.pow(ti-$e,2)+He.pow(mi-je,2)+He.pow(_i-Ye,2)),Ui=He.sqrt(He.pow(Pi-$e,2)+He.pow(Mi-je,2)+He.pow(Fi-Ye,2)),Gi=He.sqrt(He.pow(Pi-ti,2)+He.pow(Mi-mi,2)+He.pow(Fi-_i,2));return(Oi=Ni>Ui?Ni>Gi?Ni-Ui-Gi:Gi-Ui-Ni:Gi>Ui?Gi-Ui-Ni:Ui-Ni-Gi)>-1e-4&&Oi<1e-4}}}(),xr=je,kr=Math.abs;function at(He,$e){var je,Ye=this.offsetTime;"multidimensional"===this.propType&&(je=ti("float32",this.pv.length));for(var mi,_i,Pi,Mi,Fi,Oi,Ni,Ui,Gi,Hi=$e.lastIndex,zi=Hi,Ki=this.keyframes.length-1,ji=!0;ji;){if(mi=this.keyframes[zi],_i=this.keyframes[zi+1],zi===Ki-1&&He>=_i.t-Ye){mi.h&&(mi=_i),Hi=0;break}if(_i.t-Ye>He){Hi=zi;break}zi<Ki-1?zi+=1:(Hi=0,ji=!1)}Pi=this.keyframesMetadata[zi]||{};var Yi,qi,Xi,lr,hr,ur,vr,xr,kr,Er,Tr,Ar,wr,Lr,_r,Cr,Ir,Mr,Fr,Br,Nr,Ur,Hr,Wr,zr,Kr,qr,ta=_i.t-Ye,ea=mi.t-Ye;if(mi.to){Pi.bezierData||(Pi.bezierData=yr.buildBezierData(mi.s,_i.s||mi.e,mi.to,mi.ti));var sa=Pi.bezierData;if(He>=ta||He<ea){var na=He>=ta?sa.points.length-1:0;for(Fi=sa.points[na].point.length,Mi=0;Mi<Fi;Mi+=1)je[Mi]=sa.points[na].point[Mi]}else{Pi.__fnct?Gi=Pi.__fnct:(Gi=dr.getBezierEasing(mi.o.x,mi.o.y,mi.i.x,mi.i.y,mi.n).get,Pi.__fnct=Gi),Oi=Gi((He-ea)/(ta-ea));var oa,la=sa.segmentLength*Oi,ha=$e.lastFrame<He&&$e._lastKeyframeIndex===zi?$e._lastAddedLength:0;for(Ui=$e.lastFrame<He&&$e._lastKeyframeIndex===zi?$e._lastPoint:0,ji=!0,Ni=sa.points.length;ji;){if(ha+=sa.points[Ui].partialLength,0===la||0===Oi||Ui===sa.points.length-1){for(Fi=sa.points[Ui].point.length,Mi=0;Mi<Fi;Mi+=1)je[Mi]=sa.points[Ui].point[Mi];break}if(la>=ha&&la<ha+sa.points[Ui+1].partialLength){for(oa=(la-ha)/sa.points[Ui+1].partialLength,Fi=sa.points[Ui].point.length,Mi=0;Mi<Fi;Mi+=1)je[Mi]=sa.points[Ui].point[Mi]+(sa.points[Ui+1].point[Mi]-sa.points[Ui].point[Mi])*oa;break}Ui<Ni-1?Ui+=1:ji=!1}$e._lastPoint=Ui,$e._lastAddedLength=ha-sa.points[Ui].partialLength,$e._lastKeyframeIndex=zi}}else{var da,ua,ca,fa,pa;if(Ki=mi.s.length,Yi=_i.s||mi.e,this.sh&&1!==mi.h)if(He>=ta)je[0]=Yi[0],je[1]=Yi[1],je[2]=Yi[2];else if(He<=ea)je[0]=mi.s[0],je[1]=mi.s[1],je[2]=mi.s[2];else{var ma=st(mi.s);qi=je,Ar=st(Yi),wr=(He-ea)/(ta-ea),Fr=[],Br=(Tr=ma)[0],Nr=Tr[1],Ur=Tr[2],Hr=Tr[3],(_r=Br*(Wr=Ar[0])+Nr*(zr=Ar[1])+Ur*(Kr=Ar[2])+Hr*(qr=Ar[3]))<0&&(_r=-_r,Wr=-Wr,zr=-zr,Kr=-Kr,qr=-qr),1-_r>1e-6?(Lr=Math.acos(_r),Cr=Math.sin(Lr),Ir=Math.sin((1-wr)*Lr)/Cr,Mr=Math.sin(wr*Lr)/Cr):(Ir=1-wr,Mr=wr),Fr[0]=Ir*Br+Mr*Wr,Fr[1]=Ir*Nr+Mr*zr,Fr[2]=Ir*Ur+Mr*Kr,Fr[3]=Ir*Hr+Mr*qr,lr=(Xi=Fr)[0],hr=Xi[1],ur=Xi[2],vr=Xi[3],xr=Math.atan2(2*hr*vr-2*lr*ur,1-2*hr*hr-2*ur*ur),kr=Math.asin(2*lr*hr+2*ur*vr),Er=Math.atan2(2*lr*vr-2*hr*ur,1-2*lr*lr-2*ur*ur),qi[0]=xr/Vi,qi[1]=kr/Vi,qi[2]=Er/Vi}else for(zi=0;zi<Ki;zi+=1)1!==mi.h&&(He>=ta?Oi=1:He<ea?Oi=0:(mi.o.x.constructor===Array?(Pi.__fnct||(Pi.__fnct=[]),Pi.__fnct[zi]?Gi=Pi.__fnct[zi]:(da=void 0===mi.o.x[zi]?mi.o.x[0]:mi.o.x[zi],ua=void 0===mi.o.y[zi]?mi.o.y[0]:mi.o.y[zi],ca=void 0===mi.i.x[zi]?mi.i.x[0]:mi.i.x[zi],fa=void 0===mi.i.y[zi]?mi.i.y[0]:mi.i.y[zi],Gi=dr.getBezierEasing(da,ua,ca,fa).get,Pi.__fnct[zi]=Gi)):Pi.__fnct?Gi=Pi.__fnct:(da=mi.o.x,ua=mi.o.y,ca=mi.i.x,fa=mi.i.y,Gi=dr.getBezierEasing(da,ua,ca,fa).get,mi.keyframeMetadata=Gi),Oi=Gi((He-ea)/(ta-ea)))),Yi=_i.s||mi.e,pa=1===mi.h?mi.s[zi]:mi.s[zi]+(Yi[zi]-mi.s[zi])*Oi,"multidimensional"===this.propType?je[zi]=pa:je=pa}return $e.lastIndex=Hi,je}function st(He){var $e=He[0]*Vi,je=He[1]*Vi,Ye=He[2]*Vi,ti=Math.cos($e/2),mi=Math.cos(je/2),_i=Math.cos(Ye/2),Pi=Math.sin($e/2),Mi=Math.sin(je/2),Fi=Math.sin(Ye/2);return[Pi*Mi*_i+ti*mi*Fi,Pi*mi*_i+ti*Mi*Fi,ti*Mi*_i-Pi*mi*Fi,ti*mi*_i-Pi*Mi*Fi]}function nt(){var He=this.comp.renderedFrame-this.offsetTime,$e=this.keyframes[0].t-this.offsetTime,je=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(He===this._caching.lastFrame||this._caching.lastFrame!==xr&&(this._caching.lastFrame>=je&&He>=je||this._caching.lastFrame<$e&&He<$e))){this._caching.lastFrame>=He&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Ye=this.interpolateValue(He,this._caching);this.pv=Ye}return this._caching.lastFrame=He,this.pv}function ot(He){var $e;if("unidimensional"===this.propType)$e=He*this.mult,kr(this.v-$e)>1e-5&&(this.v=$e,this._mdf=!0);else for(var je=0,Ye=this.v.length;je<Ye;)$e=He[je]*this.mult,kr(this.v[je]-$e)>1e-5&&(this.v[je]=$e,this._mdf=!0),je+=1}function ht(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var He;this.lock=!0,this._mdf=this._isFirstFrame;var $e=this.effectsSequence.length,je=this.kf?this.pv:this.data.k;for(He=0;He<$e;He+=1)je=this.effectsSequence[He](je);this.setVValue(je),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function lt(He){this.effectsSequence.push(He),this.container.addDynamicProperty(this)}function At(He,$e,je,Ye){this.propType="unidimensional",this.mult=je||1,this.data=$e,this.v=je?$e.k*je:$e.k,this.pv=$e.k,this._mdf=!1,this.elem=He,this.container=Ye,this.comp=He.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=ht,this.setVValue=ot,this.addEffect=lt}function dt(He,$e,je,Ye){var mi;this.propType="multidimensional",this.mult=je||1,this.data=$e,this._mdf=!1,this.elem=He,this.container=Ye,this.comp=He.comp,this.k=!1,this.kf=!1,this.frameId=-1;var _i=$e.k.length;for(this.v=ti("float32",_i),this.pv=ti("float32",_i),this.vel=ti("float32",_i),mi=0;mi<_i;mi+=1)this.v[mi]=$e.k[mi]*this.mult,this.pv[mi]=$e.k[mi];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=ht,this.setVValue=ot,this.addEffect=lt}function ut(He,$e,je,Ye){this.propType="unidimensional",this.keyframes=$e.k,this.keyframesMetadata=[],this.offsetTime=He.data.st,this.frameId=-1,this._caching={lastFrame:xr,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=$e,this.mult=je||1,this.elem=He,this.container=Ye,this.comp=He.comp,this.v=xr,this.pv=xr,this._isFirstFrame=!0,this.getValue=ht,this.setVValue=ot,this.interpolateValue=at,this.effectsSequence=[nt.bind(this)],this.addEffect=lt}function ct(He,$e,je,Ye){var mi;this.propType="multidimensional";var _i,Pi,Mi,Fi,Oi=$e.k.length;for(mi=0;mi<Oi-1;mi+=1)$e.k[mi].to&&$e.k[mi].s&&$e.k[mi+1]&&$e.k[mi+1].s&&(_i=$e.k[mi].s,Pi=$e.k[mi+1].s,Mi=$e.k[mi].to,Fi=$e.k[mi].ti,(2===_i.length&&(_i[0]!==Pi[0]||_i[1]!==Pi[1])&&yr.pointOnLine2D(_i[0],_i[1],Pi[0],Pi[1],_i[0]+Mi[0],_i[1]+Mi[1])&&yr.pointOnLine2D(_i[0],_i[1],Pi[0],Pi[1],Pi[0]+Fi[0],Pi[1]+Fi[1])||3===_i.length&&(_i[0]!==Pi[0]||_i[1]!==Pi[1]||_i[2]!==Pi[2])&&yr.pointOnLine3D(_i[0],_i[1],_i[2],Pi[0],Pi[1],Pi[2],_i[0]+Mi[0],_i[1]+Mi[1],_i[2]+Mi[2])&&yr.pointOnLine3D(_i[0],_i[1],_i[2],Pi[0],Pi[1],Pi[2],Pi[0]+Fi[0],Pi[1]+Fi[1],Pi[2]+Fi[2]))&&($e.k[mi].to=null,$e.k[mi].ti=null),_i[0]===Pi[0]&&_i[1]===Pi[1]&&0===Mi[0]&&0===Mi[1]&&0===Fi[0]&&0===Fi[1]&&(2===_i.length||_i[2]===Pi[2]&&0===Mi[2]&&0===Fi[2])&&($e.k[mi].to=null,$e.k[mi].ti=null));this.effectsSequence=[nt.bind(this)],this.data=$e,this.keyframes=$e.k,this.keyframesMetadata=[],this.offsetTime=He.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=je||1,this.elem=He,this.container=Ye,this.comp=He.comp,this.getValue=ht,this.setVValue=ot,this.interpolateValue=at,this.frameId=-1;var Ni=$e.k[0].s.length;for(this.v=ti("float32",Ni),this.pv=ti("float32",Ni),mi=0;mi<Ni;mi+=1)this.v[mi]=xr,this.pv[mi]=xr;this._caching={lastFrame:xr,lastIndex:0,value:ti("float32",Ni)},this.addEffect=lt}var Er={getProp:function(He,$e,je,Ye,ti){var mi;if($e.sid&&($e=He.globalData.slotManager.getProp($e)),$e.k.length)if("number"==typeof $e.k[0])mi=new dt(He,$e,Ye,ti);else switch(je){case 0:mi=new ut(He,$e,Ye,ti);break;case 1:mi=new ct(He,$e,Ye,ti)}else mi=new At(He,$e,Ye,ti);return mi.effectsSequence.length&&ti.addDynamicProperty(mi),mi}};function ft(){}ft.prototype={addDynamicProperty:function(He){-1===this.dynamicProperties.indexOf(He)&&(this.dynamicProperties.push(He),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var He;this._mdf=!1;var $e=this.dynamicProperties.length;for(He=0;He<$e;He+=1)this.dynamicProperties[He].getValue(),this.dynamicProperties[He]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(He){this.container=He,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var Tr=X(8,(function(){return ti("float32",2)}));function mt(){this.c=!1,this._length=0,this._maxLength=8,this.v=l(this._maxLength),this.o=l(this._maxLength),this.i=l(this._maxLength)}mt.prototype.setPathData=function(He,$e){this.c=He,this.setLength($e);for(var je=0;je<$e;)this.v[je]=Tr.newElement(),this.o[je]=Tr.newElement(),this.i[je]=Tr.newElement(),je+=1},mt.prototype.setLength=function(He){for(;this._maxLength<He;)this.doubleArrayLength();this._length=He},mt.prototype.doubleArrayLength=function(){this.v=this.v.concat(l(this._maxLength)),this.i=this.i.concat(l(this._maxLength)),this.o=this.o.concat(l(this._maxLength)),this._maxLength*=2},mt.prototype.setXYAt=function(He,$e,je,Ye,ti){var mi;switch(this._length=Math.max(this._length,Ye+1),this._length>=this._maxLength&&this.doubleArrayLength(),je){case"v":mi=this.v;break;case"i":mi=this.i;break;case"o":mi=this.o;break;default:mi=[]}(!mi[Ye]||mi[Ye]&&!ti)&&(mi[Ye]=Tr.newElement()),mi[Ye][0]=He,mi[Ye][1]=$e},mt.prototype.setTripleAt=function(He,$e,je,Ye,ti,mi,_i,Pi){this.setXYAt(He,$e,"v",_i,Pi),this.setXYAt(je,Ye,"o",_i,Pi),this.setXYAt(ti,mi,"i",_i,Pi)},mt.prototype.reverse=function(){var He=new mt;He.setPathData(this.c,this._length);var $e=this.v,je=this.o,Ye=this.i,ti=0;this.c&&(He.setTripleAt($e[0][0],$e[0][1],Ye[0][0],Ye[0][1],je[0][0],je[0][1],0,!1),ti=1);var mi,_i=this._length-1,Pi=this._length;for(mi=ti;mi<Pi;mi+=1)He.setTripleAt($e[_i][0],$e[_i][1],Ye[_i][0],Ye[_i][1],je[_i][0],je[_i][1],mi,!1),_i-=1;return He},mt.prototype.length=function(){return this._length};var Ar,wr=((Ar=X(4,(function(){return new mt}),(function(He){var $e,je=He._length;for($e=0;$e<je;$e+=1)Tr.release(He.v[$e]),Tr.release(He.i[$e]),Tr.release(He.o[$e]),He.v[$e]=null,He.i[$e]=null,He.o[$e]=null;He._length=0,He.c=!1}))).clone=function(He){var $e,je=Ar.newElement(),Ye=void 0===He._length?He.v.length:He._length;for(je.setLength(Ye),je.c=He.c,$e=0;$e<Ye;$e+=1)je.setTripleAt(He.v[$e][0],He.v[$e][1],He.o[$e][0],He.o[$e][1],He.i[$e][0],He.i[$e][1],$e);return je},Ar);function yt(){this._length=0,this._maxLength=4,this.shapes=l(this._maxLength)}yt.prototype.addShape=function(He){this._length===this._maxLength&&(this.shapes=this.shapes.concat(l(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=He,this._length+=1},yt.prototype.releaseShapes=function(){var He;for(He=0;He<this._length;He+=1)wr.release(this.shapes[He]);this._length=0};var Lr,_r,Cr,Ir,Mr=(Lr={newShapeCollection:function(){return _r?Ir[_r-=1]:new yt},release:function(He){var $e,je=He._length;for($e=0;$e<je;$e+=1)wr.release(He.shapes[$e]);He._length=0,_r===Cr&&(Ir=Z_double(Ir),Cr*=2),Ir[_r]=He,_r+=1}},_r=0,Ir=l(Cr=4),Lr),Fr=function(){var He=-999999;function e(He,$e,je){var Ye,ti,mi,_i,Pi,Mi,Fi,Oi,Ni,Ui=je.lastIndex,Gi=this.keyframes;if(He<Gi[0].t-this.offsetTime)Ye=Gi[0].s[0],mi=!0,Ui=0;else if(He>=Gi[Gi.length-1].t-this.offsetTime)Ye=Gi[Gi.length-1].s?Gi[Gi.length-1].s[0]:Gi[Gi.length-2].e[0],mi=!0;else{for(var Vi,Hi,zi,Ki=Ui,ji=Gi.length-1,Yi=!0;Yi&&(Vi=Gi[Ki],!((Hi=Gi[Ki+1]).t-this.offsetTime>He));)Ki<ji-1?Ki+=1:Yi=!1;if(zi=this.keyframesMetadata[Ki]||{},Ui=Ki,!(mi=1===Vi.h)){if(He>=Hi.t-this.offsetTime)Oi=1;else if(He<Vi.t-this.offsetTime)Oi=0;else{var qi;zi.__fnct?qi=zi.__fnct:(qi=dr.getBezierEasing(Vi.o.x,Vi.o.y,Vi.i.x,Vi.i.y).get,zi.__fnct=qi),Oi=qi((He-(Vi.t-this.offsetTime))/(Hi.t-this.offsetTime-(Vi.t-this.offsetTime)))}ti=Hi.s?Hi.s[0]:Vi.e[0]}Ye=Vi.s[0]}for(Mi=$e._length,Fi=Ye.i[0].length,je.lastIndex=Ui,_i=0;_i<Mi;_i+=1)for(Pi=0;Pi<Fi;Pi+=1)Ni=mi?Ye.i[_i][Pi]:Ye.i[_i][Pi]+(ti.i[_i][Pi]-Ye.i[_i][Pi])*Oi,$e.i[_i][Pi]=Ni,Ni=mi?Ye.o[_i][Pi]:Ye.o[_i][Pi]+(ti.o[_i][Pi]-Ye.o[_i][Pi])*Oi,$e.o[_i][Pi]=Ni,Ni=mi?Ye.v[_i][Pi]:Ye.v[_i][Pi]+(ti.v[_i][Pi]-Ye.v[_i][Pi])*Oi,$e.v[_i][Pi]=Ni}function i(){var $e=this.comp.renderedFrame-this.offsetTime,je=this.keyframes[0].t-this.offsetTime,Ye=this.keyframes[this.keyframes.length-1].t-this.offsetTime,ti=this._caching.lastFrame;return ti!==He&&(ti<je&&$e<je||ti>Ye&&$e>Ye)||(this._caching.lastIndex=ti<$e?this._caching.lastIndex:0,this.interpolateShape($e,this.pv,this._caching)),this._caching.lastFrame=$e,this.pv}function r(){this.paths=this.localShapeCollection}function a(He){(function(He,$e){if(He._length!==$e._length||He.c!==$e.c)return!1;var je,Ye=He._length;for(je=0;je<Ye;je+=1)if(He.v[je][0]!==$e.v[je][0]||He.v[je][1]!==$e.v[je][1]||He.o[je][0]!==$e.o[je][0]||He.o[je][1]!==$e.o[je][1]||He.i[je][0]!==$e.i[je][0]||He.i[je][1]!==$e.i[je][1])return!1;return!0})(this.v,He)||(this.v=wr.clone(He),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function n(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var He,$e;this.lock=!0,this._mdf=!1,He=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var je=this.effectsSequence.length;for($e=0;$e<je;$e+=1)He=this.effectsSequence[$e](He);this.setVValue(He),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(He,$e,je){this.propType="shape",this.comp=He.comp,this.container=He,this.elem=He,this.data=$e,this.k=!1,this.kf=!1,this._mdf=!1;var Ye=3===je?$e.pt.k:$e.ks.k;this.v=wr.clone(Ye),this.pv=wr.clone(this.v),this.localShapeCollection=Mr.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function h(He){this.effectsSequence.push(He),this.container.addDynamicProperty(this)}function l($e,je,Ye){this.propType="shape",this.comp=$e.comp,this.elem=$e,this.container=$e,this.offsetTime=$e.data.st,this.keyframes=3===Ye?je.pt.k:je.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var ti=this.keyframes[0].s[0].i.length;this.v=wr.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,ti),this.pv=wr.clone(this.v),this.localShapeCollection=Mr.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=He,this.reset=r,this._caching={lastFrame:He,lastIndex:0},this.effectsSequence=[i.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=n,o.prototype.setVValue=a,o.prototype.addEffect=h,l.prototype.getValue=n,l.prototype.interpolateShape=e,l.prototype.setVValue=a,l.prototype.addEffect=h;var $e=function(){var He=Hi;function e(He,$e){this.v=wr.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=Mr.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=$e.d,this.elem=He,this.comp=He.comp,this.frameId=-1,this.initDynamicPropertyContainer(He),this.p=Er.getProp(He,$e.p,1,0,this),this.s=Er.getProp(He,$e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return e.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var $e=this.p.v[0],je=this.p.v[1],Ye=this.s.v[0]/2,ti=this.s.v[1]/2,mi=3!==this.d,_i=this.v;_i.v[0][0]=$e,_i.v[0][1]=je-ti,_i.v[1][0]=mi?$e+Ye:$e-Ye,_i.v[1][1]=je,_i.v[2][0]=$e,_i.v[2][1]=je+ti,_i.v[3][0]=mi?$e-Ye:$e+Ye,_i.v[3][1]=je,_i.i[0][0]=mi?$e-Ye*He:$e+Ye*He,_i.i[0][1]=je-ti,_i.i[1][0]=mi?$e+Ye:$e-Ye,_i.i[1][1]=je-ti*He,_i.i[2][0]=mi?$e+Ye*He:$e-Ye*He,_i.i[2][1]=je+ti,_i.i[3][0]=mi?$e-Ye:$e+Ye,_i.i[3][1]=je+ti*He,_i.o[0][0]=mi?$e+Ye*He:$e-Ye*He,_i.o[0][1]=je-ti,_i.o[1][0]=mi?$e+Ye:$e-Ye,_i.o[1][1]=je+ti*He,_i.o[2][0]=mi?$e-Ye*He:$e+Ye*He,_i.o[2][1]=je+ti,_i.o[3][0]=mi?$e-Ye:$e+Ye,_i.o[3][1]=je-ti*He}},s([ft],e),e}(),je=function(){function t(He,$e){this.v=wr.newElement(),this.v.setPathData(!0,0),this.elem=He,this.comp=He.comp,this.data=$e,this.frameId=-1,this.d=$e.d,this.initDynamicPropertyContainer(He),1===$e.sy?(this.ir=Er.getProp(He,$e.ir,0,0,this),this.is=Er.getProp(He,$e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=Er.getProp(He,$e.pt,0,0,this),this.p=Er.getProp(He,$e.p,1,0,this),this.r=Er.getProp(He,$e.r,0,Vi,this),this.or=Er.getProp(He,$e.or,0,0,this),this.os=Er.getProp(He,$e.os,0,.01,this),this.localShapeCollection=Mr.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var He,$e,je,Ye,ti=2*Math.floor(this.pt.v),mi=2*Math.PI/ti,_i=!0,Pi=this.or.v,Mi=this.ir.v,Fi=this.os.v,Oi=this.is.v,Ni=2*Math.PI*Pi/(2*ti),Ui=2*Math.PI*Mi/(2*ti),Gi=-Math.PI/2;Gi+=this.r.v;var Vi=3===this.data.d?-1:1;for(this.v._length=0,He=0;He<ti;He+=1){je=_i?Fi:Oi,Ye=_i?Ni:Ui;var Hi=($e=_i?Pi:Mi)*Math.cos(Gi),zi=$e*Math.sin(Gi),Ki=0===Hi&&0===zi?0:zi/Math.sqrt(Hi*Hi+zi*zi),ji=0===Hi&&0===zi?0:-Hi/Math.sqrt(Hi*Hi+zi*zi);Hi+=+this.p.v[0],zi+=+this.p.v[1],this.v.setTripleAt(Hi,zi,Hi-Ki*Ye*je*Vi,zi-ji*Ye*je*Vi,Hi+Ki*Ye*je*Vi,zi+ji*Ye*je*Vi,He,!0),_i=!_i,Gi+=mi*Vi}},convertPolygonToPath:function(){var He,$e=Math.floor(this.pt.v),je=2*Math.PI/$e,Ye=this.or.v,ti=this.os.v,mi=2*Math.PI*Ye/(4*$e),_i=.5*-Math.PI,Pi=3===this.data.d?-1:1;for(_i+=this.r.v,this.v._length=0,He=0;He<$e;He+=1){var Mi=Ye*Math.cos(_i),Fi=Ye*Math.sin(_i),Oi=0===Mi&&0===Fi?0:Fi/Math.sqrt(Mi*Mi+Fi*Fi),Ni=0===Mi&&0===Fi?0:-Mi/Math.sqrt(Mi*Mi+Fi*Fi);Mi+=+this.p.v[0],Fi+=+this.p.v[1],this.v.setTripleAt(Mi,Fi,Mi-Oi*mi*ti*Pi,Fi-Ni*mi*ti*Pi,Mi+Oi*mi*ti*Pi,Fi+Ni*mi*ti*Pi,He,!0),_i+=je*Pi}this.paths.length=0,this.paths[0]=this.v}},s([ft],t),t}(),Ye=function(){function t(He,$e){this.v=wr.newElement(),this.v.c=!0,this.localShapeCollection=Mr.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=He,this.comp=He.comp,this.frameId=-1,this.d=$e.d,this.initDynamicPropertyContainer(He),this.p=Er.getProp(He,$e.p,1,0,this),this.s=Er.getProp(He,$e.s,1,0,this),this.r=Er.getProp(He,$e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var He=this.p.v[0],$e=this.p.v[1],je=this.s.v[0]/2,Ye=this.s.v[1]/2,ti=Ui(je,Ye,this.r.v),mi=ti*(1-Hi);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(He+je,$e-Ye+ti,He+je,$e-Ye+ti,He+je,$e-Ye+mi,0,!0),this.v.setTripleAt(He+je,$e+Ye-ti,He+je,$e+Ye-mi,He+je,$e+Ye-ti,1,!0),0!==ti?(this.v.setTripleAt(He+je-ti,$e+Ye,He+je-ti,$e+Ye,He+je-mi,$e+Ye,2,!0),this.v.setTripleAt(He-je+ti,$e+Ye,He-je+mi,$e+Ye,He-je+ti,$e+Ye,3,!0),this.v.setTripleAt(He-je,$e+Ye-ti,He-je,$e+Ye-ti,He-je,$e+Ye-mi,4,!0),this.v.setTripleAt(He-je,$e-Ye+ti,He-je,$e-Ye+mi,He-je,$e-Ye+ti,5,!0),this.v.setTripleAt(He-je+ti,$e-Ye,He-je+ti,$e-Ye,He-je+mi,$e-Ye,6,!0),this.v.setTripleAt(He+je-ti,$e-Ye,He+je-mi,$e-Ye,He+je-ti,$e-Ye,7,!0)):(this.v.setTripleAt(He-je,$e+Ye,He-je+mi,$e+Ye,He-je,$e+Ye,2),this.v.setTripleAt(He-je,$e-Ye,He-je,$e-Ye+mi,He-je,$e-Ye,3))):(this.v.setTripleAt(He+je,$e-Ye+ti,He+je,$e-Ye+mi,He+je,$e-Ye+ti,0,!0),0!==ti?(this.v.setTripleAt(He+je-ti,$e-Ye,He+je-ti,$e-Ye,He+je-mi,$e-Ye,1,!0),this.v.setTripleAt(He-je+ti,$e-Ye,He-je+mi,$e-Ye,He-je+ti,$e-Ye,2,!0),this.v.setTripleAt(He-je,$e-Ye+ti,He-je,$e-Ye+ti,He-je,$e-Ye+mi,3,!0),this.v.setTripleAt(He-je,$e+Ye-ti,He-je,$e+Ye-mi,He-je,$e+Ye-ti,4,!0),this.v.setTripleAt(He-je+ti,$e+Ye,He-je+ti,$e+Ye,He-je+mi,$e+Ye,5,!0),this.v.setTripleAt(He+je-ti,$e+Ye,He+je-mi,$e+Ye,He+je-ti,$e+Ye,6,!0),this.v.setTripleAt(He+je,$e+Ye-ti,He+je,$e+Ye-ti,He+je,$e+Ye-mi,7,!0)):(this.v.setTripleAt(He-je,$e-Ye,He-je+mi,$e-Ye,He-je,$e-Ye,1,!0),this.v.setTripleAt(He-je,$e+Ye,He-je,$e+Ye-mi,He-je,$e+Ye,2,!0),this.v.setTripleAt(He+je,$e+Ye,He+je-mi,$e+Ye,He+je,$e+Ye,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},s([ft],t),t}();return{getShapeProp:function(He,ti,mi){var _i;return 3===mi||4===mi?_i=(3===mi?ti.pt:ti.ks).k.length?new l(He,ti,mi):new o(He,ti,mi):5===mi?_i=new Ye(He,ti):6===mi?_i=new $e(He,ti):7===mi&&(_i=new je(He,ti)),_i.k&&He.addDynamicProperty(_i),_i},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return l}}}(),Br=function(){var He=Math.cos,$e=Math.sin,je=Math.tan,Ye=Math.round;function a(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(je){if(0===je)return this;var Ye=He(je),ti=$e(je);return this._t(Ye,-ti,0,0,ti,Ye,0,0,0,0,1,0,0,0,0,1)}function n(je){if(0===je)return this;var Ye=He(je),ti=$e(je);return this._t(1,0,0,0,0,Ye,-ti,0,0,ti,Ye,0,0,0,0,1)}function o(je){if(0===je)return this;var Ye=He(je),ti=$e(je);return this._t(Ye,0,ti,0,0,1,0,0,-ti,0,Ye,0,0,0,0,1)}function l(je){if(0===je)return this;var Ye=He(je),ti=$e(je);return this._t(Ye,-ti,0,0,ti,Ye,0,0,0,0,1,0,0,0,0,1)}function A(He,$e){return this._t(1,$e,He,1,0,0)}function d(He,$e){return this.shear(je(He),je($e))}function u(Ye,ti){var mi=He(ti),_i=$e(ti);return this._t(mi,_i,0,0,-_i,mi,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,je(Ye),1,0,0,0,0,1,0,0,0,0,1)._t(mi,-_i,0,0,_i,mi,0,0,0,0,1,0,0,0,0,1)}function c(He,$e,je){return je||0===je||(je=1),1===He&&1===$e&&1===je?this:this._t(He,0,0,0,0,$e,0,0,0,0,je,0,0,0,0,1)}function g(He,$e,je,Ye,ti,mi,_i,Pi,Mi,Fi,Oi,Ni,Ui,Gi,Vi,Hi){return this.props[0]=He,this.props[1]=$e,this.props[2]=je,this.props[3]=Ye,this.props[4]=ti,this.props[5]=mi,this.props[6]=_i,this.props[7]=Pi,this.props[8]=Mi,this.props[9]=Fi,this.props[10]=Oi,this.props[11]=Ni,this.props[12]=Ui,this.props[13]=Gi,this.props[14]=Vi,this.props[15]=Hi,this}function f(He,$e,je){return je=je||0,0!==He||0!==$e||0!==je?this._t(1,0,0,0,0,1,0,0,0,0,1,0,He,$e,je,1):this}function p(He,$e,je,Ye,ti,mi,_i,Pi,Mi,Fi,Oi,Ni,Ui,Gi,Vi,Hi){var zi=this.props;if(1===He&&0===$e&&0===je&&0===Ye&&0===ti&&1===mi&&0===_i&&0===Pi&&0===Mi&&0===Fi&&1===Oi&&0===Ni)return zi[12]=zi[12]*He+zi[15]*Ui,zi[13]=zi[13]*mi+zi[15]*Gi,zi[14]=zi[14]*Oi+zi[15]*Vi,zi[15]*=Hi,this._identityCalculated=!1,this;var Ki=zi[0],ji=zi[1],Yi=zi[2],qi=zi[3],Xi=zi[4],lr=zi[5],hr=zi[6],dr=zi[7],ur=zi[8],vr=zi[9],yr=zi[10],xr=zi[11],kr=zi[12],Er=zi[13],Tr=zi[14],Ar=zi[15];return zi[0]=Ki*He+ji*ti+Yi*Mi+qi*Ui,zi[1]=Ki*$e+ji*mi+Yi*Fi+qi*Gi,zi[2]=Ki*je+ji*_i+Yi*Oi+qi*Vi,zi[3]=Ki*Ye+ji*Pi+Yi*Ni+qi*Hi,zi[4]=Xi*He+lr*ti+hr*Mi+dr*Ui,zi[5]=Xi*$e+lr*mi+hr*Fi+dr*Gi,zi[6]=Xi*je+lr*_i+hr*Oi+dr*Vi,zi[7]=Xi*Ye+lr*Pi+hr*Ni+dr*Hi,zi[8]=ur*He+vr*ti+yr*Mi+xr*Ui,zi[9]=ur*$e+vr*mi+yr*Fi+xr*Gi,zi[10]=ur*je+vr*_i+yr*Oi+xr*Vi,zi[11]=ur*Ye+vr*Pi+yr*Ni+xr*Hi,zi[12]=kr*He+Er*ti+Tr*Mi+Ar*Ui,zi[13]=kr*$e+Er*mi+Tr*Fi+Ar*Gi,zi[14]=kr*je+Er*_i+Tr*Oi+Ar*Vi,zi[15]=kr*Ye+Er*Pi+Tr*Ni+Ar*Hi,this._identityCalculated=!1,this}function m(He){var $e=He.props;return this.transform($e[0],$e[1],$e[2],$e[3],$e[4],$e[5],$e[6],$e[7],$e[8],$e[9],$e[10],$e[11],$e[12],$e[13],$e[14],$e[15])}function v(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function E(He){for(var $e=0;$e<16;){if(He.props[$e]!==this.props[$e])return!1;$e+=1}return!0}function y(He){var $e;for($e=0;$e<16;$e+=1)He.props[$e]=this.props[$e];return He}function I(He){var $e;for($e=0;$e<16;$e+=1)this.props[$e]=He[$e]}function C(He,$e,je){return{x:He*this.props[0]+$e*this.props[4]+je*this.props[8]+this.props[12],y:He*this.props[1]+$e*this.props[5]+je*this.props[9]+this.props[13],z:He*this.props[2]+$e*this.props[6]+je*this.props[10]+this.props[14]}}function B(He,$e,je){return He*this.props[0]+$e*this.props[4]+je*this.props[8]+this.props[12]}function k(He,$e,je){return He*this.props[1]+$e*this.props[5]+je*this.props[9]+this.props[13]}function x(He,$e,je){return He*this.props[2]+$e*this.props[6]+je*this.props[10]+this.props[14]}function w(){var He=this.props[0]*this.props[5]-this.props[1]*this.props[4],$e=this.props[5]/He,je=-this.props[1]/He,Ye=-this.props[4]/He,ti=this.props[0]/He,mi=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/He,_i=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/He,Pi=new Br;return Pi.props[0]=$e,Pi.props[1]=je,Pi.props[4]=Ye,Pi.props[5]=ti,Pi.props[12]=mi,Pi.props[13]=_i,Pi}function Q(He){return this.getInverseMatrix().applyToPointArray(He[0],He[1],He[2]||0)}function S(He){var $e,je=He.length,Ye=[];for($e=0;$e<je;$e+=1)Ye[$e]=Q(He[$e]);return Ye}function b(He,$e,je){var Ye=ti("float32",6);if(this.isIdentity())Ye[0]=He[0],Ye[1]=He[1],Ye[2]=$e[0],Ye[3]=$e[1],Ye[4]=je[0],Ye[5]=je[1];else{var mi=this.props[0],_i=this.props[1],Pi=this.props[4],Mi=this.props[5],Fi=this.props[12],Oi=this.props[13];Ye[0]=He[0]*mi+He[1]*Pi+Fi,Ye[1]=He[0]*_i+He[1]*Mi+Oi,Ye[2]=$e[0]*mi+$e[1]*Pi+Fi,Ye[3]=$e[0]*_i+$e[1]*Mi+Oi,Ye[4]=je[0]*mi+je[1]*Pi+Fi,Ye[5]=je[0]*_i+je[1]*Mi+Oi}return Ye}function D(He,$e,je){return this.isIdentity()?[He,$e,je]:[He*this.props[0]+$e*this.props[4]+je*this.props[8]+this.props[12],He*this.props[1]+$e*this.props[5]+je*this.props[9]+this.props[13],He*this.props[2]+$e*this.props[6]+je*this.props[10]+this.props[14]]}function R(He,$e){if(this.isIdentity())return He+","+$e;var je=this.props;return Math.round(100*(He*je[0]+$e*je[4]+je[12]))/100+","+Math.round(100*(He*je[1]+$e*je[5]+je[13]))/100}function L(){for(var He=0,$e=this.props,je="matrix3d(";He<16;)je+=Ye(1e4*$e[He])/1e4,je+=15===He?")":",",He+=1;return je}function T(He){return He<1e-6&&He>0||He>-1e-6&&He<0?Ye(1e4*He)/1e4:He}function M(){var He=this.props;return"matrix("+T(He[0])+","+T(He[1])+","+T(He[4])+","+T(He[5])+","+T(He[12])+","+T(He[13])+")"}return function(){this.reset=a,this.rotate=s,this.rotateX=n,this.rotateY=o,this.rotateZ=l,this.skew=d,this.skewFromAxis=u,this.shear=A,this.scale=c,this.setTransform=g,this.translate=f,this.transform=p,this.multiply=m,this.applyToPoint=C,this.applyToX=B,this.applyToY=k,this.applyToZ=x,this.applyToPointArray=D,this.applyToTriplePoints=b,this.applyToPointStringified=R,this.toCSS=L,this.to2dCSS=M,this.clone=y,this.cloneFromProps=I,this.equals=E,this.inversePoints=S,this.inversePoint=Q,this.getInverseMatrix=w,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=ti("float32",16),this.reset()}}();function St(He){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(He){return typeof He}:function(He){return He&&"function"==typeof Symbol&&He.constructor===Symbol&&He!==Symbol.prototype?"symbol":typeof He})(He)}var Nr={};function Dt(){hr.searchAnimations()}Nr.play=hr.play,Nr.pause=hr.pause,Nr.setLocationHref=function($e){He=$e},Nr.togglePause=hr.togglePause,Nr.setSpeed=hr.setSpeed,Nr.setDirection=hr.setDirection,Nr.stop=hr.stop,Nr.searchAnimations=Dt,Nr.registerAnimation=hr.registerAnimation,Nr.loadAnimation=function(He){return hr.loadAnimation(He)},Nr.setSubframeRendering=function(He){mi=!!He},Nr.resize=hr.resize,Nr.goToAndStop=hr.goToAndStop,Nr.destroy=hr.destroy,Nr.setQuality=function(He){if("string"==typeof He)switch(He){case"high":_(200);break;default:case"medium":_(50);break;case"low":_(10)}else!isNaN(He)&&He>1&&_(He)},Nr.inBrowser=function(){return"undefined"!=typeof navigator},Nr.installPlugin=function(He,$e){"expressions"===He&&(_i=$e)},Nr.freeze=hr.freeze,Nr.unfreeze=hr.unfreeze,Nr.setVolume=hr.setVolume,Nr.mute=hr.mute,Nr.unmute=hr.unmute,Nr.getRegisteredAnimations=hr.getRegisteredAnimations,Nr.useWebWorker=function(He){$e=!!He},Nr.setIDPrefix=function(He){Pi=He},Nr.__getFactory=function(He){switch(He){case"propertyFactory":return Er;case"shapePropertyFactory":return Fr;case"matrix":return Br;default:return null}},Nr.version="5.12.2";var Ur="",Hr=document.getElementsByTagName("script"),Wr=Hr[Hr.length-1]||{src:""};Ur=Wr.src?Wr.src.replace(/^[^\?]+\??/,""):"",function(He){for(var $e=Ur.split("&"),je=0;je<$e.length;je+=1){var Ye=$e[je].split("=");if("renderer"==decodeURIComponent(Ye[0]))return decodeURIComponent(Ye[1])}}();var zr=setInterval((function(){"complete"===document.readyState&&(clearInterval(zr),Dt())}),100);try{"object"===St(d)||(window.bodymovin=Nr)}catch(Kr){}var Kr,qr,ta=(qr={},(Kr={}).registerModifier=function(He,$e){qr[He]||(qr[He]=$e)},Kr.getModifier=function(He,$e,je){return new qr[He]($e,je)},Kr);function Nt(){}function Ut(){}function Gt(){}Nt.prototype.initModifierProperties=function(){},Nt.prototype.addShapeToModifier=function(){},Nt.prototype.addShape=function(He){if(!this.closed){He.sh.container.addDynamicProperty(He.sh);var $e={shape:He.sh,data:He,localShapeCollection:Mr.newShapeCollection()};this.shapes.push($e),this.addShapeToModifier($e),this._isAnimated&&He.setAsAnimated()}},Nt.prototype.init=function(He,$e){this.shapes=[],this.elem=He,this.initDynamicPropertyContainer(He),this.initModifierProperties(He,$e),this.frameId=je,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},Nt.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},s([ft],Nt),s([Nt],Ut),Ut.prototype.initModifierProperties=function(He,$e){this.s=Er.getProp(He,$e.s,0,.01,this),this.e=Er.getProp(He,$e.e,0,.01,this),this.o=Er.getProp(He,$e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=$e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},Ut.prototype.addShapeToModifier=function(He){He.pathsData=[]},Ut.prototype.calculateShapeEdges=function(He,$e,je,Ye,ti){var mi=[];$e<=1?mi.push({s:He,e:$e}):He>=1?mi.push({s:He-1,e:$e-1}):(mi.push({s:He,e:1}),mi.push({s:0,e:$e-1}));var _i,Pi,Mi=[],Fi=mi.length;for(_i=0;_i<Fi;_i+=1){var Oi,Ni;(Pi=mi[_i]).e*ti<Ye||Pi.s*ti>Ye+je||(Oi=Pi.s*ti<=Ye?0:(Pi.s*ti-Ye)/je,Ni=Pi.e*ti>=Ye+je?1:(Pi.e*ti-Ye)/je,Mi.push([Oi,Ni]))}return Mi.length||Mi.push([0,0]),Mi},Ut.prototype.releasePathsData=function(He){var $e,je=He.length;for($e=0;$e<je;$e+=1)vr.release(He[$e]);return He.length=0,He},Ut.prototype.processShapes=function(He){var $e,je,Ye,ti;if(this._mdf||He){var mi=this.o.v%360/360;if(mi<0&&(mi+=1),($e=this.s.v>1?1+mi:this.s.v<0?0+mi:this.s.v+mi)>(je=this.e.v>1?1+mi:this.e.v<0?0+mi:this.e.v+mi)){var _i=$e;$e=je,je=_i}$e=1e-4*Math.round(1e4*$e),je=1e-4*Math.round(1e4*je),this.sValue=$e,this.eValue=je}else $e=this.sValue,je=this.eValue;var Pi,Mi,Fi,Oi,Ni,Ui=this.shapes.length,Gi=0;if(je===$e)for(ti=0;ti<Ui;ti+=1)this.shapes[ti].localShapeCollection.releaseShapes(),this.shapes[ti].shape._mdf=!0,this.shapes[ti].shape.paths=this.shapes[ti].localShapeCollection,this._mdf&&(this.shapes[ti].pathsData.length=0);else if(1===je&&0===$e||0===je&&1===$e){if(this._mdf)for(ti=0;ti<Ui;ti+=1)this.shapes[ti].pathsData.length=0,this.shapes[ti].shape._mdf=!0}else{var Vi,Hi,zi=[];for(ti=0;ti<Ui;ti+=1)if((Vi=this.shapes[ti]).shape._mdf||this._mdf||He||2===this.m){if(Mi=(Ye=Vi.shape.paths)._length,Ni=0,!Vi.shape._mdf&&Vi.pathsData.length)Ni=Vi.totalShapeLength;else{for(Fi=this.releasePathsData(Vi.pathsData),Pi=0;Pi<Mi;Pi+=1)Oi=yr.getSegmentsLength(Ye.shapes[Pi]),Fi.push(Oi),Ni+=Oi.totalLength;Vi.totalShapeLength=Ni,Vi.pathsData=Fi}Gi+=Ni,Vi.shape._mdf=!0}else Vi.shape.paths=Vi.localShapeCollection;var Ki,ji=$e,Yi=je,qi=0;for(ti=Ui-1;ti>=0;ti-=1)if((Vi=this.shapes[ti]).shape._mdf){for((Hi=Vi.localShapeCollection).releaseShapes(),2===this.m&&Ui>1?(Ki=this.calculateShapeEdges($e,je,Vi.totalShapeLength,qi,Gi),qi+=Vi.totalShapeLength):Ki=[[ji,Yi]],Mi=Ki.length,Pi=0;Pi<Mi;Pi+=1){ji=Ki[Pi][0],Yi=Ki[Pi][1],zi.length=0,Yi<=1?zi.push({s:Vi.totalShapeLength*ji,e:Vi.totalShapeLength*Yi}):ji>=1?zi.push({s:Vi.totalShapeLength*(ji-1),e:Vi.totalShapeLength*(Yi-1)}):(zi.push({s:Vi.totalShapeLength*ji,e:Vi.totalShapeLength}),zi.push({s:0,e:Vi.totalShapeLength*(Yi-1)}));var Xi=this.addShapes(Vi,zi[0]);if(zi[0].s!==zi[0].e){if(zi.length>1)if(Vi.shape.paths.shapes[Vi.shape.paths._length-1].c){var lr=Xi.pop();this.addPaths(Xi,Hi),Xi=this.addShapes(Vi,zi[1],lr)}else this.addPaths(Xi,Hi),Xi=this.addShapes(Vi,zi[1]);this.addPaths(Xi,Hi)}}Vi.shape.paths=Hi}}},Ut.prototype.addPaths=function(He,$e){var je,Ye=He.length;for(je=0;je<Ye;je+=1)$e.addShape(He[je])},Ut.prototype.addSegment=function(He,$e,je,Ye,ti,mi,_i){ti.setXYAt($e[0],$e[1],"o",mi),ti.setXYAt(je[0],je[1],"i",mi+1),_i&&ti.setXYAt(He[0],He[1],"v",mi),ti.setXYAt(Ye[0],Ye[1],"v",mi+1)},Ut.prototype.addSegmentFromArray=function(He,$e,je,Ye){$e.setXYAt(He[1],He[5],"o",je),$e.setXYAt(He[2],He[6],"i",je+1),Ye&&$e.setXYAt(He[0],He[4],"v",je),$e.setXYAt(He[3],He[7],"v",je+1)},Ut.prototype.addShapes=function(He,$e,je){var Ye,ti,mi,_i,Pi,Mi,Fi,Oi,Ni=He.pathsData,Ui=He.shape.paths.shapes,Gi=He.shape.paths._length,Vi=0,Hi=[],zi=!0;for(je?(Pi=je._length,Oi=je._length):(je=wr.newElement(),Pi=0,Oi=0),Hi.push(je),Ye=0;Ye<Gi;Ye+=1){for(Mi=Ni[Ye].lengths,je.c=Ui[Ye].c,mi=Ui[Ye].c?Mi.length:Mi.length+1,ti=1;ti<mi;ti+=1)if(Vi+(_i=Mi[ti-1]).addedLength<$e.s)Vi+=_i.addedLength,je.c=!1;else{if(Vi>$e.e){je.c=!1;break}$e.s<=Vi&&$e.e>=Vi+_i.addedLength?(this.addSegment(Ui[Ye].v[ti-1],Ui[Ye].o[ti-1],Ui[Ye].i[ti],Ui[Ye].v[ti],je,Pi,zi),zi=!1):(Fi=yr.getNewSegment(Ui[Ye].v[ti-1],Ui[Ye].v[ti],Ui[Ye].o[ti-1],Ui[Ye].i[ti],($e.s-Vi)/_i.addedLength,($e.e-Vi)/_i.addedLength,Mi[ti-1]),this.addSegmentFromArray(Fi,je,Pi,zi),zi=!1,je.c=!1),Vi+=_i.addedLength,Pi+=1}if(Ui[Ye].c&&Mi.length){if(_i=Mi[ti-1],Vi<=$e.e){var Ki=Mi[ti-1].addedLength;$e.s<=Vi&&$e.e>=Vi+Ki?(this.addSegment(Ui[Ye].v[ti-1],Ui[Ye].o[ti-1],Ui[Ye].i[0],Ui[Ye].v[0],je,Pi,zi),zi=!1):(Fi=yr.getNewSegment(Ui[Ye].v[ti-1],Ui[Ye].v[0],Ui[Ye].o[ti-1],Ui[Ye].i[0],($e.s-Vi)/Ki,($e.e-Vi)/Ki,Mi[ti-1]),this.addSegmentFromArray(Fi,je,Pi,zi),zi=!1,je.c=!1)}else je.c=!1;Vi+=_i.addedLength,Pi+=1}if(je._length&&(je.setXYAt(je.v[Oi][0],je.v[Oi][1],"i",Oi),je.setXYAt(je.v[je._length-1][0],je.v[je._length-1][1],"o",je._length-1)),Vi>$e.e)break;Ye<Gi-1&&(je=wr.newElement(),zi=!0,Hi.push(je),Pi=0)}return Hi},s([Nt],Gt),Gt.prototype.initModifierProperties=function(He,$e){this.getValue=this.processKeys,this.amount=Er.getProp(He,$e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},Gt.prototype.processPath=function(He,$e){var je=$e/100,Ye=[0,0],ti=He._length,mi=0;for(mi=0;mi<ti;mi+=1)Ye[0]+=He.v[mi][0],Ye[1]+=He.v[mi][1];Ye[0]/=ti,Ye[1]/=ti;var _i,Pi,Mi,Fi,Oi,Ni,Ui=wr.newElement();for(Ui.c=He.c,mi=0;mi<ti;mi+=1)_i=He.v[mi][0]+(Ye[0]-He.v[mi][0])*je,Pi=He.v[mi][1]+(Ye[1]-He.v[mi][1])*je,Mi=He.o[mi][0]+(Ye[0]-He.o[mi][0])*-je,Fi=He.o[mi][1]+(Ye[1]-He.o[mi][1])*-je,Oi=He.i[mi][0]+(Ye[0]-He.i[mi][0])*-je,Ni=He.i[mi][1]+(Ye[1]-He.i[mi][1])*-je,Ui.setTripleAt(_i,Pi,Mi,Fi,Oi,Ni,mi);return Ui},Gt.prototype.processShapes=function(He){var $e,je,Ye,ti,mi,_i,Pi=this.shapes.length,Mi=this.amount.v;if(0!==Mi)for(je=0;je<Pi;je+=1){if(_i=(mi=this.shapes[je]).localShapeCollection,mi.shape._mdf||this._mdf||He)for(_i.releaseShapes(),mi.shape._mdf=!0,$e=mi.shape.paths.shapes,ti=mi.shape.paths._length,Ye=0;Ye<ti;Ye+=1)_i.addShape(this.processPath($e[Ye],Mi));mi.shape.paths=mi.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var ea=function(){var He=[0,0];function e(He,$e,je){if(this.elem=He,this.frameId=-1,this.propType="transform",this.data=$e,this.v=new Br,this.pre=new Br,this.appliedTransformations=0,this.initDynamicPropertyContainer(je||He),$e.p&&$e.p.s?(this.px=Er.getProp(He,$e.p.x,0,0,this),this.py=Er.getProp(He,$e.p.y,0,0,this),$e.p.z&&(this.pz=Er.getProp(He,$e.p.z,0,0,this))):this.p=Er.getProp(He,$e.p||{k:[0,0,0]},1,0,this),$e.rx){if(this.rx=Er.getProp(He,$e.rx,0,Vi,this),this.ry=Er.getProp(He,$e.ry,0,Vi,this),this.rz=Er.getProp(He,$e.rz,0,Vi,this),$e.or.k[0].ti){var Ye,ti=$e.or.k.length;for(Ye=0;Ye<ti;Ye+=1)$e.or.k[Ye].to=null,$e.or.k[Ye].ti=null}this.or=Er.getProp(He,$e.or,1,Vi,this),this.or.sh=!0}else this.r=Er.getProp(He,$e.r||{k:0},0,Vi,this);$e.sk&&(this.sk=Er.getProp(He,$e.sk,0,Vi,this),this.sa=Er.getProp(He,$e.sa,0,Vi,this)),this.a=Er.getProp(He,$e.a||{k:[0,0,0]},1,0,this),this.s=Er.getProp(He,$e.s||{k:[100,100,100]},1,.01,this),$e.o?this.o=Er.getProp(He,$e.o,0,.01,He):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(He){var $e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||$e,this.a&&He.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&He.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&He.skewFromAxis(-this.sk.v,this.sa.v),this.r?He.rotate(-this.r.v):He.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?He.translate(this.px.v,this.py.v,-this.pz.v):He.translate(this.px.v,this.py.v,0):He.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function($e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||$e){var je;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Ye,ti;if(je=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Ye=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/je,0),ti=this.p.getValueAtTime(this.p.keyframes[0].t/je,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Ye=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/je,0),ti=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/je,0)):(Ye=this.p.pv,ti=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/je,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Ye=[],ti=[];var mi=this.px,_i=this.py;mi._caching.lastFrame+mi.offsetTime<=mi.keyframes[0].t?(Ye[0]=mi.getValueAtTime((mi.keyframes[0].t+.01)/je,0),Ye[1]=_i.getValueAtTime((_i.keyframes[0].t+.01)/je,0),ti[0]=mi.getValueAtTime(mi.keyframes[0].t/je,0),ti[1]=_i.getValueAtTime(_i.keyframes[0].t/je,0)):mi._caching.lastFrame+mi.offsetTime>=mi.keyframes[mi.keyframes.length-1].t?(Ye[0]=mi.getValueAtTime(mi.keyframes[mi.keyframes.length-1].t/je,0),Ye[1]=_i.getValueAtTime(_i.keyframes[_i.keyframes.length-1].t/je,0),ti[0]=mi.getValueAtTime((mi.keyframes[mi.keyframes.length-1].t-.01)/je,0),ti[1]=_i.getValueAtTime((_i.keyframes[_i.keyframes.length-1].t-.01)/je,0)):(Ye=[mi.pv,_i.pv],ti[0]=mi.getValueAtTime((mi._caching.lastFrame+mi.offsetTime-.01)/je,mi.offsetTime),ti[1]=_i.getValueAtTime((_i._caching.lastFrame+_i.offsetTime-.01)/je,_i.offsetTime))}else Ye=ti=He;this.v.rotate(-Math.atan2(Ye[1]-ti[1],Ye[0]-ti[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},s([ft],e),e.prototype.addDynamicProperty=function(He){this._addDynamicProperty(He),this.elem.addDynamicProperty(He),this._isDirty=!0},e.prototype._addDynamicProperty=ft.prototype.addDynamicProperty,{getTransformProperty:function(He,$e,je){return new e(He,$e,je)}}}();function jt(){}function Yt(){}function Ht(He,$e){return 1e5*Math.abs(He-$e)<=Math.min(Math.abs(He),Math.abs($e))}function Vt(He){return Math.abs(He)<=1e-5}function Kt(He,$e,je){return He*(1-je)+$e*je}function zt(He,$e,je){return[Kt(He[0],$e[0],je),Kt(He[1],$e[1],je)]}function qt(He,$e,je,Ye){return[3*$e-He-3*je+Ye,3*He-6*$e+3*je,-3*He+3*$e,He]}function Wt(He){return new Jt(He,He,He,He,!1)}function Jt(He,$e,je,Ye,ti){ti&&se(He,$e)&&($e=zt(He,Ye,1/3)),ti&&se(je,Ye)&&(je=zt(He,Ye,2/3));var mi=qt(He[0],$e[0],je[0],Ye[0]),_i=qt(He[1],$e[1],je[1],Ye[1]);this.a=[mi[0],_i[0]],this.b=[mi[1],_i[1]],this.c=[mi[2],_i[2]],this.d=[mi[3],_i[3]],this.points=[He,$e,je,Ye]}function Zt(He,$e){var je=He.points[0][$e],Ye=He.points[He.points.length-1][$e];if(je>Ye){var ti=Ye;Ye=je,je=ti}for(var mi=function(He,$e,je){if(0===He)return[];var Ye=$e*$e-4*He*je;if(Ye<0)return[];var ti=-$e/(2*He);if(0===Ye)return[ti];var mi=Math.sqrt(Ye)/(2*He);return[ti-mi,ti+mi]}(3*He.a[$e],2*He.b[$e],He.c[$e]),_i=0;_i<mi.length;_i+=1)if(mi[_i]>0&&mi[_i]<1){var Pi=He.point(mi[_i])[$e];Pi<je?je=Pi:Pi>Ye&&(Ye=Pi)}return{min:je,max:Ye}}function Xt(He,$e,je){var Ye=He.boundingBox();return{cx:Ye.cx,cy:Ye.cy,width:Ye.width,height:Ye.height,bez:He,t:($e+je)/2,t1:$e,t2:je}}function $t(He){var $e=He.bez.split(.5);return[Xt($e[0],He.t1,He.t),Xt($e[1],He.t,He.t2)]}function te(He,$e,je,Ye,ti,mi){var _i,Pi;if(_i=He,Pi=$e,2*Math.abs(_i.cx-Pi.cx)<_i.width+Pi.width&&2*Math.abs(_i.cy-Pi.cy)<_i.height+Pi.height)if(je>=mi||He.width<=Ye&&He.height<=Ye&&$e.width<=Ye&&$e.height<=Ye)ti.push([He.t,$e.t]);else{var Mi=$t(He),Fi=$t($e);te(Mi[0],Fi[0],je+1,Ye,ti,mi),te(Mi[0],Fi[1],je+1,Ye,ti,mi),te(Mi[1],Fi[0],je+1,Ye,ti,mi),te(Mi[1],Fi[1],je+1,Ye,ti,mi)}}function ee(He,$e){return[He[1]*$e[2]-He[2]*$e[1],He[2]*$e[0]-He[0]*$e[2],He[0]*$e[1]-He[1]*$e[0]]}function ie(He,$e,je,Ye){var ti=[He[0],He[1],1],mi=[$e[0],$e[1],1],_i=[je[0],je[1],1],Pi=[Ye[0],Ye[1],1],Mi=ee(ee(ti,mi),ee(_i,Pi));return Vt(Mi[2])?null:[Mi[0]/Mi[2],Mi[1]/Mi[2]]}function re(He,$e,je){return[He[0]+Math.cos($e)*je,He[1]-Math.sin($e)*je]}function ae(He,$e){return Math.hypot(He[0]-$e[0],He[1]-$e[1])}function se(He,$e){return Ht(He[0],$e[0])&&Ht(He[1],$e[1])}function ne(){}function oe(He,$e,je,Ye,ti,mi,_i){var Pi=je-Math.PI/2,Mi=je+Math.PI/2,Fi=$e[0]+Math.cos(je)*Ye*ti,Oi=$e[1]-Math.sin(je)*Ye*ti;He.setTripleAt(Fi,Oi,Fi+Math.cos(Pi)*mi,Oi-Math.sin(Pi)*mi,Fi+Math.cos(Mi)*_i,Oi-Math.sin(Mi)*_i,He.length())}function le(He,$e,je,Ye,ti,mi,_i){var Pi=function he(He,$e){var je,Ye,ti,mi,_i=0===$e?He.length()-1:$e-1,Pi=($e+1)%He.length(),Mi=(je=He.v[_i],ti=[(Ye=He.v[Pi])[0]-je[0],Ye[1]-je[1]],mi=.5*-Math.PI,[Math.cos(mi)*ti[0]-Math.sin(mi)*ti[1],Math.sin(mi)*ti[0]+Math.cos(mi)*ti[1]]);return Math.atan2(0,1)-Math.atan2(Mi[1],Mi[0])}($e,je),Mi=$e.v[je%$e._length],Fi=$e.v[0===je?$e._length-1:je-1],Oi=$e.v[(je+1)%$e._length],Ni=2===mi?Math.sqrt(Math.pow(Mi[0]-Fi[0],2)+Math.pow(Mi[1]-Fi[1],2)):0,Ui=2===mi?Math.sqrt(Math.pow(Mi[0]-Oi[0],2)+Math.pow(Mi[1]-Oi[1],2)):0;oe(He,$e.v[je%$e._length],Pi,_i,Ye,Ui/(2*(ti+1)),Ni/(2*(ti+1)))}function Ae(He,$e,je,Ye,ti,mi){for(var _i=0;_i<Ye;_i+=1){var Pi=(_i+1)/(Ye+1),Mi=2===ti?Math.sqrt(Math.pow($e.points[3][0]-$e.points[0][0],2)+Math.pow($e.points[3][1]-$e.points[0][1],2)):0,Fi=$e.normalAngle(Pi);oe(He,$e.point(Pi),Fi,mi,je,Mi/(2*(Ye+1)),Mi/(2*(Ye+1))),mi=-mi}return mi}function de(He,$e,je){var Ye=Math.atan2($e[0]-He[0],$e[1]-He[1]);return[re(He,Ye,je),re($e,Ye,je)]}function ue(He,$e){var je,Ye,ti,mi,_i,Pi,Mi;je=(Mi=de(He.points[0],He.points[1],$e))[0],Ye=Mi[1],ti=(Mi=de(He.points[1],He.points[2],$e))[0],mi=Mi[1],_i=(Mi=de(He.points[2],He.points[3],$e))[0],Pi=Mi[1];var Fi=ie(je,Ye,ti,mi);null===Fi&&(Fi=Ye);var Oi=ie(_i,Pi,ti,mi);return null===Oi&&(Oi=_i),new Jt(je,Fi,Oi,Pi)}function ce(He,$e,je,Ye,ti){var mi=$e.points[3],_i=je.points[0];if(3===Ye)return mi;if(se(mi,_i))return mi;if(2===Ye){var Pi=-$e.tangentAngle(1),Mi=-je.tangentAngle(0)+Math.PI,Fi=ie(mi,re(mi,Pi+Math.PI/2,100),_i,re(_i,Pi+Math.PI/2,100)),Oi=Fi?ae(Fi,mi):ae(mi,_i)/2,Ni=re(mi,Pi,2*Oi*Hi);return He.setXYAt(Ni[0],Ni[1],"o",He.length()-1),Ni=re(_i,Mi,2*Oi*Hi),He.setTripleAt(_i[0],_i[1],_i[0],_i[1],Ni[0],Ni[1],He.length()),_i}var Ui=ie(se(mi,$e.points[2])?$e.points[0]:$e.points[2],mi,_i,se(_i,je.points[1])?je.points[3]:je.points[1]);return Ui&&ae(Ui,mi)<ti?(He.setTripleAt(Ui[0],Ui[1],Ui[0],Ui[1],Ui[0],Ui[1],He.length()),Ui):mi}function ge(He,$e){var je=He.intersections($e);return je.length&&Ht(je[0][0],1)&&je.shift(),je.length?je[0]:null}function fe(He,$e){var je=He.slice(),Ye=$e.slice(),ti=ge(He[He.length-1],$e[0]);return ti&&(je[He.length-1]=He[He.length-1].split(ti[0])[0],Ye[0]=$e[0].split(ti[1])[1]),He.length>1&&$e.length>1&&(ti=ge(He[0],$e[$e.length-1]))?[[He[0].split(ti[0])[0]],[$e[$e.length-1].split(ti[1])[1]]]:[je,Ye]}function pe(He,$e){var je,Ye,ti,mi,_i=He.inflectionPoints();if(0===_i.length)return[ue(He,$e)];if(1===_i.length||Ht(_i[1],1))return je=(ti=He.split(_i[0]))[0],Ye=ti[1],[ue(je,$e),ue(Ye,$e)];je=(ti=He.split(_i[0]))[0];var Pi=(_i[1]-_i[0])/(1-_i[0]);return mi=(ti=ti[1].split(Pi))[0],Ye=ti[1],[ue(je,$e),ue(mi,$e),ue(Ye,$e)]}function me(){}function ve(He){for(var $e=He.fStyle?He.fStyle.split(" "):[],je="normal",Ye="normal",ti=$e.length,mi=0;mi<ti;mi+=1)switch($e[mi].toLowerCase()){case"italic":Ye="italic";break;case"bold":je="700";break;case"black":je="900";break;case"medium":je="500";break;case"regular":case"normal":je="400";break;case"light":case"thin":je="200"}return{style:Ye,weight:He.fWeight||je}}s([Nt],jt),jt.prototype.initModifierProperties=function(He,$e){this.getValue=this.processKeys,this.c=Er.getProp(He,$e.c,0,null,this),this.o=Er.getProp(He,$e.o,0,null,this),this.tr=ea.getTransformProperty(He,$e.tr,this),this.so=Er.getProp(He,$e.tr.so,0,.01,this),this.eo=Er.getProp(He,$e.tr.eo,0,.01,this),this.data=$e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Br,this.rMatrix=new Br,this.sMatrix=new Br,this.tMatrix=new Br,this.matrix=new Br},jt.prototype.applyTransforms=function(He,$e,je,Ye,ti,mi){var _i=mi?-1:1,Pi=Ye.s.v[0]+(1-Ye.s.v[0])*(1-ti),Mi=Ye.s.v[1]+(1-Ye.s.v[1])*(1-ti);He.translate(Ye.p.v[0]*_i*ti,Ye.p.v[1]*_i*ti,Ye.p.v[2]),$e.translate(-Ye.a.v[0],-Ye.a.v[1],Ye.a.v[2]),$e.rotate(-Ye.r.v*_i*ti),$e.translate(Ye.a.v[0],Ye.a.v[1],Ye.a.v[2]),je.translate(-Ye.a.v[0],-Ye.a.v[1],Ye.a.v[2]),je.scale(mi?1/Pi:Pi,mi?1/Mi:Mi),je.translate(Ye.a.v[0],Ye.a.v[1],Ye.a.v[2])},jt.prototype.init=function(He,$e,je,Ye){for(this.elem=He,this.arr=$e,this.pos=je,this.elemsData=Ye,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(He),this.initModifierProperties(He,$e[je]);je>0;)je-=1,this._elements.unshift($e[je]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},jt.prototype.resetElements=function(He){var $e,je=He.length;for($e=0;$e<je;$e+=1)He[$e]._processed=!1,"gr"===He[$e].ty&&this.resetElements(He[$e].it)},jt.prototype.cloneElements=function(He){var $e=JSON.parse(JSON.stringify(He));return this.resetElements($e),$e},jt.prototype.changeGroupRender=function(He,$e){var je,Ye=He.length;for(je=0;je<Ye;je+=1)He[je]._render=$e,"gr"===He[je].ty&&this.changeGroupRender(He[je].it,$e)},jt.prototype.processShapes=function(He){var $e,je,Ye,ti,mi,_i=!1;if(this._mdf||He){var Pi,Mi=Math.ceil(this.c.v);if(this._groups.length<Mi){for(;this._groups.length<Mi;){var Fi={it:this.cloneElements(this._elements),ty:"gr"};Fi.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Fi),this._groups.splice(0,0,Fi),this._currentCopies+=1}this.elem.reloadShapes(),_i=!0}for(mi=0,Ye=0;Ye<=this._groups.length-1;Ye+=1){if(Pi=mi<Mi,this._groups[Ye]._render=Pi,this.changeGroupRender(this._groups[Ye].it,Pi),!Pi){var Oi=this.elemsData[Ye].it,Ni=Oi[Oi.length-1];0!==Ni.transform.op.v?(Ni.transform.op._mdf=!0,Ni.transform.op.v=0):Ni.transform.op._mdf=!1}mi+=1}this._currentCopies=Mi;var Ui=this.o.v,Gi=Ui%1,Vi=Ui>0?Math.floor(Ui):Math.ceil(Ui),Hi=this.pMatrix.props,zi=this.rMatrix.props,Ki=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var ji,Yi,qi=0;if(Ui>0){for(;qi<Vi;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),qi+=1;Gi&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Gi,!1),qi+=Gi)}else if(Ui<0){for(;qi>Vi;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),qi-=1;Gi&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Gi,!0),qi-=Gi)}for(Ye=1===this.data.m?0:this._currentCopies-1,ti=1===this.data.m?1:-1,mi=this._currentCopies;mi;){if(Yi=(je=($e=this.elemsData[Ye].it)[$e.length-1].transform.mProps.v.props).length,$e[$e.length-1].transform.mProps._mdf=!0,$e[$e.length-1].transform.op._mdf=!0,$e[$e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Ye/(this._currentCopies-1)),0!==qi){for((0!==Ye&&1===ti||Ye!==this._currentCopies-1&&-1===ti)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(zi[0],zi[1],zi[2],zi[3],zi[4],zi[5],zi[6],zi[7],zi[8],zi[9],zi[10],zi[11],zi[12],zi[13],zi[14],zi[15]),this.matrix.transform(Ki[0],Ki[1],Ki[2],Ki[3],Ki[4],Ki[5],Ki[6],Ki[7],Ki[8],Ki[9],Ki[10],Ki[11],Ki[12],Ki[13],Ki[14],Ki[15]),this.matrix.transform(Hi[0],Hi[1],Hi[2],Hi[3],Hi[4],Hi[5],Hi[6],Hi[7],Hi[8],Hi[9],Hi[10],Hi[11],Hi[12],Hi[13],Hi[14],Hi[15]),ji=0;ji<Yi;ji+=1)je[ji]=this.matrix.props[ji];this.matrix.reset()}else for(this.matrix.reset(),ji=0;ji<Yi;ji+=1)je[ji]=this.matrix.props[ji];qi+=1,mi-=1,Ye+=ti}}else for(mi=this._currentCopies,Ye=0,ti=1;mi;)je=($e=this.elemsData[Ye].it)[$e.length-1].transform.mProps.v.props,$e[$e.length-1].transform.mProps._mdf=!1,$e[$e.length-1].transform.op._mdf=!1,mi-=1,Ye+=ti;return _i},jt.prototype.addShape=function(){},s([Nt],Yt),Yt.prototype.initModifierProperties=function(He,$e){this.getValue=this.processKeys,this.rd=Er.getProp(He,$e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},Yt.prototype.processPath=function(He,$e){var je,Ye=wr.newElement();Ye.c=He.c;var ti,mi,_i,Pi,Mi,Fi,Oi,Ni,Ui,Gi,Vi,zi,Ki=He._length,ji=0;for(je=0;je<Ki;je+=1)ti=He.v[je],_i=He.o[je],mi=He.i[je],ti[0]===_i[0]&&ti[1]===_i[1]&&ti[0]===mi[0]&&ti[1]===mi[1]?0!==je&&je!==Ki-1||He.c?(Pi=0===je?He.v[Ki-1]:He.v[je-1],Fi=(Mi=Math.sqrt(Math.pow(ti[0]-Pi[0],2)+Math.pow(ti[1]-Pi[1],2)))?Math.min(Mi/2,$e)/Mi:0,Oi=Vi=ti[0]+(Pi[0]-ti[0])*Fi,Ni=zi=ti[1]-(ti[1]-Pi[1])*Fi,Ui=Oi-(Oi-ti[0])*Hi,Gi=Ni-(Ni-ti[1])*Hi,Ye.setTripleAt(Oi,Ni,Ui,Gi,Vi,zi,ji),ji+=1,Pi=je===Ki-1?He.v[0]:He.v[je+1],Fi=(Mi=Math.sqrt(Math.pow(ti[0]-Pi[0],2)+Math.pow(ti[1]-Pi[1],2)))?Math.min(Mi/2,$e)/Mi:0,Oi=Ui=ti[0]+(Pi[0]-ti[0])*Fi,Ni=Gi=ti[1]+(Pi[1]-ti[1])*Fi,Vi=Oi-(Oi-ti[0])*Hi,zi=Ni-(Ni-ti[1])*Hi,Ye.setTripleAt(Oi,Ni,Ui,Gi,Vi,zi,ji),ji+=1):(Ye.setTripleAt(ti[0],ti[1],_i[0],_i[1],mi[0],mi[1],ji),ji+=1):(Ye.setTripleAt(He.v[je][0],He.v[je][1],He.o[je][0],He.o[je][1],He.i[je][0],He.i[je][1],ji),ji+=1);return Ye},Yt.prototype.processShapes=function(He){var $e,je,Ye,ti,mi,_i,Pi=this.shapes.length,Mi=this.rd.v;if(0!==Mi)for(je=0;je<Pi;je+=1){if(_i=(mi=this.shapes[je]).localShapeCollection,mi.shape._mdf||this._mdf||He)for(_i.releaseShapes(),mi.shape._mdf=!0,$e=mi.shape.paths.shapes,ti=mi.shape.paths._length,Ye=0;Ye<ti;Ye+=1)_i.addShape(this.processPath($e[Ye],Mi));mi.shape.paths=mi.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},Jt.prototype.point=function(He){return[((this.a[0]*He+this.b[0])*He+this.c[0])*He+this.d[0],((this.a[1]*He+this.b[1])*He+this.c[1])*He+this.d[1]]},Jt.prototype.derivative=function(He){return[(3*He*this.a[0]+2*this.b[0])*He+this.c[0],(3*He*this.a[1]+2*this.b[1])*He+this.c[1]]},Jt.prototype.tangentAngle=function(He){var $e=this.derivative(He);return Math.atan2($e[1],$e[0])},Jt.prototype.normalAngle=function(He){var $e=this.derivative(He);return Math.atan2($e[0],$e[1])},Jt.prototype.inflectionPoints=function(){var He=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(Vt(He))return[];var $e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/He,je=$e*$e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/He;if(je<0)return[];var Ye=Math.sqrt(je);return Vt(Ye)?Ye>0&&Ye<1?[$e]:[]:[$e-Ye,$e+Ye].filter((function(He){return He>0&&He<1}))},Jt.prototype.split=function(He){if(He<=0)return[Wt(this.points[0]),this];if(He>=1)return[this,Wt(this.points[this.points.length-1])];var $e=zt(this.points[0],this.points[1],He),je=zt(this.points[1],this.points[2],He),Ye=zt(this.points[2],this.points[3],He),ti=zt($e,je,He),mi=zt(je,Ye,He),_i=zt(ti,mi,He);return[new Jt(this.points[0],$e,ti,_i,!0),new Jt(_i,mi,Ye,this.points[3],!0)]},Jt.prototype.bounds=function(){return{x:Zt(this,0),y:Zt(this,1)}},Jt.prototype.boundingBox=function(){var He=this.bounds();return{left:He.x.min,right:He.x.max,top:He.y.min,bottom:He.y.max,width:He.x.max-He.x.min,height:He.y.max-He.y.min,cx:(He.x.max+He.x.min)/2,cy:(He.y.max+He.y.min)/2}},Jt.prototype.intersections=function(He,$e,je){void 0===$e&&($e=2),void 0===je&&(je=7);var Ye=[];return te(Xt(this,0,1),Xt(He,0,1),0,$e,Ye,je),Ye},Jt.shapeSegment=function(He,$e){var je=($e+1)%He.length();return new Jt(He.v[$e],He.o[$e],He.i[je],He.v[je],!0)},Jt.shapeSegmentInverted=function(He,$e){var je=($e+1)%He.length();return new Jt(He.v[je],He.i[je],He.o[$e],He.v[$e],!0)},s([Nt],ne),ne.prototype.initModifierProperties=function(He,$e){this.getValue=this.processKeys,this.amplitude=Er.getProp(He,$e.s,0,null,this),this.frequency=Er.getProp(He,$e.r,0,null,this),this.pointsType=Er.getProp(He,$e.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ne.prototype.processPath=function(He,$e,je,Ye){var ti=He._length,mi=wr.newElement();if(mi.c=He.c,He.c||(ti-=1),0===ti)return mi;var _i=-1,Pi=Jt.shapeSegment(He,0);le(mi,He,0,$e,je,Ye,_i);for(var Mi=0;Mi<ti;Mi+=1)_i=Ae(mi,Pi,$e,je,Ye,-_i),Pi=Mi!==ti-1||He.c?Jt.shapeSegment(He,(Mi+1)%ti):null,le(mi,He,Mi+1,$e,je,Ye,_i);return mi},ne.prototype.processShapes=function(He){var $e,je,Ye,ti,mi,_i,Pi=this.shapes.length,Mi=this.amplitude.v,Fi=Math.max(0,Math.round(this.frequency.v)),Oi=this.pointsType.v;if(0!==Mi)for(je=0;je<Pi;je+=1){if(_i=(mi=this.shapes[je]).localShapeCollection,mi.shape._mdf||this._mdf||He)for(_i.releaseShapes(),mi.shape._mdf=!0,$e=mi.shape.paths.shapes,ti=mi.shape.paths._length,Ye=0;Ye<ti;Ye+=1)_i.addShape(this.processPath($e[Ye],Mi,Fi,Oi));mi.shape.paths=mi.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},s([Nt],me),me.prototype.initModifierProperties=function(He,$e){this.getValue=this.processKeys,this.amount=Er.getProp(He,$e.a,0,null,this),this.miterLimit=Er.getProp(He,$e.ml,0,null,this),this.lineJoin=$e.lj,this._isAnimated=0!==this.amount.effectsSequence.length},me.prototype.processPath=function(He,$e,je,Ye){var ti=wr.newElement();ti.c=He.c;var mi,_i,Pi,Mi=He.length();He.c||(Mi-=1);var Fi=[];for(mi=0;mi<Mi;mi+=1)Pi=Jt.shapeSegment(He,mi),Fi.push(pe(Pi,$e));if(!He.c)for(mi=Mi-1;mi>=0;mi-=1)Pi=Jt.shapeSegmentInverted(He,mi),Fi.push(pe(Pi,$e));Fi=function(He){for(var $e,je=1;je<He.length;je+=1)$e=fe(He[je-1],He[je]),He[je-1]=$e[0],He[je]=$e[1];return He.length>1&&($e=fe(He[He.length-1],He[0]),He[He.length-1]=$e[0],He[0]=$e[1]),He}(Fi);var Oi=null,Ni=null;for(mi=0;mi<Fi.length;mi+=1){var Ui=Fi[mi];for(Ni&&(Oi=ce(ti,Ni,Ui[0],je,Ye)),Ni=Ui[Ui.length-1],_i=0;_i<Ui.length;_i+=1)Pi=Ui[_i],Oi&&se(Pi.points[0],Oi)?ti.setXYAt(Pi.points[1][0],Pi.points[1][1],"o",ti.length()-1):ti.setTripleAt(Pi.points[0][0],Pi.points[0][1],Pi.points[1][0],Pi.points[1][1],Pi.points[0][0],Pi.points[0][1],ti.length()),ti.setTripleAt(Pi.points[3][0],Pi.points[3][1],Pi.points[3][0],Pi.points[3][1],Pi.points[2][0],Pi.points[2][1],ti.length()),Oi=Pi.points[3]}return Fi.length&&ce(ti,Ni,Fi[0][0],je,Ye),ti},me.prototype.processShapes=function(He){var $e,je,Ye,ti,mi,_i,Pi=this.shapes.length,Mi=this.amount.v,Fi=this.miterLimit.v,Oi=this.lineJoin;if(0!==Mi)for(je=0;je<Pi;je+=1){if(_i=(mi=this.shapes[je]).localShapeCollection,mi.shape._mdf||this._mdf||He)for(_i.releaseShapes(),mi.shape._mdf=!0,$e=mi.shape.paths.shapes,ti=mi.shape.paths._length,Ye=0;Ye<ti;Ye+=1)_i.addShape(this.processPath($e[Ye],Mi,Oi,Fi));mi.shape.paths=mi.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var sa=function(){var He={w:0,size:0,shapes:[],data:{shapes:[]}},$e=[];$e=$e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var je=127988,Ye=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function s(He,$e){var je=a("span");je.setAttribute("aria-hidden",!0),je.style.fontFamily=$e;var Ye=a("span");Ye.innerText="giItT1WQy@!-/#",je.style.position="absolute",je.style.left="-10000px",je.style.top="-10000px",je.style.fontSize="300px",je.style.fontVariant="normal",je.style.fontStyle="normal",je.style.fontWeight="normal",je.style.letterSpacing="0",je.appendChild(Ye),document.body.appendChild(je);var ti=Ye.offsetWidth;return Ye.style.fontFamily=function(He){var $e,je=He.split(","),Ye=je.length,ti=[];for($e=0;$e<Ye;$e+=1)"sans-serif"!==je[$e]&&"monospace"!==je[$e]&&ti.push(je[$e]);return ti.join(",")}(He)+", "+$e,{node:Ye,w:ti,parent:je}}function n(He,$e){var je,Ye=document.body&&$e?"svg":"canvas",ti=ve(He);if("svg"===Ye){var mi=U("text");mi.style.fontSize="100px",mi.setAttribute("font-family",He.fFamily),mi.setAttribute("font-style",ti.style),mi.setAttribute("font-weight",ti.weight),mi.textContent="1",He.fClass?(mi.style.fontFamily="inherit",mi.setAttribute("class",He.fClass)):mi.style.fontFamily=He.fFamily,$e.appendChild(mi),je=mi}else{var _i=new OffscreenCanvas(500,500).getContext("2d");_i.font=ti.style+" "+ti.weight+" 100px "+He.fFamily,je=_i}return{measureText:function(He){return"svg"===Ye?(je.textContent=He,je.getComputedTextLength()):je.measureText(He).width}}}function o(He){var $e=0,je=He.charCodeAt(0);if(je>=55296&&je<=56319){var Ye=He.charCodeAt(1);Ye>=56320&&Ye<=57343&&($e=1024*(je-55296)+Ye-56320+65536)}return $e}function h(He){var $e=o(He);return $e>=127462&&$e<=127487}var l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};l.isModifier=function(He,$e){var je=He.toString(16)+$e.toString(16);return-1!==Ye.indexOf(je)},l.isZeroWidthJoiner=function(He){return 8205===He},l.isFlagEmoji=function(He){return h(He.substr(0,2))&&h(He.substr(2,2))},l.isRegionalCode=h,l.isCombinedCharacter=function(He){return-1!==$e.indexOf(He)},l.isRegionalFlag=function(He,$e){var Ye=o(He.substr($e,2));if(Ye!==je)return!1;var ti=0;for($e+=2;ti<5;){if((Ye=o(He.substr($e,2)))<917601||Ye>917626)return!1;ti+=1,$e+=2}return 917631===o(He.substr($e,2))},l.isVariationSelector=function(He){return 65039===He},l.BLACK_FLAG_CODE_POINT=je;var ti={addChars:function(He){if(He){var $e;this.chars||(this.chars=[]);var je,Ye,ti=He.length,mi=this.chars.length;for($e=0;$e<ti;$e+=1){for(je=0,Ye=!1;je<mi;)this.chars[je].style===He[$e].style&&this.chars[je].fFamily===He[$e].fFamily&&this.chars[je].ch===He[$e].ch&&(Ye=!0),je+=1;Ye||(this.chars.push(He[$e]),mi+=1)}}},addFonts:function(He,$e){if(He){if(this.chars)return this.isLoaded=!0,void(this.fonts=He.list);if(!document.body)return this.isLoaded=!0,He.list.forEach((function(He){He.helper=n(He),He.cache={}})),void(this.fonts=He.list);var je,Ye=He.list,ti=Ye.length,mi=ti;for(je=0;je<ti;je+=1){var _i,Pi,Mi=!0;if(Ye[je].loaded=!1,Ye[je].monoCase=s(Ye[je].fFamily,"monospace"),Ye[je].sansCase=s(Ye[je].fFamily,"sans-serif"),Ye[je].fPath){if("p"===Ye[je].fOrigin||3===Ye[je].origin){if((_i=document.querySelectorAll('style[f-forigin="p"][f-family="'+Ye[je].fFamily+'"], style[f-origin="3"][f-family="'+Ye[je].fFamily+'"]')).length>0&&(Mi=!1),Mi){var Fi=a("style");Fi.setAttribute("f-forigin",Ye[je].fOrigin),Fi.setAttribute("f-origin",Ye[je].origin),Fi.setAttribute("f-family",Ye[je].fFamily),Fi.type="text/css",Fi.innerText="@font-face {font-family: "+Ye[je].fFamily+"; font-style: normal; src: url('"+Ye[je].fPath+"');}",$e.appendChild(Fi)}}else if("g"===Ye[je].fOrigin||1===Ye[je].origin){for(_i=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Pi=0;Pi<_i.length;Pi+=1)-1!==_i[Pi].href.indexOf(Ye[je].fPath)&&(Mi=!1);if(Mi){var Oi=a("link");Oi.setAttribute("f-forigin",Ye[je].fOrigin),Oi.setAttribute("f-origin",Ye[je].origin),Oi.type="text/css",Oi.rel="stylesheet",Oi.href=Ye[je].fPath,document.body.appendChild(Oi)}}else if("t"===Ye[je].fOrigin||2===Ye[je].origin){for(_i=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Pi=0;Pi<_i.length;Pi+=1)Ye[je].fPath===_i[Pi].src&&(Mi=!1);if(Mi){var Ni=a("link");Ni.setAttribute("f-forigin",Ye[je].fOrigin),Ni.setAttribute("f-origin",Ye[je].origin),Ni.setAttribute("rel","stylesheet"),Ni.setAttribute("href",Ye[je].fPath),$e.appendChild(Ni)}}}else Ye[je].loaded=!0,mi-=1;Ye[je].helper=n(Ye[je],$e),Ye[je].cache={},this.fonts.push(Ye[je])}0===mi?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function($e,je,Ye){for(var ti=0,mi=this.chars.length;ti<mi;){if(this.chars[ti].ch===$e&&this.chars[ti].style===je&&this.chars[ti].fFamily===Ye)return this.chars[ti];ti+=1}return("string"==typeof $e&&13!==$e.charCodeAt(0)||!$e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",$e,je,Ye)),He},getFontByName:function(He){for(var $e=0,je=this.fonts.length;$e<je;){if(this.fonts[$e].fName===He)return this.fonts[$e];$e+=1}return this.fonts[0]},measureText:function(He,$e,je){var Ye=this.getFontByName($e),ti=He;if(!Ye.cache[ti]){var mi=Ye.helper;if(" "===He){var _i=mi.measureText("|"+He+"|"),Pi=mi.measureText("||");Ye.cache[ti]=(_i-Pi)/100}else Ye.cache[ti]=mi.measureText(He)/100}return Ye.cache[ti]*je},checkLoadedFonts:function(){var He,$e,je,Ye=this.fonts.length,ti=Ye;for(He=0;He<Ye;He+=1)this.fonts[He].loaded?ti-=1:"n"===this.fonts[He].fOrigin||0===this.fonts[He].origin?this.fonts[He].loaded=!0:($e=this.fonts[He].monoCase.node,je=this.fonts[He].monoCase.w,$e.offsetWidth!==je?(ti-=1,this.fonts[He].loaded=!0):($e=this.fonts[He].sansCase.node,je=this.fonts[He].sansCase.w,$e.offsetWidth!==je&&(ti-=1,this.fonts[He].loaded=!0)),this.fonts[He].loaded&&(this.fonts[He].sansCase.parent.parentNode.removeChild(this.fonts[He].sansCase.parent),this.fonts[He].monoCase.parent.parentNode.removeChild(this.fonts[He].monoCase.parent)));0!==ti&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return l.prototype=ti,l}();function ye(He){this.animationData=He}function Ie(){}ye.prototype.getProp=function(He){return this.animationData.slots&&this.animationData.slots[He.sid]?Object.assign(He,this.animationData.slots[He.sid].p):He},Ie.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(He){-1===this.renderableComponents.indexOf(He)&&this.renderableComponents.push(He)},removeRenderableComponent:function(He){-1!==this.renderableComponents.indexOf(He)&&this.renderableComponents.splice(this.renderableComponents.indexOf(He),1)},prepareRenderableFrame:function(He){this.checkLayerLimits(He)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(He){this.data.ip-this.data.st<=He&&this.data.op-this.data.st>He?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var He,$e=this.renderableComponents.length;for(He=0;He<$e;He+=1)this.renderableComponents[He].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var na,oa=(na={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(He){return na[He]||""});function ke(He,$e,je){this.p=Er.getProp($e,He.v,0,0,je)}function xe(He,$e,je){this.p=Er.getProp($e,He.v,0,0,je)}function we(He,$e,je){this.p=Er.getProp($e,He.v,1,0,je)}function Qe(He,$e,je){this.p=Er.getProp($e,He.v,1,0,je)}function Se(He,$e,je){this.p=Er.getProp($e,He.v,0,0,je)}function be(He,$e,je){this.p=Er.getProp($e,He.v,0,0,je)}function De(He,$e,je){this.p=Er.getProp($e,He.v,0,0,je)}function Re(){this.p={}}function Le(He,$e){var je,Ye=He.ef||[];this.effectElements=[];var ti,mi=Ye.length;for(je=0;je<mi;je+=1)ti=new Te(Ye[je],$e),this.effectElements.push(ti)}function Te(He,$e){this.init(He,$e)}function Me(){}function Fe(){}function Pe(He,$e,je){this.initFrame(),this.initRenderable(),this.assetData=$e.getAssetData(He.refId),this.footageData=$e.imageLoader.getAsset(this.assetData),this.initBaseData(He,$e,je)}function _e(He,$e,je){this.initFrame(),this.initRenderable(),this.assetData=$e.getAssetData(He.refId),this.initBaseData(He,$e,je),this._isPlaying=!1,this._canPlay=!1;var Ye=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Ye),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=He.tm?Er.getProp(this,He.tm,0,$e.frameRate,this):{_placeholder:!0},this.lv=Er.getProp(this,He.au&&He.au.lv?He.au.lv:{k:[100]},1,.01,this)}function Ne(){}function Ge(){}function Oe(He,$e,je){this.data=He,this.element=$e,this.globalData=je,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Ye,ti,mi=this.globalData.defs,_i=this.masksProperties?this.masksProperties.length:0;this.viewData=l(_i),this.solidPath="";var Pi,Mi,Fi,Oi,Ni,Ui,Gi=this.masksProperties,Vi=0,Hi=[],zi=Ki(),ji="clipPath",Yi="clip-path";for(Ye=0;Ye<_i;Ye+=1)if(("a"!==Gi[Ye].mode&&"n"!==Gi[Ye].mode||Gi[Ye].inv||100!==Gi[Ye].o.k||Gi[Ye].o.x)&&(ji="mask",Yi="mask"),"s"!==Gi[Ye].mode&&"i"!==Gi[Ye].mode||0!==Vi?Fi=null:((Fi=U("rect")).setAttribute("fill","#ffffff"),Fi.setAttribute("width",this.element.comp.data.w||0),Fi.setAttribute("height",this.element.comp.data.h||0),Hi.push(Fi)),ti=U("path"),"n"===Gi[Ye].mode)this.viewData[Ye]={op:Er.getProp(this.element,Gi[Ye].o,0,.01,this.element),prop:Fr.getShapeProp(this.element,Gi[Ye],3),elem:ti,lastPath:""},mi.appendChild(ti);else{var qi;if(Vi+=1,ti.setAttribute("fill","s"===Gi[Ye].mode?"#000000":"#ffffff"),ti.setAttribute("clip-rule","nonzero"),0!==Gi[Ye].x.k?(ji="mask",Yi="mask",Ui=Er.getProp(this.element,Gi[Ye].x,0,null,this.element),qi=Ki(),(Oi=U("filter")).setAttribute("id",qi),(Ni=U("feMorphology")).setAttribute("operator","erode"),Ni.setAttribute("in","SourceGraphic"),Ni.setAttribute("radius","0"),Oi.appendChild(Ni),mi.appendChild(Oi),ti.setAttribute("stroke","s"===Gi[Ye].mode?"#000000":"#ffffff")):(Ni=null,Ui=null),this.storedData[Ye]={elem:ti,x:Ui,expan:Ni,lastPath:"",lastOperator:"",filterId:qi,lastRadius:0},"i"===Gi[Ye].mode){Mi=Hi.length;var Xi=U("g");for(Pi=0;Pi<Mi;Pi+=1)Xi.appendChild(Hi[Pi]);var lr=U("mask");lr.setAttribute("mask-type","alpha"),lr.setAttribute("id",zi+"_"+Vi),lr.appendChild(ti),mi.appendChild(lr),Xi.setAttribute("mask","url("+r()+"#"+zi+"_"+Vi+")"),Hi.length=0,Hi.push(Xi)}else Hi.push(ti);Gi[Ye].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Ye]={elem:ti,lastPath:"",op:Er.getProp(this.element,Gi[Ye].o,0,.01,this.element),prop:Fr.getShapeProp(this.element,Gi[Ye],3),invRect:Fi},this.viewData[Ye].prop.k||this.drawPath(Gi[Ye],this.viewData[Ye].prop.v,this.viewData[Ye])}for(this.maskElement=U(ji),_i=Hi.length,Ye=0;Ye<_i;Ye+=1)this.maskElement.appendChild(Hi[Ye]);Vi>0&&(this.maskElement.setAttribute("id",zi),this.element.maskedElement.setAttribute(Yi,"url("+r()+"#"+zi+")"),mi.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}s([ft],Te),Te.prototype.getValue=Te.prototype.iterateDynamicProperties,Te.prototype.init=function(He,$e){var je;this.data=He,this.effectElements=[],this.initDynamicPropertyContainer($e);var Ye,ti=this.data.ef.length,mi=this.data.ef;for(je=0;je<ti;je+=1){switch(Ye=null,mi[je].ty){case 0:Ye=new ke(mi[je],$e,this);break;case 1:Ye=new xe(mi[je],$e,this);break;case 2:Ye=new we(mi[je],$e,this);break;case 3:Ye=new Qe(mi[je],$e,this);break;case 4:case 7:Ye=new De(mi[je],$e,this);break;case 10:Ye=new Se(mi[je],$e,this);break;case 11:Ye=new be(mi[je],$e,this);break;case 5:Ye=new Le(mi[je],$e);break;default:Ye=new Re(mi[je])}Ye&&this.effectElements.push(Ye)}},Me.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var He=0,$e=this.data.masksProperties.length;He<$e;){if("n"!==this.data.masksProperties[He].mode&&!1!==this.data.masksProperties[He].cl)return!0;He+=1}return!1},initExpressions:function(){},setBlendMode:function(){var He=oa(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=He},initBaseData:function(He,$e,je){this.globalData=$e,this.comp=je,this.data=He,this.layerId=Ki(),this.data.sr||(this.data.sr=1),this.effectsManager=new Le(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},Fe.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(He,$e){var je,Ye=this.dynamicProperties.length;for(je=0;je<Ye;je+=1)($e||this._isParent&&"transform"===this.dynamicProperties[je].propType)&&(this.dynamicProperties[je].getValue(),this.dynamicProperties[je]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(He){-1===this.dynamicProperties.indexOf(He)&&this.dynamicProperties.push(He)}},Pe.prototype.prepareFrame=function(){},s([Ie,Me,Fe],Pe),Pe.prototype.getBaseElement=function(){return null},Pe.prototype.renderFrame=function(){},Pe.prototype.destroy=function(){},Pe.prototype.initExpressions=function(){},Pe.prototype.getFootageData=function(){return this.footageData},_e.prototype.prepareFrame=function(He){if(this.prepareRenderableFrame(He,!0),this.prepareProperties(He,!0),this.tm._placeholder)this._currentTime=He/this.data.sr;else{var $e=this.tm.v;this._currentTime=$e}this._volume=this.lv.v[0];var je=this._volume*this._volumeMultiplier;this._previousVolume!==je&&(this._previousVolume=je,this.audio.volume(je))},s([Ie,Me,Fe],_e),_e.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},_e.prototype.show=function(){},_e.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},_e.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},_e.prototype.resume=function(){this._canPlay=!0},_e.prototype.setRate=function(He){this.audio.rate(He)},_e.prototype.volume=function(He){this._volumeMultiplier=He,this._previousVolume=He*this._volume,this.audio.volume(this._previousVolume)},_e.prototype.getBaseElement=function(){return null},_e.prototype.destroy=function(){},_e.prototype.sourceRectAtTime=function(){},_e.prototype.initExpressions=function(){},Ne.prototype.checkLayers=function(He){var $e,je,Ye=this.layers.length;for(this.completeLayers=!0,$e=Ye-1;$e>=0;$e-=1)this.elements[$e]||(je=this.layers[$e]).ip-je.st<=He-this.layers[$e].st&&je.op-je.st>He-this.layers[$e].st&&this.buildItem($e),this.completeLayers=!!this.elements[$e]&&this.completeLayers;this.checkPendingElements()},Ne.prototype.createItem=function(He){switch(He.ty){case 2:return this.createImage(He);case 0:return this.createComp(He);case 1:return this.createSolid(He);case 3:default:return this.createNull(He);case 4:return this.createShape(He);case 5:return this.createText(He);case 6:return this.createAudio(He);case 13:return this.createCamera(He);case 15:return this.createFootage(He)}},Ne.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},Ne.prototype.createAudio=function(He){return new _e(He,this.globalData,this)},Ne.prototype.createFootage=function(He){return new Pe(He,this.globalData,this)},Ne.prototype.buildAllItems=function(){var He,$e=this.layers.length;for(He=0;He<$e;He+=1)this.buildItem(He);this.checkPendingElements()},Ne.prototype.includeLayers=function(He){var $e;this.completeLayers=!1;var je,Ye=He.length,ti=this.layers.length;for($e=0;$e<Ye;$e+=1)for(je=0;je<ti;){if(this.layers[je].id===He[$e].id){this.layers[je]=He[$e];break}je+=1}},Ne.prototype.setProjectInterface=function(He){this.globalData.projectInterface=He},Ne.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},Ne.prototype.buildElementParenting=function(He,$e,je){for(var Ye=this.elements,ti=this.layers,mi=0,_i=ti.length;mi<_i;)ti[mi].ind==$e&&(Ye[mi]&&!0!==Ye[mi]?(je.push(Ye[mi]),Ye[mi].setAsParent(),void 0!==ti[mi].parent?this.buildElementParenting(He,ti[mi].parent,je):He.setHierarchy(je)):(this.buildItem(mi),this.addPendingElement(He))),mi+=1},Ne.prototype.addPendingElement=function(He){this.pendingElements.push(He)},Ne.prototype.searchExtraCompositions=function(He){var $e,je=He.length;for($e=0;$e<je;$e+=1)if(He[$e].xt){var Ye=this.createComp(He[$e]);Ye.initExpressions(),this.globalData.projectInterface.registerComposition(Ye)}},Ne.prototype.getElementById=function(He){var $e,je=this.elements.length;for($e=0;$e<je;$e+=1)if(this.elements[$e].data.ind===He)return this.elements[$e];return null},Ne.prototype.getElementByPath=function(He){var $e,je=He.shift();if("number"==typeof je)$e=this.elements[je];else{var Ye,ti=this.elements.length;for(Ye=0;Ye<ti;Ye+=1)if(this.elements[Ye].data.nm===je){$e=this.elements[Ye];break}}return 0===He.length?$e:$e.getElementByPath(He)},Ne.prototype.setupGlobalData=function(He,$e){this.globalData.fontManager=new sa,this.globalData.slotManager=new ye(He),this.globalData.fontManager.addChars(He.chars),this.globalData.fontManager.addFonts(He.fonts,$e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=He.fr,this.globalData.nm=He.nm,this.globalData.compSize={w:He.w,h:He.h}},Ge.prototype={initTransform:function(){var He=new Br;this.finalTransform={mProp:this.data.ks?ea.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:He,localMat:He,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var He,$e=this.finalTransform.mat,je=0,Ye=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;je<Ye;){if(this.hierarchy[je].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}je+=1}if(this.finalTransform._matMdf)for(He=this.finalTransform.mProp.v.props,$e.cloneFromProps(He),je=0;je<Ye;je+=1)$e.multiply(this.hierarchy[je].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var He=0,$e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;He<$e;)this.localTransforms[He]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[He]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),He+=1;if(this.finalTransform._localMatMdf){var je=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(je),He=1;He<$e;He+=1){var Ye=this.localTransforms[He].matrix;je.multiply(Ye)}je.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var ti=this.finalTransform.localOpacity;for(He=0;He<$e;He+=1)ti*=.01*this.localTransforms[He].opacity;this.finalTransform.localOpacity=ti}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var He=this.renderableEffectsManager.getEffects("transformEFfect");if(He.length){this.localTransforms=[],this.finalTransform.localMat=new Br;var $e=0,je=He.length;for($e=0;$e<je;$e+=1)this.localTransforms.push(He[$e])}}},globalToLocal:function(He){var $e=[];$e.push(this.finalTransform);for(var je,Ye=!0,ti=this.comp;Ye;)ti.finalTransform?(ti.data.hasMask&&$e.splice(0,0,ti.finalTransform),ti=ti.comp):Ye=!1;var mi,_i=$e.length;for(je=0;je<_i;je+=1)mi=$e[je].mat.applyToPointArray(0,0,0),He=[He[0]-mi[0],He[1]-mi[1],0];return He},mHelper:new Br},Oe.prototype.getMaskProperty=function(He){return this.viewData[He].prop},Oe.prototype.renderFrame=function(He){var $e,je=this.element.finalTransform.mat,Ye=this.masksProperties.length;for($e=0;$e<Ye;$e+=1)if((this.viewData[$e].prop._mdf||He)&&this.drawPath(this.masksProperties[$e],this.viewData[$e].prop.v,this.viewData[$e]),(this.viewData[$e].op._mdf||He)&&this.viewData[$e].elem.setAttribute("fill-opacity",this.viewData[$e].op.v),"n"!==this.masksProperties[$e].mode&&(this.viewData[$e].invRect&&(this.element.finalTransform.mProp._mdf||He)&&this.viewData[$e].invRect.setAttribute("transform",je.getInverseMatrix().to2dCSS()),this.storedData[$e].x&&(this.storedData[$e].x._mdf||He))){var ti=this.storedData[$e].expan;this.storedData[$e].x.v<0?("erode"!==this.storedData[$e].lastOperator&&(this.storedData[$e].lastOperator="erode",this.storedData[$e].elem.setAttribute("filter","url("+r()+"#"+this.storedData[$e].filterId+")")),ti.setAttribute("radius",-this.storedData[$e].x.v)):("dilate"!==this.storedData[$e].lastOperator&&(this.storedData[$e].lastOperator="dilate",this.storedData[$e].elem.setAttribute("filter",null)),this.storedData[$e].elem.setAttribute("stroke-width",2*this.storedData[$e].x.v))}},Oe.prototype.getMaskelement=function(){return this.maskElement},Oe.prototype.createLayerSolidPath=function(){var He="M0,0 ";return He+=" h"+this.globalData.compSize.w,He+=" v"+this.globalData.compSize.h,(He+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},Oe.prototype.drawPath=function(He,$e,je){var Ye,ti,mi=" M"+$e.v[0][0]+","+$e.v[0][1];for(ti=$e._length,Ye=1;Ye<ti;Ye+=1)mi+=" C"+$e.o[Ye-1][0]+","+$e.o[Ye-1][1]+" "+$e.i[Ye][0]+","+$e.i[Ye][1]+" "+$e.v[Ye][0]+","+$e.v[Ye][1];if($e.c&&ti>1&&(mi+=" C"+$e.o[Ye-1][0]+","+$e.o[Ye-1][1]+" "+$e.i[0][0]+","+$e.i[0][1]+" "+$e.v[0][0]+","+$e.v[0][1]),je.lastPath!==mi){var _i="";je.elem&&($e.c&&(_i=He.inv?this.solidPath+mi:mi),je.elem.setAttribute("d",_i)),je.lastPath=mi}},Oe.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var la=function(){var He={createFilter:function(He,$e){var je=U("filter");return je.setAttribute("id",He),!0!==$e&&(je.setAttribute("filterUnits","objectBoundingBox"),je.setAttribute("x","0%"),je.setAttribute("y","0%"),je.setAttribute("width","100%"),je.setAttribute("height","100%")),je},createAlphaToLuminanceFilter:function(){var He=U("feColorMatrix");return He.setAttribute("type","matrix"),He.setAttribute("color-interpolation-filters","sRGB"),He.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),He}};return He}(),ha=function(){var He={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(He.maskType=!1),/firefox/i.test(navigator.userAgent)&&(He.svgLumaHidden=!1),He}(),da={},ua="filter_result_";function Ke(He){var $e,je,Ye="SourceGraphic",ti=He.data.ef?He.data.ef.length:0,mi=Ki(),_i=la.createFilter(mi,!0),Pi=0;for(this.filters=[],$e=0;$e<ti;$e+=1){je=null;var Mi=He.data.ef[$e].ty;da[Mi]&&(je=new da[Mi].effect(_i,He.effectsManager.effectElements[$e],He,ua+Pi,Ye),Ye=ua+Pi,da[Mi].countsAsEffect&&(Pi+=1)),je&&this.filters.push(je)}Pi&&(He.globalData.defs.appendChild(_i),He.layerElement.setAttribute("filter","url("+r()+"#"+mi+")")),this.filters.length&&He.addRenderableComponent(this)}function ze(){}function qe(){}function We(){}function Je(He,$e,je){this.assetData=$e.getAssetData(He.refId),this.assetData&&this.assetData.sid&&(this.assetData=$e.slotManager.getProp(this.assetData)),this.initElement(He,$e,je),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function Ze(He,$e){this.elem=He,this.pos=$e}function Xe(){}Ke.prototype.renderFrame=function(He){var $e,je=this.filters.length;for($e=0;$e<je;$e+=1)this.filters[$e].renderFrame(He)},Ke.prototype.getEffects=function(He){var $e,je=this.filters.length,Ye=[];for($e=0;$e<je;$e+=1)this.filters[$e].type===He&&Ye.push(this.filters[$e]);return Ye},ze.prototype={initRendererElement:function(){this.layerElement=U("g")},createContainerElements:function(){this.matteElement=U("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var He=null;if(this.data.td){this.matteMasks={};var $e=U("g");$e.setAttribute("id",this.layerId),$e.appendChild(this.layerElement),He=$e,this.globalData.defs.appendChild($e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),He=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var je=U("clipPath"),Ye=U("path");Ye.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var ti=Ki();if(je.setAttribute("id",ti),je.appendChild(Ye),this.globalData.defs.appendChild(je),this.checkMasks()){var mi=U("g");mi.setAttribute("clip-path","url("+r()+"#"+ti+")"),mi.appendChild(this.layerElement),this.transformedElement=mi,He?He.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+r()+"#"+ti+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new Oe(this.data,this,this.globalData),this.renderableEffectsManager=new Ke(this),this.searchEffectTransforms()},getMatte:function(He){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[He]){var $e,je,Ye,ti,mi=this.layerId+"_"+He;if(1===He||3===He){var _i=U("mask");_i.setAttribute("id",mi),_i.setAttribute("mask-type",3===He?"luminance":"alpha"),(Ye=U("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),_i.appendChild(Ye),this.globalData.defs.appendChild(_i),ha.maskType||1!==He||(_i.setAttribute("mask-type","luminance"),$e=Ki(),je=la.createFilter($e),this.globalData.defs.appendChild(je),je.appendChild(la.createAlphaToLuminanceFilter()),(ti=U("g")).appendChild(Ye),_i.appendChild(ti),ti.setAttribute("filter","url("+r()+"#"+$e+")"))}else if(2===He){var Pi=U("mask");Pi.setAttribute("id",mi),Pi.setAttribute("mask-type","alpha");var Mi=U("g");Pi.appendChild(Mi),$e=Ki(),je=la.createFilter($e);var Fi=U("feComponentTransfer");Fi.setAttribute("in","SourceGraphic"),je.appendChild(Fi);var Oi=U("feFuncA");Oi.setAttribute("type","table"),Oi.setAttribute("tableValues","1.0 0.0"),Fi.appendChild(Oi),this.globalData.defs.appendChild(je);var Ni=U("rect");Ni.setAttribute("width",this.comp.data.w),Ni.setAttribute("height",this.comp.data.h),Ni.setAttribute("x","0"),Ni.setAttribute("y","0"),Ni.setAttribute("fill","#ffffff"),Ni.setAttribute("opacity","0"),Mi.setAttribute("filter","url("+r()+"#"+$e+")"),Mi.appendChild(Ni),(Ye=U("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Mi.appendChild(Ye),ha.maskType||(Pi.setAttribute("mask-type","luminance"),je.appendChild(la.createAlphaToLuminanceFilter()),ti=U("g"),Mi.appendChild(Ni),ti.appendChild(this.layerElement),Mi.appendChild(ti)),this.globalData.defs.appendChild(Pi)}this.matteMasks[He]=mi}return this.matteMasks[He]},setMatte:function(He){this.matteElement&&this.matteElement.setAttribute("mask","url("+r()+"#"+He+")")}},qe.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(He){this.hierarchy=He},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},s([Ie,function n(He){function e(){}return e.prototype=He,e}({initElement:function(He,$e,je){this.initFrame(),this.initBaseData(He,$e,je),this.initTransform(He,$e,je),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(He){this._mdf=!1,this.prepareRenderableFrame(He),this.prepareProperties(He,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],We),s([Me,Ge,ze,qe,Fe,We],Je),Je.prototype.createContent=function(){var He=this.globalData.getAssetsPath(this.assetData);this.innerElem=U("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",He),this.layerElement.appendChild(this.innerElem)},Je.prototype.sourceRectAtTime=function(){return this.sourceRect},Xe.prototype={addShapeToModifiers:function(He){var $e,je=this.shapeModifiers.length;for($e=0;$e<je;$e+=1)this.shapeModifiers[$e].addShape(He)},isShapeInAnimatedModifiers:function(He){for(var $e=this.shapeModifiers.length;0<$e;)if(this.shapeModifiers[0].isAnimatedWithShape(He))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var He,$e=this.shapes.length;for(He=0;He<$e;He+=1)this.shapes[He].sh.reset();for(He=($e=this.shapeModifiers.length)-1;He>=0&&!this.shapeModifiers[He].processShapes(this._isFirstFrame);He-=1);}},searchProcessedElement:function(He){for(var $e=this.processedElements,je=0,Ye=$e.length;je<Ye;){if($e[je].elem===He)return $e[je].pos;je+=1}return 0},addProcessedElement:function(He,$e){for(var je=this.processedElements,Ye=je.length;Ye;)if(je[Ye-=1].elem===He)return void(je[Ye].pos=$e);je.push(new Ze(He,$e))},prepareFrame:function(He){this.prepareRenderableFrame(He),this.prepareProperties(He,this.isInRange)}};var ca={1:"butt",2:"round",3:"square"},fa={1:"miter",2:"round",3:"bevel"};function ei(He,$e,je){this.caches=[],this.styles=[],this.transformers=He,this.lStr="",this.sh=je,this.lvl=$e,this._isAnimated=!!je.k;for(var Ye=0,ti=He.length;Ye<ti;){if(He[Ye].mProps.dynamicProperties.length){this._isAnimated=!0;break}Ye+=1}}function ii(He,$e){this.data=He,this.type=He.ty,this.d="",this.lvl=$e,this._mdf=!1,this.closed=!0===He.hd,this.pElem=U("path"),this.msElem=null}function ri(He,$e,je,Ye){var mi;this.elem=He,this.frameId=-1,this.dataProps=l($e.length),this.renderer=je,this.k=!1,this.dashStr="",this.dashArray=ti("float32",$e.length?$e.length-1:0),this.dashoffset=ti("float32",1),this.initDynamicPropertyContainer(Ye);var _i,Pi=$e.length||0;for(mi=0;mi<Pi;mi+=1)_i=Er.getProp(He,$e[mi].v,0,0,this),this.k=_i.k||this.k,this.dataProps[mi]={n:$e[mi].n,p:_i};this.k||this.getValue(!0),this._isAnimated=this.k}function ai(He,$e,je){this.initDynamicPropertyContainer(He),this.getValue=this.iterateDynamicProperties,this.o=Er.getProp(He,$e.o,0,.01,this),this.w=Er.getProp(He,$e.w,0,null,this),this.d=new ri(He,$e.d||{},"svg",this),this.c=Er.getProp(He,$e.c,1,255,this),this.style=je,this._isAnimated=!!this._isAnimated}function si(He,$e,je){this.initDynamicPropertyContainer(He),this.getValue=this.iterateDynamicProperties,this.o=Er.getProp(He,$e.o,0,.01,this),this.c=Er.getProp(He,$e.c,1,255,this),this.style=je}function ni(He,$e,je){this.initDynamicPropertyContainer(He),this.getValue=this.iterateDynamicProperties,this.style=je}function oi(He,$e,je){this.data=$e,this.c=ti("uint8c",4*$e.p);var Ye=$e.k.k[0].s?$e.k.k[0].s.length-4*$e.p:$e.k.k.length-4*$e.p;this.o=ti("float32",Ye),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Ye,this.initDynamicPropertyContainer(je),this.prop=Er.getProp(He,$e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function hi(He,$e,je){this.initDynamicPropertyContainer(He),this.getValue=this.iterateDynamicProperties,this.initGradientData(He,$e,je)}function li(He,$e,je){this.initDynamicPropertyContainer(He),this.getValue=this.iterateDynamicProperties,this.w=Er.getProp(He,$e.w,0,null,this),this.d=new ri(He,$e.d||{},"svg",this),this.initGradientData(He,$e,je),this._isAnimated=!!this._isAnimated}function Ai(){this.it=[],this.prevViewData=[],this.gr=U("g")}function di(He,$e,je){this.transform={mProps:He,op:$e,container:je},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}ei.prototype.setAsAnimated=function(){this._isAnimated=!0},ii.prototype.reset=function(){this.d="",this._mdf=!1},ri.prototype.getValue=function(He){if((this.elem.globalData.frameId!==this.frameId||He)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||He,this._mdf)){var $e=0,je=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),$e=0;$e<je;$e+=1)"o"!==this.dataProps[$e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[$e].p.v:this.dashArray[$e]=this.dataProps[$e].p.v:this.dashoffset[0]=this.dataProps[$e].p.v}},s([ft],ri),s([ft],ai),s([ft],si),s([ft],ni),oi.prototype.comparePoints=function(He,$e){for(var je=0,Ye=this.o.length/2;je<Ye;){if(Math.abs(He[4*je]-He[4*$e+2*je])>.01)return!1;je+=1}return!0},oi.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var He=0,$e=this.data.k.k.length;He<$e;){if(!this.comparePoints(this.data.k.k[He].s,this.data.p))return!1;He+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},oi.prototype.getValue=function(He){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||He){var $e,je,Ye,ti=4*this.data.p;for($e=0;$e<ti;$e+=1)je=$e%4==0?100:255,Ye=Math.round(this.prop.v[$e]*je),this.c[$e]!==Ye&&(this.c[$e]=Ye,this._cmdf=!He);if(this.o.length)for(ti=this.prop.v.length,$e=4*this.data.p;$e<ti;$e+=1)je=$e%2==0?100:1,Ye=$e%2==0?Math.round(100*this.prop.v[$e]):this.prop.v[$e],this.o[$e-4*this.data.p]!==Ye&&(this.o[$e-4*this.data.p]=Ye,this._omdf=!He);this._mdf=!He}},s([ft],oi),hi.prototype.initGradientData=function(He,$e,je){this.o=Er.getProp(He,$e.o,0,.01,this),this.s=Er.getProp(He,$e.s,1,null,this),this.e=Er.getProp(He,$e.e,1,null,this),this.h=Er.getProp(He,$e.h||{k:0},0,.01,this),this.a=Er.getProp(He,$e.a||{k:0},0,Vi,this),this.g=new oi(He,$e.g,this),this.style=je,this.stops=[],this.setGradientData(je.pElem,$e),this.setGradientOpacity($e,je),this._isAnimated=!!this._isAnimated},hi.prototype.setGradientData=function(He,$e){var je=Ki(),Ye=U(1===$e.t?"linearGradient":"radialGradient");Ye.setAttribute("id",je),Ye.setAttribute("spreadMethod","pad"),Ye.setAttribute("gradientUnits","userSpaceOnUse");var ti,mi,_i,Pi=[];for(_i=4*$e.g.p,mi=0;mi<_i;mi+=4)ti=U("stop"),Ye.appendChild(ti),Pi.push(ti);He.setAttribute("gf"===$e.ty?"fill":"stroke","url("+r()+"#"+je+")"),this.gf=Ye,this.cst=Pi},hi.prototype.setGradientOpacity=function(He,$e){if(this.g._hasOpacity&&!this.g._collapsable){var je,Ye,ti,mi=U("mask"),_i=U("path");mi.appendChild(_i);var Pi=Ki(),Mi=Ki();mi.setAttribute("id",Mi);var Fi=U(1===He.t?"linearGradient":"radialGradient");Fi.setAttribute("id",Pi),Fi.setAttribute("spreadMethod","pad"),Fi.setAttribute("gradientUnits","userSpaceOnUse"),ti=He.g.k.k[0].s?He.g.k.k[0].s.length:He.g.k.k.length;var Oi=this.stops;for(Ye=4*He.g.p;Ye<ti;Ye+=2)(je=U("stop")).setAttribute("stop-color","rgb(255,255,255)"),Fi.appendChild(je),Oi.push(je);_i.setAttribute("gf"===He.ty?"fill":"stroke","url("+r()+"#"+Pi+")"),"gs"===He.ty&&(_i.setAttribute("stroke-linecap",ca[He.lc||2]),_i.setAttribute("stroke-linejoin",fa[He.lj||2]),1===He.lj&&_i.setAttribute("stroke-miterlimit",He.ml)),this.of=Fi,this.ms=mi,this.ost=Oi,this.maskId=Mi,$e.msElem=_i}},s([ft],hi),s([hi,ft],li);var ui=function(He,$e,je,Ye){if(0===$e)return"";var ti,mi=He.o,_i=He.i,Pi=He.v,Mi=" M"+Ye.applyToPointStringified(Pi[0][0],Pi[0][1]);for(ti=1;ti<$e;ti+=1)Mi+=" C"+Ye.applyToPointStringified(mi[ti-1][0],mi[ti-1][1])+" "+Ye.applyToPointStringified(_i[ti][0],_i[ti][1])+" "+Ye.applyToPointStringified(Pi[ti][0],Pi[ti][1]);return je&&$e&&(Mi+=" C"+Ye.applyToPointStringified(mi[ti-1][0],mi[ti-1][1])+" "+Ye.applyToPointStringified(_i[0][0],_i[0][1])+" "+Ye.applyToPointStringified(Pi[0][0],Pi[0][1]),Mi+="z"),Mi},pa=function(){var He=new Br,$e=new Br;function i(He,$e,je){(je||$e.transform.op._mdf)&&$e.transform.container.setAttribute("opacity",$e.transform.op.v),(je||$e.transform.mProps._mdf)&&$e.transform.container.setAttribute("transform",$e.transform.mProps.v.to2dCSS())}function r(){}function a(je,Ye,ti){var mi,_i,Pi,Mi,Fi,Oi,Ni,Ui,Gi,Vi,Hi=Ye.styles.length,zi=Ye.lvl;for(Oi=0;Oi<Hi;Oi+=1){if(Mi=Ye.sh._mdf||ti,Ye.styles[Oi].lvl<zi){for(Ui=$e.reset(),Gi=zi-Ye.styles[Oi].lvl,Vi=Ye.transformers.length-1;!Mi&&Gi>0;)Mi=Ye.transformers[Vi].mProps._mdf||Mi,Gi-=1,Vi-=1;if(Mi)for(Gi=zi-Ye.styles[Oi].lvl,Vi=Ye.transformers.length-1;Gi>0;)Ui.multiply(Ye.transformers[Vi].mProps.v),Gi-=1,Vi-=1}else Ui=He;if(_i=(Ni=Ye.sh.paths)._length,Mi){for(Pi="",mi=0;mi<_i;mi+=1)(Fi=Ni.shapes[mi])&&Fi._length&&(Pi+=ui(Fi,Fi._length,Fi.c,Ui));Ye.caches[Oi]=Pi}else Pi=Ye.caches[Oi];Ye.styles[Oi].d+=!0===je.hd?"":Pi,Ye.styles[Oi]._mdf=Mi||Ye.styles[Oi]._mdf}}function s(He,$e,je){var Ye=$e.style;($e.c._mdf||je)&&Ye.pElem.setAttribute("fill","rgb("+Ni($e.c.v[0])+","+Ni($e.c.v[1])+","+Ni($e.c.v[2])+")"),($e.o._mdf||je)&&Ye.pElem.setAttribute("fill-opacity",$e.o.v)}function n(He,$e,je){o(He,$e,je),h(He,$e,je)}function o(He,$e,je){var Ye,ti,mi,_i,Pi,Mi=$e.gf,Fi=$e.g._hasOpacity,Oi=$e.s.v,Ni=$e.e.v;if($e.o._mdf||je){var Ui="gf"===He.ty?"fill-opacity":"stroke-opacity";$e.style.pElem.setAttribute(Ui,$e.o.v)}if($e.s._mdf||je){var Gi=1===He.t?"x1":"cx",Vi="x1"===Gi?"y1":"cy";Mi.setAttribute(Gi,Oi[0]),Mi.setAttribute(Vi,Oi[1]),Fi&&!$e.g._collapsable&&($e.of.setAttribute(Gi,Oi[0]),$e.of.setAttribute(Vi,Oi[1]))}if($e.g._cmdf||je){Ye=$e.cst;var Hi=$e.g.c;for(mi=Ye.length,ti=0;ti<mi;ti+=1)(_i=Ye[ti]).setAttribute("offset",Hi[4*ti]+"%"),_i.setAttribute("stop-color","rgb("+Hi[4*ti+1]+","+Hi[4*ti+2]+","+Hi[4*ti+3]+")")}if(Fi&&($e.g._omdf||je)){var zi=$e.g.o;for(mi=(Ye=$e.g._collapsable?$e.cst:$e.ost).length,ti=0;ti<mi;ti+=1)_i=Ye[ti],$e.g._collapsable||_i.setAttribute("offset",zi[2*ti]+"%"),_i.setAttribute("stop-opacity",zi[2*ti+1])}if(1===He.t)($e.e._mdf||je)&&(Mi.setAttribute("x2",Ni[0]),Mi.setAttribute("y2",Ni[1]),Fi&&!$e.g._collapsable&&($e.of.setAttribute("x2",Ni[0]),$e.of.setAttribute("y2",Ni[1])));else if(($e.s._mdf||$e.e._mdf||je)&&(Pi=Math.sqrt(Math.pow(Oi[0]-Ni[0],2)+Math.pow(Oi[1]-Ni[1],2)),Mi.setAttribute("r",Pi),Fi&&!$e.g._collapsable&&$e.of.setAttribute("r",Pi)),$e.e._mdf||$e.h._mdf||$e.a._mdf||je){Pi||(Pi=Math.sqrt(Math.pow(Oi[0]-Ni[0],2)+Math.pow(Oi[1]-Ni[1],2)));var Ki=Math.atan2(Ni[1]-Oi[1],Ni[0]-Oi[0]),ji=$e.h.v;ji>=1?ji=.99:ji<=-1&&(ji=-.99);var Yi=Pi*ji,qi=Math.cos(Ki+$e.a.v)*Yi+Oi[0],Xi=Math.sin(Ki+$e.a.v)*Yi+Oi[1];Mi.setAttribute("fx",qi),Mi.setAttribute("fy",Xi),Fi&&!$e.g._collapsable&&($e.of.setAttribute("fx",qi),$e.of.setAttribute("fy",Xi))}}function h(He,$e,je){var Ye=$e.style,ti=$e.d;ti&&(ti._mdf||je)&&ti.dashStr&&(Ye.pElem.setAttribute("stroke-dasharray",ti.dashStr),Ye.pElem.setAttribute("stroke-dashoffset",ti.dashoffset[0])),$e.c&&($e.c._mdf||je)&&Ye.pElem.setAttribute("stroke","rgb("+Ni($e.c.v[0])+","+Ni($e.c.v[1])+","+Ni($e.c.v[2])+")"),($e.o._mdf||je)&&Ye.pElem.setAttribute("stroke-opacity",$e.o.v),($e.w._mdf||je)&&(Ye.pElem.setAttribute("stroke-width",$e.w.v),Ye.msElem&&Ye.msElem.setAttribute("stroke-width",$e.w.v))}return{createRenderFunction:function(He){switch(He.ty){case"fl":return s;case"gf":return o;case"gs":return n;case"st":return h;case"sh":case"el":case"rc":case"sr":return a;case"tr":return i;case"no":return r;default:return null}}}}();function gi(He,$e,je){this.shapes=[],this.shapesData=He.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(He,$e,je),this.prevViewData=[]}function fi(He,$e,je,Ye,ti,mi){this.o=He,this.sw=$e,this.sc=je,this.fc=Ye,this.m=ti,this.p=mi,this._mdf={o:!0,sw:!!$e,sc:!!je,fc:!!Ye,m:!0,p:!0}}function pi(He,$e){this._frameId=je,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,$e.d&&$e.d.sid&&($e.d=He.globalData.slotManager.getProp($e.d)),this.data=$e,this.elem=He,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}s([Me,Ge,ze,Xe,qe,Fe,We],gi),gi.prototype.initSecondaryElement=function(){},gi.prototype.identityMatrix=new Br,gi.prototype.buildExpressionInterface=function(){},gi.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},gi.prototype.filterUniqueShapes=function(){var He,$e,je,Ye,ti=this.shapes.length,mi=this.stylesList.length,_i=[],Pi=!1;for(je=0;je<mi;je+=1){for(Ye=this.stylesList[je],Pi=!1,_i.length=0,He=0;He<ti;He+=1)-1!==($e=this.shapes[He]).styles.indexOf(Ye)&&(_i.push($e),Pi=$e._isAnimated||Pi);_i.length>1&&Pi&&this.setShapesAsAnimated(_i)}},gi.prototype.setShapesAsAnimated=function(He){var $e,je=He.length;for($e=0;$e<je;$e+=1)He[$e].setAsAnimated()},gi.prototype.createStyleElement=function(He,$e){var je,Ye=new ii(He,$e),ti=Ye.pElem;return"st"===He.ty?je=new ai(this,He,Ye):"fl"===He.ty?je=new si(this,He,Ye):"gf"===He.ty||"gs"===He.ty?(je=new("gf"===He.ty?hi:li)(this,He,Ye),this.globalData.defs.appendChild(je.gf),je.maskId&&(this.globalData.defs.appendChild(je.ms),this.globalData.defs.appendChild(je.of),ti.setAttribute("mask","url("+r()+"#"+je.maskId+")"))):"no"===He.ty&&(je=new ni(this,He,Ye)),"st"!==He.ty&&"gs"!==He.ty||(ti.setAttribute("stroke-linecap",ca[He.lc||2]),ti.setAttribute("stroke-linejoin",fa[He.lj||2]),ti.setAttribute("fill-opacity","0"),1===He.lj&&ti.setAttribute("stroke-miterlimit",He.ml)),2===He.r&&ti.setAttribute("fill-rule","evenodd"),He.ln&&ti.setAttribute("id",He.ln),He.cl&&ti.setAttribute("class",He.cl),He.bm&&(ti.style["mix-blend-mode"]=oa(He.bm)),this.stylesList.push(Ye),this.addToAnimatedContents(He,je),je},gi.prototype.createGroupElement=function(He){var $e=new Ai;return He.ln&&$e.gr.setAttribute("id",He.ln),He.cl&&$e.gr.setAttribute("class",He.cl),He.bm&&($e.gr.style["mix-blend-mode"]=oa(He.bm)),$e},gi.prototype.createTransformElement=function(He,$e){var je=ea.getTransformProperty(this,He,this),Ye=new di(je,je.o,$e);return this.addToAnimatedContents(He,Ye),Ye},gi.prototype.createShapeElement=function(He,$e,je){var Ye=4;"rc"===He.ty?Ye=5:"el"===He.ty?Ye=6:"sr"===He.ty&&(Ye=7);var ti=new ei($e,je,Fr.getShapeProp(this,He,Ye,this));return this.shapes.push(ti),this.addShapeToModifiers(ti),this.addToAnimatedContents(He,ti),ti},gi.prototype.addToAnimatedContents=function(He,$e){for(var je=0,Ye=this.animatedContents.length;je<Ye;){if(this.animatedContents[je].element===$e)return;je+=1}this.animatedContents.push({fn:pa.createRenderFunction(He),element:$e,data:He})},gi.prototype.setElementStyles=function(He){var $e,je=He.styles,Ye=this.stylesList.length;for($e=0;$e<Ye;$e+=1)this.stylesList[$e].closed||je.push(this.stylesList[$e])},gi.prototype.reloadShapes=function(){var He;this._isFirstFrame=!0;var $e=this.itemsData.length;for(He=0;He<$e;He+=1)this.prevViewData[He]=this.itemsData[He];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),$e=this.dynamicProperties.length,He=0;He<$e;He+=1)this.dynamicProperties[He].getValue();this.renderModifiers()},gi.prototype.searchShapes=function(He,$e,je,Ye,ti,mi,_i){var Pi,Mi,Fi,Oi,Ni,Ui,Gi=[].concat(mi),Vi=He.length-1,Hi=[],zi=[];for(Pi=Vi;Pi>=0;Pi-=1){if((Ui=this.searchProcessedElement(He[Pi]))?$e[Pi]=je[Ui-1]:He[Pi]._render=_i,"fl"===He[Pi].ty||"st"===He[Pi].ty||"gf"===He[Pi].ty||"gs"===He[Pi].ty||"no"===He[Pi].ty)Ui?$e[Pi].style.closed=!1:$e[Pi]=this.createStyleElement(He[Pi],ti),He[Pi]._render&&$e[Pi].style.pElem.parentNode!==Ye&&Ye.appendChild($e[Pi].style.pElem),Hi.push($e[Pi].style);else if("gr"===He[Pi].ty){if(Ui)for(Fi=$e[Pi].it.length,Mi=0;Mi<Fi;Mi+=1)$e[Pi].prevViewData[Mi]=$e[Pi].it[Mi];else $e[Pi]=this.createGroupElement(He[Pi]);this.searchShapes(He[Pi].it,$e[Pi].it,$e[Pi].prevViewData,$e[Pi].gr,ti+1,Gi,_i),He[Pi]._render&&$e[Pi].gr.parentNode!==Ye&&Ye.appendChild($e[Pi].gr)}else"tr"===He[Pi].ty?(Ui||($e[Pi]=this.createTransformElement(He[Pi],Ye)),Oi=$e[Pi].transform,Gi.push(Oi)):"sh"===He[Pi].ty||"rc"===He[Pi].ty||"el"===He[Pi].ty||"sr"===He[Pi].ty?(Ui||($e[Pi]=this.createShapeElement(He[Pi],Gi,ti)),this.setElementStyles($e[Pi])):"tm"===He[Pi].ty||"rd"===He[Pi].ty||"ms"===He[Pi].ty||"pb"===He[Pi].ty||"zz"===He[Pi].ty||"op"===He[Pi].ty?(Ui?(Ni=$e[Pi]).closed=!1:((Ni=ta.getModifier(He[Pi].ty)).init(this,He[Pi]),$e[Pi]=Ni,this.shapeModifiers.push(Ni)),zi.push(Ni)):"rp"===He[Pi].ty&&(Ui?(Ni=$e[Pi]).closed=!0:(Ni=ta.getModifier(He[Pi].ty),$e[Pi]=Ni,Ni.init(this,He,Pi,$e),this.shapeModifiers.push(Ni),_i=!1),zi.push(Ni));this.addProcessedElement(He[Pi],Pi+1)}for(Vi=Hi.length,Pi=0;Pi<Vi;Pi+=1)Hi[Pi].closed=!0;for(Vi=zi.length,Pi=0;Pi<Vi;Pi+=1)zi[Pi].closed=!0},gi.prototype.renderInnerContent=function(){var He;this.renderModifiers();var $e=this.stylesList.length;for(He=0;He<$e;He+=1)this.stylesList[He].reset();for(this.renderShape(),He=0;He<$e;He+=1)(this.stylesList[He]._mdf||this._isFirstFrame)&&(this.stylesList[He].msElem&&(this.stylesList[He].msElem.setAttribute("d",this.stylesList[He].d),this.stylesList[He].d="M0 0"+this.stylesList[He].d),this.stylesList[He].pElem.setAttribute("d",this.stylesList[He].d||"M0 0"))},gi.prototype.renderShape=function(){var He,$e,je=this.animatedContents.length;for(He=0;He<je;He+=1)$e=this.animatedContents[He],(this._isFirstFrame||$e.element._isAnimated)&&!0!==$e.data&&$e.fn($e.data,$e.element,this._isFirstFrame)},gi.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},fi.prototype.update=function(He,$e,je,Ye,ti,mi){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var _i=!1;return this.o!==He&&(this.o=He,this._mdf.o=!0,_i=!0),this.sw!==$e&&(this.sw=$e,this._mdf.sw=!0,_i=!0),this.sc!==je&&(this.sc=je,this._mdf.sc=!0,_i=!0),this.fc!==Ye&&(this.fc=Ye,this._mdf.fc=!0,_i=!0),this.m!==ti&&(this.m=ti,this._mdf.m=!0,_i=!0),!mi.length||this.p[0]===mi[0]&&this.p[1]===mi[1]&&this.p[4]===mi[4]&&this.p[5]===mi[5]&&this.p[12]===mi[12]&&this.p[13]===mi[13]||(this.p=mi,this._mdf.p=!0,_i=!0),_i},pi.prototype.defaultBoxWidth=[0,0],pi.prototype.copyData=function(He,$e){for(var je in $e)Object.prototype.hasOwnProperty.call($e,je)&&(He[je]=$e[je]);return He},pi.prototype.setCurrentData=function(He){He.__complete||this.completeTextData(He),this.currentData=He,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},pi.prototype.searchProperty=function(){return this.searchKeyframes()},pi.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},pi.prototype.addEffect=function(He){this.effectsSequence.push(He),this.elem.addDynamicProperty(this)},pi.prototype.getValue=function(He){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||He){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var $e=this.currentData,je=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var Ye;this.lock=!0,this._mdf=!1;var ti=this.effectsSequence.length,mi=He||this.data.d.k[this.keysIndex].s;for(Ye=0;Ye<ti;Ye+=1)mi=je!==this.keysIndex?this.effectsSequence[Ye](mi,mi.t):this.effectsSequence[Ye](this.currentData,mi.t);$e!==mi&&this.setCurrentData(mi),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},pi.prototype.getKeyframeValue=function(){for(var He=this.data.d.k,$e=this.elem.comp.renderedFrame,je=0,Ye=He.length;je<=Ye-1&&!(je===Ye-1||He[je+1].t>$e);)je+=1;return this.keysIndex!==je&&(this.keysIndex=je),this.data.d.k[this.keysIndex].s},pi.prototype.buildFinalText=function(He){for(var $e,je,Ye=[],ti=0,mi=He.length,_i=!1,Pi=!1,Mi="";ti<mi;)_i=Pi,Pi=!1,$e=He.charCodeAt(ti),Mi=He.charAt(ti),sa.isCombinedCharacter($e)?_i=!0:$e>=55296&&$e<=56319?sa.isRegionalFlag(He,ti)?Mi=He.substr(ti,14):(je=He.charCodeAt(ti+1))>=56320&&je<=57343&&(sa.isModifier($e,je)?(Mi=He.substr(ti,2),_i=!0):Mi=sa.isFlagEmoji(He.substr(ti,4))?He.substr(ti,4):He.substr(ti,2)):$e>56319?(je=He.charCodeAt(ti+1),sa.isVariationSelector($e)&&(_i=!0)):sa.isZeroWidthJoiner($e)&&(_i=!0,Pi=!0),_i?(Ye[Ye.length-1]+=Mi,_i=!1):Ye.push(Mi),ti+=Mi.length;return Ye},pi.prototype.completeTextData=function(He){He.__complete=!0;var $e,je,Ye,ti,mi,_i,Pi,Mi=this.elem.globalData.fontManager,Fi=this.data,Oi=[],Ni=0,Ui=Fi.m.g,Gi=0,Vi=0,Hi=0,zi=[],Ki=0,ji=0,Yi=Mi.getFontByName(He.f),qi=0,Xi=ve(Yi);He.fWeight=Xi.weight,He.fStyle=Xi.style,He.finalSize=He.s,He.finalText=this.buildFinalText(He.t),je=He.finalText.length,He.finalLineHeight=He.lh;var lr,hr=He.tr/1e3*He.finalSize;if(He.sz)for(var dr,ur,vr=!0,yr=He.sz[0],xr=He.sz[1];vr;){dr=0,Ki=0,je=(ur=this.buildFinalText(He.t)).length,hr=He.tr/1e3*He.finalSize;var kr=-1;for($e=0;$e<je;$e+=1)lr=ur[$e].charCodeAt(0),Ye=!1," "===ur[$e]?kr=$e:13!==lr&&3!==lr||(Ki=0,Ye=!0,dr+=He.finalLineHeight||1.2*He.finalSize),Mi.chars?(Pi=Mi.getCharData(ur[$e],Yi.fStyle,Yi.fFamily),qi=Ye?0:Pi.w*He.finalSize/100):qi=Mi.measureText(ur[$e],He.f,He.finalSize),Ki+qi>yr&&" "!==ur[$e]?(-1===kr?je+=1:$e=kr,dr+=He.finalLineHeight||1.2*He.finalSize,ur.splice($e,kr===$e?1:0,"\r"),kr=-1,Ki=0):(Ki+=qi,Ki+=hr);dr+=Yi.ascent*He.finalSize/100,this.canResize&&He.finalSize>this.minimumFontSize&&xr<dr?(He.finalSize-=1,He.finalLineHeight=He.finalSize*He.lh/He.s):(He.finalText=ur,je=He.finalText.length,vr=!1)}Ki=-hr,qi=0;var Er,Tr=0;for($e=0;$e<je;$e+=1)if(Ye=!1,13===(lr=(Er=He.finalText[$e]).charCodeAt(0))||3===lr?(Tr=0,zi.push(Ki),ji=Ki>ji?Ki:ji,Ki=-2*hr,ti="",Ye=!0,Hi+=1):ti=Er,Mi.chars?(Pi=Mi.getCharData(Er,Yi.fStyle,Mi.getFontByName(He.f).fFamily),qi=Ye?0:Pi.w*He.finalSize/100):qi=Mi.measureText(ti,He.f,He.finalSize)," "===Er?Tr+=qi+hr:(Ki+=qi+hr+Tr,Tr=0),Oi.push({l:qi,an:qi,add:Gi,n:Ye,anIndexes:[],val:ti,line:Hi,animatorJustifyOffset:0}),2==Ui){if(Gi+=qi,""===ti||" "===ti||$e===je-1){for(""!==ti&&" "!==ti||(Gi-=qi);Vi<=$e;)Oi[Vi].an=Gi,Oi[Vi].ind=Ni,Oi[Vi].extra=qi,Vi+=1;Ni+=1,Gi=0}}else if(3==Ui){if(Gi+=qi,""===ti||$e===je-1){for(""===ti&&(Gi-=qi);Vi<=$e;)Oi[Vi].an=Gi,Oi[Vi].ind=Ni,Oi[Vi].extra=qi,Vi+=1;Gi=0,Ni+=1}}else Oi[Ni].ind=Ni,Oi[Ni].extra=0,Ni+=1;if(He.l=Oi,ji=Ki>ji?Ki:ji,zi.push(Ki),He.sz)He.boxWidth=He.sz[0],He.justifyOffset=0;else switch(He.boxWidth=ji,He.j){case 1:He.justifyOffset=-He.boxWidth;break;case 2:He.justifyOffset=-He.boxWidth/2;break;default:He.justifyOffset=0}He.lineWidths=zi;var Ar,wr,Lr,_r,Cr=Fi.a;_i=Cr.length;var Ir=[];for(mi=0;mi<_i;mi+=1){for((Ar=Cr[mi]).a.sc&&(He.strokeColorAnim=!0),Ar.a.sw&&(He.strokeWidthAnim=!0),(Ar.a.fc||Ar.a.fh||Ar.a.fs||Ar.a.fb)&&(He.fillColorAnim=!0),_r=0,Lr=Ar.s.b,$e=0;$e<je;$e+=1)(wr=Oi[$e]).anIndexes[mi]=_r,(1==Lr&&""!==wr.val||2==Lr&&""!==wr.val&&" "!==wr.val||3==Lr&&(wr.n||" "==wr.val||$e==je-1)||4==Lr&&(wr.n||$e==je-1))&&(1===Ar.s.rn&&Ir.push(_r),_r+=1);Fi.a[mi].s.totalChars=_r;var Mr,Fr=-1;if(1===Ar.s.rn)for($e=0;$e<je;$e+=1)Fr!=(wr=Oi[$e]).anIndexes[mi]&&(Fr=wr.anIndexes[mi],Mr=Ir.splice(Math.floor(Math.random()*Ir.length),1)[0]),wr.anIndexes[mi]=Mr}He.yOffset=He.finalLineHeight||1.2*He.finalSize,He.ls=He.ls||0,He.ascent=Yi.ascent*He.finalSize/100},pi.prototype.updateDocumentData=function(He,$e){$e=void 0===$e?this.keysIndex:$e;var je=this.copyData({},this.data.d.k[$e].s);je=this.copyData(je,He),this.data.d.k[$e].s=je,this.recalculate($e),this.setCurrentData(je),this.elem.addDynamicProperty(this)},pi.prototype.recalculate=function(He){var $e=this.data.d.k[He].s;$e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue($e)},pi.prototype.canResizeFont=function(He){this.canResize=He,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},pi.prototype.setMinimumFontSize=function(He){this.minimumFontSize=Math.floor(He)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var ma=function(){var He=Math.max,$e=Math.min,je=Math.floor;function r(He,$e){this._currentTextLength=-1,this.k=!1,this.data=$e,this.elem=He,this.comp=He.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(He),this.s=Er.getProp(He,$e.s||{k:0},0,0,this),this.e="e"in $e?Er.getProp(He,$e.e,0,0,this):{v:100},this.o=Er.getProp(He,$e.o||{k:0},0,0,this),this.xe=Er.getProp(He,$e.xe||{k:0},0,0,this),this.ne=Er.getProp(He,$e.ne||{k:0},0,0,this),this.sm=Er.getProp(He,$e.sm||{k:100},0,0,this),this.a=Er.getProp(He,$e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(Ye){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ti=0,mi=0,_i=1,Pi=1;this.ne.v>0?ti=this.ne.v/100:mi=-this.ne.v/100,this.xe.v>0?_i=1-this.xe.v/100:Pi=1+this.xe.v/100;var Mi=dr.getBezierEasing(ti,mi,_i,Pi).get,Fi=0,Oi=this.finalS,Ni=this.finalE,Ui=this.data.sh;if(2===Ui)Fi=Mi(Fi=Ni===Oi?Ye>=Ni?1:0:He(0,$e(.5/(Ni-Oi)+(Ye-Oi)/(Ni-Oi),1)));else if(3===Ui)Fi=Mi(Fi=Ni===Oi?Ye>=Ni?0:1:1-He(0,$e(.5/(Ni-Oi)+(Ye-Oi)/(Ni-Oi),1)));else if(4===Ui)Ni===Oi?Fi=0:(Fi=He(0,$e(.5/(Ni-Oi)+(Ye-Oi)/(Ni-Oi),1)))<.5?Fi*=2:Fi=1-2*(Fi-.5),Fi=Mi(Fi);else if(5===Ui){if(Ni===Oi)Fi=0;else{var Gi=Ni-Oi,Vi=-Gi/2+(Ye=$e(He(0,Ye+.5-Oi),Ni-Oi)),Hi=Gi/2;Fi=Math.sqrt(1-Vi*Vi/(Hi*Hi))}Fi=Mi(Fi)}else 6===Ui?(Ni===Oi?Fi=0:(Ye=$e(He(0,Ye+.5-Oi),Ni-Oi),Fi=(1+Math.cos(Math.PI+2*Math.PI*Ye/(Ni-Oi)))/2),Fi=Mi(Fi)):(Ye>=je(Oi)&&(Fi=He(0,$e(Ye-Oi<0?$e(Ni,1)-(Oi-Ye):Ni-Ye,1))),Fi=Mi(Fi));if(100!==this.sm.v){var zi=.01*this.sm.v;0===zi&&(zi=1e-8);var Ki=.5-.5*zi;Fi<Ki?Fi=0:(Fi=(Fi-Ki)/zi)>1&&(Fi=1)}return Fi*this.a.v},getValue:function(He){this.iterateDynamicProperties(),this._mdf=He||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,He&&2===this.data.r&&(this.e.v=this._currentTextLength);var $e=2===this.data.r?1:100/this.data.totalChars,je=this.o.v/$e,Ye=this.s.v/$e+je,ti=this.e.v/$e+je;if(Ye>ti){var mi=Ye;Ye=ti,ti=mi}this.finalS=Ye,this.finalE=ti}},s([ft],r),{getTextSelectorProp:function(He,$e,je){return new r(He,$e)}}}();function vi(He,$e,je){var Ye={propType:!1},ti=Er.getProp,mi=$e.a;this.a={r:mi.r?ti(He,mi.r,0,Vi,je):Ye,rx:mi.rx?ti(He,mi.rx,0,Vi,je):Ye,ry:mi.ry?ti(He,mi.ry,0,Vi,je):Ye,sk:mi.sk?ti(He,mi.sk,0,Vi,je):Ye,sa:mi.sa?ti(He,mi.sa,0,Vi,je):Ye,s:mi.s?ti(He,mi.s,1,.01,je):Ye,a:mi.a?ti(He,mi.a,1,0,je):Ye,o:mi.o?ti(He,mi.o,0,.01,je):Ye,p:mi.p?ti(He,mi.p,1,0,je):Ye,sw:mi.sw?ti(He,mi.sw,0,0,je):Ye,sc:mi.sc?ti(He,mi.sc,1,0,je):Ye,fc:mi.fc?ti(He,mi.fc,1,0,je):Ye,fh:mi.fh?ti(He,mi.fh,0,0,je):Ye,fs:mi.fs?ti(He,mi.fs,0,.01,je):Ye,fb:mi.fb?ti(He,mi.fb,0,.01,je):Ye,t:mi.t?ti(He,mi.t,0,0,je):Ye},this.s=ma.getTextSelectorProp(He,$e.s,je),this.s.t=$e.s.t}function Ei(He,$e,je){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=He,this._renderType=$e,this._elem=je,this._animatorsData=l(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(je)}function yi(){}Ei.prototype.searchProperties=function(){var He,$e,je=this._textData.a.length,Ye=Er.getProp;for(He=0;He<je;He+=1)$e=this._textData.a[He],this._animatorsData[He]=new vi(this._elem,$e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Ye(this._elem,this._textData.p.a,0,0,this),f:Ye(this._elem,this._textData.p.f,0,0,this),l:Ye(this._elem,this._textData.p.l,0,0,this),r:Ye(this._elem,this._textData.p.r,0,0,this),p:Ye(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Ye(this._elem,this._textData.m.a,1,0,this)},Ei.prototype.getMeasures=function(He,$e){if(this.lettersChangedFlag=$e,this._mdf||this._isFirstFrame||$e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var je,Ye,ti,mi,_i,Pi,Mi,Fi,Oi,Ni,Ui,Gi,Vi,Hi,zi,Ki,ji,Yi,qi,Xi=this._moreOptions.alignment.v,lr=this._animatorsData,hr=this._textData,dr=this.mHelper,ur=this._renderType,vr=this.renderedLetters.length,xr=He.l;if(this._hasMaskedPath){if(qi=this._pathData.m,!this._pathData.n||this._pathData._mdf){var kr,Er=qi.v;for(this._pathData.r.v&&(Er=Er.reverse()),_i={tLength:0,segments:[]},mi=Er._length-1,Ki=0,ti=0;ti<mi;ti+=1)kr=yr.buildBezierData(Er.v[ti],Er.v[ti+1],[Er.o[ti][0]-Er.v[ti][0],Er.o[ti][1]-Er.v[ti][1]],[Er.i[ti+1][0]-Er.v[ti+1][0],Er.i[ti+1][1]-Er.v[ti+1][1]]),_i.tLength+=kr.segmentLength,_i.segments.push(kr),Ki+=kr.segmentLength;ti=mi,qi.v.c&&(kr=yr.buildBezierData(Er.v[ti],Er.v[0],[Er.o[ti][0]-Er.v[ti][0],Er.o[ti][1]-Er.v[ti][1]],[Er.i[0][0]-Er.v[0][0],Er.i[0][1]-Er.v[0][1]]),_i.tLength+=kr.segmentLength,_i.segments.push(kr),Ki+=kr.segmentLength),this._pathData.pi=_i}if(_i=this._pathData.pi,Pi=this._pathData.f.v,Ui=0,Ni=1,Fi=0,Oi=!0,Hi=_i.segments,Pi<0&&qi.v.c)for(_i.tLength<Math.abs(Pi)&&(Pi=-Math.abs(Pi)%_i.tLength),Ni=(Vi=Hi[Ui=Hi.length-1].points).length-1;Pi<0;)Pi+=Vi[Ni].partialLength,(Ni-=1)<0&&(Ni=(Vi=Hi[Ui-=1].points).length-1);Gi=(Vi=Hi[Ui].points)[Ni-1],zi=(Mi=Vi[Ni]).partialLength}mi=xr.length,je=0,Ye=0;var Tr,Ar,wr,Lr,_r,Cr=1.2*He.finalSize*.714,Ir=!0;wr=lr.length;var Mr,Fr,Br,Nr,Ur,Hr,Wr,zr,Kr,qr,ta,ea,sa=-1,na=Pi,oa=Ui,la=Ni,ha=-1,da="",ua=this.defaultPropsArray;if(2===He.j||1===He.j){var ca=0,fa=0,pa=2===He.j?-.5:-1,ma=0,ga=!0;for(ti=0;ti<mi;ti+=1)if(xr[ti].n){for(ca&&(ca+=fa);ma<ti;)xr[ma].animatorJustifyOffset=ca,ma+=1;ca=0,ga=!0}else{for(Ar=0;Ar<wr;Ar+=1)(Tr=lr[Ar].a).t.propType&&(ga&&2===He.j&&(fa+=Tr.t.v*pa),(_r=lr[Ar].s.getMult(xr[ti].anIndexes[Ar],hr.a[Ar].s.totalChars)).length?ca+=Tr.t.v*_r[0]*pa:ca+=Tr.t.v*_r*pa);ga=!1}for(ca&&(ca+=fa);ma<ti;)xr[ma].animatorJustifyOffset=ca,ma+=1}for(ti=0;ti<mi;ti+=1){if(dr.reset(),Nr=1,xr[ti].n)je=0,Ye+=He.yOffset,Ye+=Ir?1:0,Pi=na,Ir=!1,this._hasMaskedPath&&(Ni=la,Gi=(Vi=Hi[Ui=oa].points)[Ni-1],zi=(Mi=Vi[Ni]).partialLength,Fi=0),da="",ta="",Kr="",ea="",ua=this.defaultPropsArray;else{if(this._hasMaskedPath){if(ha!==xr[ti].line){switch(He.j){case 1:Pi+=Ki-He.lineWidths[xr[ti].line];break;case 2:Pi+=(Ki-He.lineWidths[xr[ti].line])/2}ha=xr[ti].line}sa!==xr[ti].ind&&(xr[sa]&&(Pi+=xr[sa].extra),Pi+=xr[ti].an/2,sa=xr[ti].ind),Pi+=Xi[0]*xr[ti].an*.005;var va=0;for(Ar=0;Ar<wr;Ar+=1)(Tr=lr[Ar].a).p.propType&&((_r=lr[Ar].s.getMult(xr[ti].anIndexes[Ar],hr.a[Ar].s.totalChars)).length?va+=Tr.p.v[0]*_r[0]:va+=Tr.p.v[0]*_r),Tr.a.propType&&((_r=lr[Ar].s.getMult(xr[ti].anIndexes[Ar],hr.a[Ar].s.totalChars)).length?va+=Tr.a.v[0]*_r[0]:va+=Tr.a.v[0]*_r);for(Oi=!0,this._pathData.a.v&&(Pi=.5*xr[0].an+(Ki-this._pathData.f.v-.5*xr[0].an-.5*xr[xr.length-1].an)*sa/(mi-1),Pi+=this._pathData.f.v);Oi;)Fi+zi>=Pi+va||!Vi?(ji=(Pi+va-Fi)/Mi.partialLength,Fr=Gi.point[0]+(Mi.point[0]-Gi.point[0])*ji,Br=Gi.point[1]+(Mi.point[1]-Gi.point[1])*ji,dr.translate(-Xi[0]*xr[ti].an*.005,-Xi[1]*Cr*.01),Oi=!1):Vi&&(Fi+=Mi.partialLength,(Ni+=1)>=Vi.length&&(Ni=0,Hi[Ui+=1]?Vi=Hi[Ui].points:qi.v.c?(Ni=0,Vi=Hi[Ui=0].points):(Fi-=Mi.partialLength,Vi=null)),Vi&&(Gi=Mi,zi=(Mi=Vi[Ni]).partialLength));Mr=xr[ti].an/2-xr[ti].add,dr.translate(-Mr,0,0)}else Mr=xr[ti].an/2-xr[ti].add,dr.translate(-Mr,0,0),dr.translate(-Xi[0]*xr[ti].an*.005,-Xi[1]*Cr*.01,0);for(Ar=0;Ar<wr;Ar+=1)(Tr=lr[Ar].a).t.propType&&(_r=lr[Ar].s.getMult(xr[ti].anIndexes[Ar],hr.a[Ar].s.totalChars),0===je&&0===He.j||(this._hasMaskedPath?_r.length?Pi+=Tr.t.v*_r[0]:Pi+=Tr.t.v*_r:_r.length?je+=Tr.t.v*_r[0]:je+=Tr.t.v*_r));for(He.strokeWidthAnim&&(Hr=He.sw||0),He.strokeColorAnim&&(Ur=He.sc?[He.sc[0],He.sc[1],He.sc[2]]:[0,0,0]),He.fillColorAnim&&He.fc&&(Wr=[He.fc[0],He.fc[1],He.fc[2]]),Ar=0;Ar<wr;Ar+=1)(Tr=lr[Ar].a).a.propType&&((_r=lr[Ar].s.getMult(xr[ti].anIndexes[Ar],hr.a[Ar].s.totalChars)).length?dr.translate(-Tr.a.v[0]*_r[0],-Tr.a.v[1]*_r[1],Tr.a.v[2]*_r[2]):dr.translate(-Tr.a.v[0]*_r,-Tr.a.v[1]*_r,Tr.a.v[2]*_r));for(Ar=0;Ar<wr;Ar+=1)(Tr=lr[Ar].a).s.propType&&((_r=lr[Ar].s.getMult(xr[ti].anIndexes[Ar],hr.a[Ar].s.totalChars)).length?dr.scale(1+(Tr.s.v[0]-1)*_r[0],1+(Tr.s.v[1]-1)*_r[1],1):dr.scale(1+(Tr.s.v[0]-1)*_r,1+(Tr.s.v[1]-1)*_r,1));for(Ar=0;Ar<wr;Ar+=1){if(Tr=lr[Ar].a,_r=lr[Ar].s.getMult(xr[ti].anIndexes[Ar],hr.a[Ar].s.totalChars),Tr.sk.propType&&(_r.length?dr.skewFromAxis(-Tr.sk.v*_r[0],Tr.sa.v*_r[1]):dr.skewFromAxis(-Tr.sk.v*_r,Tr.sa.v*_r)),Tr.r.propType&&(_r.length?dr.rotateZ(-Tr.r.v*_r[2]):dr.rotateZ(-Tr.r.v*_r)),Tr.ry.propType&&(_r.length?dr.rotateY(Tr.ry.v*_r[1]):dr.rotateY(Tr.ry.v*_r)),Tr.rx.propType&&(_r.length?dr.rotateX(Tr.rx.v*_r[0]):dr.rotateX(Tr.rx.v*_r)),Tr.o.propType&&(_r.length?Nr+=(Tr.o.v*_r[0]-Nr)*_r[0]:Nr+=(Tr.o.v*_r-Nr)*_r),He.strokeWidthAnim&&Tr.sw.propType&&(_r.length?Hr+=Tr.sw.v*_r[0]:Hr+=Tr.sw.v*_r),He.strokeColorAnim&&Tr.sc.propType)for(zr=0;zr<3;zr+=1)_r.length?Ur[zr]+=(Tr.sc.v[zr]-Ur[zr])*_r[0]:Ur[zr]+=(Tr.sc.v[zr]-Ur[zr])*_r;if(He.fillColorAnim&&He.fc){if(Tr.fc.propType)for(zr=0;zr<3;zr+=1)_r.length?Wr[zr]+=(Tr.fc.v[zr]-Wr[zr])*_r[0]:Wr[zr]+=(Tr.fc.v[zr]-Wr[zr])*_r;Tr.fh.propType&&(Wr=_r.length?F(Wr,Tr.fh.v*_r[0]):F(Wr,Tr.fh.v*_r)),Tr.fs.propType&&(Wr=_r.length?T(Wr,Tr.fs.v*_r[0]):T(Wr,Tr.fs.v*_r)),Tr.fb.propType&&(Wr=_r.length?M(Wr,Tr.fb.v*_r[0]):M(Wr,Tr.fb.v*_r))}}for(Ar=0;Ar<wr;Ar+=1)(Tr=lr[Ar].a).p.propType&&(_r=lr[Ar].s.getMult(xr[ti].anIndexes[Ar],hr.a[Ar].s.totalChars),this._hasMaskedPath?_r.length?dr.translate(0,Tr.p.v[1]*_r[0],-Tr.p.v[2]*_r[1]):dr.translate(0,Tr.p.v[1]*_r,-Tr.p.v[2]*_r):_r.length?dr.translate(Tr.p.v[0]*_r[0],Tr.p.v[1]*_r[1],-Tr.p.v[2]*_r[2]):dr.translate(Tr.p.v[0]*_r,Tr.p.v[1]*_r,-Tr.p.v[2]*_r));if(He.strokeWidthAnim&&(Kr=Hr<0?0:Hr),He.strokeColorAnim&&(qr="rgb("+Math.round(255*Ur[0])+","+Math.round(255*Ur[1])+","+Math.round(255*Ur[2])+")"),He.fillColorAnim&&He.fc&&(ta="rgb("+Math.round(255*Wr[0])+","+Math.round(255*Wr[1])+","+Math.round(255*Wr[2])+")"),this._hasMaskedPath){if(dr.translate(0,-He.ls),dr.translate(0,Xi[1]*Cr*.01+Ye,0),this._pathData.p.v){Yi=(Mi.point[1]-Gi.point[1])/(Mi.point[0]-Gi.point[0]);var ya=180*Math.atan(Yi)/Math.PI;Mi.point[0]<Gi.point[0]&&(ya+=180),dr.rotate(-ya*Math.PI/180)}dr.translate(Fr,Br,0),Pi-=Xi[0]*xr[ti].an*.005,xr[ti+1]&&sa!==xr[ti+1].ind&&(Pi+=xr[ti].an/2,Pi+=.001*He.tr*He.finalSize)}else{switch(dr.translate(je,Ye,0),He.ps&&dr.translate(He.ps[0],He.ps[1]+He.ascent,0),He.j){case 1:dr.translate(xr[ti].animatorJustifyOffset+He.justifyOffset+(He.boxWidth-He.lineWidths[xr[ti].line]),0,0);break;case 2:dr.translate(xr[ti].animatorJustifyOffset+He.justifyOffset+(He.boxWidth-He.lineWidths[xr[ti].line])/2,0,0)}dr.translate(0,-He.ls),dr.translate(Mr,0,0),dr.translate(Xi[0]*xr[ti].an*.005,Xi[1]*Cr*.01,0),je+=xr[ti].l+.001*He.tr*He.finalSize}"html"===ur?da=dr.toCSS():"svg"===ur?da=dr.to2dCSS():ua=[dr.props[0],dr.props[1],dr.props[2],dr.props[3],dr.props[4],dr.props[5],dr.props[6],dr.props[7],dr.props[8],dr.props[9],dr.props[10],dr.props[11],dr.props[12],dr.props[13],dr.props[14],dr.props[15]],ea=Nr}vr<=ti?(Lr=new fi(ea,Kr,qr,ta,da,ua),this.renderedLetters.push(Lr),vr+=1,this.lettersChangedFlag=!0):(Lr=this.renderedLetters[ti],this.lettersChangedFlag=Lr.update(ea,Kr,qr,ta,da,ua)||this.lettersChangedFlag)}}},Ei.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},Ei.prototype.mHelper=new Br,Ei.prototype.defaultPropsArray=[],s([ft],Ei),yi.prototype.initElement=function(He,$e,je){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(He,$e,je),this.textProperty=new pi(this,He.t,this.dynamicProperties),this.textAnimator=new Ei(He.t,this.renderType,this),this.initTransform(He,$e,je),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},yi.prototype.prepareFrame=function(He){this._mdf=!1,this.prepareRenderableFrame(He),this.prepareProperties(He,this.isInRange)},yi.prototype.createPathShape=function(He,$e){var je,Ye,ti=$e.length,mi="";for(je=0;je<ti;je+=1)"sh"===$e[je].ty&&(Ye=$e[je].ks.k,mi+=ui(Ye,Ye.i.length,!0,He));return mi},yi.prototype.updateDocumentData=function(He,$e){this.textProperty.updateDocumentData(He,$e)},yi.prototype.canResizeFont=function(He){this.textProperty.canResizeFont(He)},yi.prototype.setMinimumFontSize=function(He){this.textProperty.setMinimumFontSize(He)},yi.prototype.applyTextPropertiesToMatrix=function(He,$e,je,Ye,ti){switch(He.ps&&$e.translate(He.ps[0],He.ps[1]+He.ascent,0),$e.translate(0,-He.ls,0),He.j){case 1:$e.translate(He.justifyOffset+(He.boxWidth-He.lineWidths[je]),0,0);break;case 2:$e.translate(He.justifyOffset+(He.boxWidth-He.lineWidths[je])/2,0,0)}$e.translate(Ye,ti,0)},yi.prototype.buildColor=function(He){return"rgb("+Math.round(255*He[0])+","+Math.round(255*He[1])+","+Math.round(255*He[2])+")"},yi.prototype.emptyProp=new fi,yi.prototype.destroy=function(){},yi.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var ga,va={shapes:[]};function Bi(He,$e,je){this.textSpans=[],this.renderType="svg",this.initElement(He,$e,je)}function ki(He,$e,je){this.initElement(He,$e,je)}function xi(He,$e,je){this.initFrame(),this.initBaseData(He,$e,je),this.initFrame(),this.initTransform(He,$e,je),this.initHierarchy()}function wi(){}function Qi(){}function Si(He,$e,je){this.layers=He.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?l(this.layers.length):[],this.initElement(He,$e,je),this.tm=He.tm?Er.getProp(this,He.tm,0,$e.frameRate,this):{_placeholder:!0}}function bi(He,$e){this.animationItem=He,this.layers=null,this.renderedFrame=-1,this.svgElement=U("svg");var je="";if($e&&$e.title){var Ye=U("title"),ti=Ki();Ye.setAttribute("id",ti),Ye.textContent=$e.title,this.svgElement.appendChild(Ye),je+=ti}if($e&&$e.description){var mi=U("desc"),_i=Ki();mi.setAttribute("id",_i),mi.textContent=$e.description,this.svgElement.appendChild(mi),je+=" "+_i}je&&this.svgElement.setAttribute("aria-labelledby",je);var Pi=U("defs");this.svgElement.appendChild(Pi);var Mi=U("g");this.svgElement.appendChild(Mi),this.layerElement=Mi,this.renderConfig={preserveAspectRatio:$e&&$e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:$e&&$e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:$e&&$e.contentVisibility||"visible",progressiveLoad:$e&&$e.progressiveLoad||!1,hideOnTransparent:!($e&&!1===$e.hideOnTransparent),viewBoxOnly:$e&&$e.viewBoxOnly||!1,viewBoxSize:$e&&$e.viewBoxSize||!1,className:$e&&$e.className||"",id:$e&&$e.id||"",focusable:$e&&$e.focusable,filterSize:{width:$e&&$e.filterSize&&$e.filterSize.width||"100%",height:$e&&$e.filterSize&&$e.filterSize.height||"100%",x:$e&&$e.filterSize&&$e.filterSize.x||"0%",y:$e&&$e.filterSize&&$e.filterSize.y||"0%"},width:$e&&$e.width,height:$e&&$e.height,runExpressions:!$e||void 0===$e.runExpressions||$e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Pi,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}return s([Me,Ge,ze,qe,Fe,We,yi],Bi),Bi.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=U("text"))},Bi.prototype.buildTextContents=function(He){for(var $e=0,je=He.length,Ye=[],ti="";$e<je;)He[$e]===String.fromCharCode(13)||He[$e]===String.fromCharCode(3)?(Ye.push(ti),ti=""):ti+=He[$e],$e+=1;return Ye.push(ti),Ye},Bi.prototype.buildShapeData=function(He,$e){if(He.shapes&&He.shapes.length){var je=He.shapes[0];if(je.it){var Ye=je.it[je.it.length-1];Ye.s&&(Ye.s.k[0]=$e,Ye.s.k[1]=$e)}}return He},Bi.prototype.buildNewText=function(){var He,$e;this.addDynamicProperty(this);var je=this.textProperty.currentData;this.renderedLetters=l(je?je.l.length:0),je.fc?this.layerElement.setAttribute("fill",this.buildColor(je.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),je.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(je.sc)),this.layerElement.setAttribute("stroke-width",je.sw)),this.layerElement.setAttribute("font-size",je.finalSize);var Ye=this.globalData.fontManager.getFontByName(je.f);if(Ye.fClass)this.layerElement.setAttribute("class",Ye.fClass);else{this.layerElement.setAttribute("font-family",Ye.fFamily);var ti=je.fWeight,mi=je.fStyle;this.layerElement.setAttribute("font-style",mi),this.layerElement.setAttribute("font-weight",ti)}this.layerElement.setAttribute("aria-label",je.t);var _i,Pi=je.l||[],Mi=!!this.globalData.fontManager.chars;$e=Pi.length;var Fi=this.mHelper,Oi=this.data.singleShape,Ni=0,Ui=0,Gi=!0,Vi=.001*je.tr*je.finalSize;if(!Oi||Mi||je.sz){var Hi,zi=this.textSpans.length;for(He=0;He<$e;He+=1){if(this.textSpans[He]||(this.textSpans[He]={span:null,childSpan:null,glyph:null}),!Mi||!Oi||0===He){if(_i=zi>He?this.textSpans[He].span:U(Mi?"g":"text"),zi<=He){if(_i.setAttribute("stroke-linecap","butt"),_i.setAttribute("stroke-linejoin","round"),_i.setAttribute("stroke-miterlimit","4"),this.textSpans[He].span=_i,Mi){var Ki=U("g");_i.appendChild(Ki),this.textSpans[He].childSpan=Ki}this.textSpans[He].span=_i,this.layerElement.appendChild(_i)}_i.style.display="inherit"}if(Fi.reset(),Oi&&(Pi[He].n&&(Ni=-Vi,Ui+=je.yOffset,Ui+=Gi?1:0,Gi=!1),this.applyTextPropertiesToMatrix(je,Fi,Pi[He].line,Ni,Ui),Ni+=Pi[He].l||0,Ni+=Vi),Mi){var ji;if(1===(Hi=this.globalData.fontManager.getCharData(je.finalText[He],Ye.fStyle,this.globalData.fontManager.getFontByName(je.f).fFamily)).t)ji=new Si(Hi.data,this.globalData,this);else{var Yi=va;Hi.data&&Hi.data.shapes&&(Yi=this.buildShapeData(Hi.data,je.finalSize)),ji=new gi(Yi,this.globalData,this)}if(this.textSpans[He].glyph){var qi=this.textSpans[He].glyph;this.textSpans[He].childSpan.removeChild(qi.layerElement),qi.destroy()}this.textSpans[He].glyph=ji,ji._debug=!0,ji.prepareFrame(0),ji.renderFrame(),this.textSpans[He].childSpan.appendChild(ji.layerElement),1===Hi.t&&this.textSpans[He].childSpan.setAttribute("transform","scale("+je.finalSize/100+","+je.finalSize/100+")")}else Oi&&_i.setAttribute("transform","translate("+Fi.props[12]+","+Fi.props[13]+")"),_i.textContent=Pi[He].val,_i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Oi&&_i&&_i.setAttribute("d","")}else{var Xi=this.textContainer,lr="start";switch(je.j){case 1:lr="end";break;case 2:lr="middle";break;default:lr="start"}Xi.setAttribute("text-anchor",lr),Xi.setAttribute("letter-spacing",Vi);var hr=this.buildTextContents(je.finalText);for($e=hr.length,Ui=je.ps?je.ps[1]+je.ascent:0,He=0;He<$e;He+=1)(_i=this.textSpans[He].span||U("tspan")).textContent=hr[He],_i.setAttribute("x",0),_i.setAttribute("y",Ui),_i.style.display="inherit",Xi.appendChild(_i),this.textSpans[He]||(this.textSpans[He]={span:null,glyph:null}),this.textSpans[He].span=_i,Ui+=je.finalLineHeight;this.layerElement.appendChild(Xi)}for(;He<this.textSpans.length;)this.textSpans[He].span.style.display="none",He+=1;this._sizeChanged=!0},Bi.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var He=this.layerElement.getBBox();this.bbox={top:He.y,left:He.x,width:He.width,height:He.height}}return this.bbox},Bi.prototype.getValue=function(){var He,$e,je=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,He=0;He<je;He+=1)($e=this.textSpans[He].glyph)&&($e.prepareFrame(this.comp.renderedFrame-this.data.st),$e._mdf&&(this._mdf=!0))},Bi.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var He,$e;this._sizeChanged=!0;var je,Ye,ti,mi=this.textAnimator.renderedLetters,_i=this.textProperty.currentData.l;for($e=_i.length,He=0;He<$e;He+=1)_i[He].n||(je=mi[He],Ye=this.textSpans[He].span,(ti=this.textSpans[He].glyph)&&ti.renderFrame(),je._mdf.m&&Ye.setAttribute("transform",je.m),je._mdf.o&&Ye.setAttribute("opacity",je.o),je._mdf.sw&&Ye.setAttribute("stroke-width",je.sw),je._mdf.sc&&Ye.setAttribute("stroke",je.sc),je._mdf.fc&&Ye.setAttribute("fill",je.fc))}},s([Je],ki),ki.prototype.createContent=function(){var He=U("rect");He.setAttribute("width",this.data.sw),He.setAttribute("height",this.data.sh),He.setAttribute("fill",this.data.sc),this.layerElement.appendChild(He)},xi.prototype.prepareFrame=function(He){this.prepareProperties(He,!0)},xi.prototype.renderFrame=function(){},xi.prototype.getBaseElement=function(){return null},xi.prototype.destroy=function(){},xi.prototype.sourceRectAtTime=function(){},xi.prototype.hide=function(){},s([Me,Ge,qe,Fe],xi),s([Ne],wi),wi.prototype.createNull=function(He){return new xi(He,this.globalData,this)},wi.prototype.createShape=function(He){return new gi(He,this.globalData,this)},wi.prototype.createText=function(He){return new Bi(He,this.globalData,this)},wi.prototype.createImage=function(He){return new Je(He,this.globalData,this)},wi.prototype.createSolid=function(He){return new ki(He,this.globalData,this)},wi.prototype.configAnimation=function(He){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+He.w+" "+He.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",He.w),this.svgElement.setAttribute("height",He.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var $e=this.globalData.defs;this.setupGlobalData(He,$e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=He;var je=U("clipPath"),Ye=U("rect");Ye.setAttribute("width",He.w),Ye.setAttribute("height",He.h),Ye.setAttribute("x",0),Ye.setAttribute("y",0);var ti=Ki();je.setAttribute("id",ti),je.appendChild(Ye),this.layerElement.setAttribute("clip-path","url("+r()+"#"+ti+")"),$e.appendChild(je),this.layers=He.layers,this.elements=l(He.layers.length)},wi.prototype.destroy=function(){var He;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var $e=this.layers?this.layers.length:0;for(He=0;He<$e;He+=1)this.elements[He]&&this.elements[He].destroy&&this.elements[He].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},wi.prototype.updateContainerSize=function(){},wi.prototype.findIndexByInd=function(He){var $e=0,je=this.layers.length;for($e=0;$e<je;$e+=1)if(this.layers[$e].ind===He)return $e;return-1},wi.prototype.buildItem=function(He){var $e=this.elements;if(!$e[He]&&99!==this.layers[He].ty){$e[He]=!0;var je=this.createItem(this.layers[He]);if($e[He]=je,P()&&(0===this.layers[He].ty&&this.globalData.projectInterface.registerComposition(je),je.initExpressions()),this.appendElementInPos(je,He),this.layers[He].tt){var Ye="tp"in this.layers[He]?this.findIndexByInd(this.layers[He].tp):He-1;if(-1===Ye)return;if(this.elements[Ye]&&!0!==this.elements[Ye]){var ti=$e[Ye].getMatte(this.layers[He].tt);je.setMatte(ti)}else this.buildItem(Ye),this.addPendingElement(je)}}},wi.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var He=this.pendingElements.pop();if(He.checkParenting(),He.data.tt)for(var $e=0,je=this.elements.length;$e<je;){if(this.elements[$e]===He){var Ye="tp"in He.data?this.findIndexByInd(He.data.tp):$e-1,ti=this.elements[Ye].getMatte(this.layers[$e].tt);He.setMatte(ti);break}$e+=1}}},wi.prototype.renderFrame=function(He){if(this.renderedFrame!==He&&!this.destroyed){var $e;null===He?He=this.renderedFrame:this.renderedFrame=He,this.globalData.frameNum=He,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=He,this.globalData._mdf=!1;var je=this.layers.length;for(this.completeLayers||this.checkLayers(He),$e=je-1;$e>=0;$e-=1)(this.completeLayers||this.elements[$e])&&this.elements[$e].prepareFrame(He-this.layers[$e].st);if(this.globalData._mdf)for($e=0;$e<je;$e+=1)(this.completeLayers||this.elements[$e])&&this.elements[$e].renderFrame()}},wi.prototype.appendElementInPos=function(He,$e){var je=He.getBaseElement();if(je){for(var Ye,ti=0;ti<$e;)this.elements[ti]&&!0!==this.elements[ti]&&this.elements[ti].getBaseElement()&&(Ye=this.elements[ti].getBaseElement()),ti+=1;Ye?this.layerElement.insertBefore(je,Ye):this.layerElement.appendChild(je)}},wi.prototype.hide=function(){this.layerElement.style.display="none"},wi.prototype.show=function(){this.layerElement.style.display="block"},s([Me,Ge,qe,Fe,We],Qi),Qi.prototype.initElement=function(He,$e,je){this.initFrame(),this.initBaseData(He,$e,je),this.initTransform(He,$e,je),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&$e.progressiveLoad||this.buildAllItems(),this.hide()},Qi.prototype.prepareFrame=function(He){if(this._mdf=!1,this.prepareRenderableFrame(He),this.prepareProperties(He,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=He/this.data.sr;else{var $e=this.tm.v;$e===this.data.op&&($e=this.data.op-1),this.renderedFrame=$e}var je,Ye=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),je=Ye-1;je>=0;je-=1)(this.completeLayers||this.elements[je])&&(this.elements[je].prepareFrame(this.renderedFrame-this.layers[je].st),this.elements[je]._mdf&&(this._mdf=!0))}},Qi.prototype.renderInnerContent=function(){var He,$e=this.layers.length;for(He=0;He<$e;He+=1)(this.completeLayers||this.elements[He])&&this.elements[He].renderFrame()},Qi.prototype.setElements=function(He){this.elements=He},Qi.prototype.getElements=function(){return this.elements},Qi.prototype.destroyElements=function(){var He,$e=this.layers.length;for(He=0;He<$e;He+=1)this.elements[He]&&this.elements[He].destroy()},Qi.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},s([wi,Qi,ze],Si),Si.prototype.createComp=function(He){return new Si(He,this.globalData,this)},s([wi],bi),bi.prototype.createComp=function(He){return new Si(He,this.globalData,this)},ga=bi,lr.svg=ga,ta.registerModifier("tm",Ut),ta.registerModifier("pb",Gt),ta.registerModifier("rp",jt),ta.registerModifier("rd",Yt),ta.registerModifier("zz",ne),ta.registerModifier("op",me),Nr}());const c=A(u.exports);function g(He,$e=document){return $e.querySelector(He)}function f(He,$e=document){return Array.from($e.querySelectorAll(He))}function p(He,$e){return He.classList.add($e)}function m(He,$e){return He.classList.remove($e)}function v(He,$e){return He.classList.contains($e)}function E(He,$e){return $e instanceof Element?He.appendChild($e):He.insertAdjacentHTML("beforeend",String($e)),He.lastElementChild||He.lastChild}function y(He){return He.parentNode.removeChild(He)}function I(He,$e,je){return He.style[$e]=je,He}function C(He,$e){for(const je in $e)I(He,je,$e[je]);return He}function B(He,$e,je=!0){const Ye=window.getComputedStyle(He,null).getPropertyValue($e);return je?parseFloat(Ye):Ye}function k(He){return Array.from(He.parentElement.children).filter(($e=>$e!==He))}function x(He,$e){k(He).forEach((He=>m(He,$e))),p(He,$e)}function w(He,$e,je="top"){h||(He.setAttribute("aria-label",$e),He.setAttribute("role","button"),p(He,"hint--rounded"),p(He,`hint--${je}`))}function Q(He,$e=0){const je=He.getBoundingClientRect(),Ye=window.innerHeight||document.documentElement.clientHeight,ti=window.innerWidth||document.documentElement.clientWidth,mi=je.top-$e<=Ye&&je.top+je.height+$e>=0,_i=je.left-$e<=ti+$e&&je.left+je.width+$e>=0;return mi&&_i}function S(He,$e){return He.composedPath&&He.composedPath().indexOf($e)>-1}function b(He,$e){return $e.parentNode.replaceChild(He,$e),He}function D(He){return document.createElement(He)}function R(He="",$e=""){const je=D("div");return p(je,"art-icon"),p(je,`art-icon-${He}`),E(je,$e),je}function L(He,$e,je){const Ye=E($e,R(je));return[Ye,c.loadAnimation({name:je,container:Ye,renderer:"svg",loop:!1,autoplay:!0,animationData:He})]}class T extends Error{constructor(He,$e){super(He),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,$e||this.constructor),this.name="ArtPlayerError"}}function M(He,$e){if(!He)throw new T($e);return He}function F(He){return He.includes("?")?F(He.split("?")[0]):He.includes("#")?F(He.split("#")[0]):He.trim().toLowerCase().split(".").pop()}const P=Object.defineProperty,{hasOwnProperty:_}=Object.prototype;function N(He,$e){return _.call(He,$e)}function U(He,$e){return Object.getOwnPropertyDescriptor(He,$e)}function G(...He){const e=He=>He&&"object"==typeof He&&!Array.isArray(He);return He.reduce(((He,$e)=>(Object.keys($e).forEach((je=>{const Ye=He[je],ti=$e[je];Array.isArray(Ye)&&Array.isArray(ti)?He[je]=Ye.concat(...ti):e(Ye)&&e(ti)?He[je]=G(Ye,ti):He[je]=ti})),He)),{})}function O(He=0){return new Promise(($e=>setTimeout($e,He)))}function j(He,$e){let je;return function(...Ye){clearTimeout(je),je=setTimeout((()=>(je=null,He.apply(this,Ye))),$e)}}function Y(He,$e){let je=!1;return function(...Ye){je||(He.apply(this,Ye),je=!0,setTimeout((function(){je=!1}),$e))}}function H(He,$e,je){return Math.max(Math.min(He,Math.max($e,je)),Math.min($e,je))}function V(He){return He.charAt(0).toUpperCase()+He.slice(1)}function K(He){return["string","number"].includes(typeof He)}function z(He){if(!He)return"00:00";const $e=Math.floor(He/3600),je=Math.floor((He-3600*$e)/60),Ye=Math.floor(He-3600*$e-60*je);return($e>0?[$e,je,Ye]:[je,Ye]).map((He=>He<10?`0${He}`:String(He))).join(":")}const q=Object.freeze(Object.defineProperty({__proto__:null,ArtPlayerError:T,addClass:p,append:E,assToVtt:function(He){const $e=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function i(He=""){return He.split(/[:.]/).map(((He,$e,je)=>{if($e===je.length-1){if(1===He.length)return`.${He}00`;if(2===He.length)return`.${He}0`}else if(1===He.length)return(0===$e?"0":":0")+He;return 0===$e?He:$e===je.length-1?`.${He}`:`:${He}`})).join("")}return`WEBVTT\n\n${He.split(/\r?\n/).map((He=>{const je=He.match($e);return je?{start:i(je[1].trim()),end:i(je[2].trim()),text:je[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,"\n").trim().split(/\r?\n/).map((He=>He.trim())).join("\n")}:null})).filter((He=>He)).map(((He,$e)=>He?`${$e+1}\n${He.start} --\x3e ${He.end}\n${He.text}`:"")).filter((He=>He.trim())).join("\n\n")}`},capitalize:V,clamp:H,createAnimation:L,createElement:D,debounce:j,def:P,download:function(He,$e){const je=document.createElement("a");je.style.display="none",je.href=He,je.download=$e,document.body.appendChild(je),je.click(),document.body.removeChild(je)},errorHandle:M,escape:function(He){return He.replace(/[&<>'"]/g,(He=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[He]||He)))},get:U,getExt:F,getIcon:R,getStyle:B,has:N,hasClass:v,includeFromEvent:S,inverseClass:x,isAndroid:s,isBrowser:l,isIE:a,isIOS:n,isIOS13:o,isInViewport:Q,isMobile:h,isSafari:i,isStringOrNumber:K,isWechat:r,mergeDeep:G,query:g,queryAll:f,remove:y,removeClass:m,replaceElement:b,secondToTime:z,setStyle:I,setStyleText:function(He,$e){const je=document.getElementById(He);if(je)je.textContent=$e;else{const je=D("style");je.id=He,je.textContent=$e,document.head.appendChild(je)}},setStyles:C,sleep:O,srtToVtt:function(He){return"WEBVTT \r\n\r\n".concat(($e=He,$e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,((He,$e,je)=>{let Ye=je.slice(0,3);return 1===je.length&&(Ye=je+"00"),2===je.length&&(Ye=je+"0"),`${$e},${Ye}`}))).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat("\r\n\r\n"));var $e},sublings:k,throttle:Y,tooltip:w,unescape:function(He){const $e={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'},je=new RegExp(`(${Object.keys($e).join("|")})`,"g");return He.replace(je,(He=>$e[He]||He))},userAgent:e,vttToBlob:function(He){return URL.createObjectURL(new Blob([He],{type:"text/vtt"}))}},Symbol.toStringTag,{value:"Module"})),W={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]};class J{constructor(He){this.art=He;const{option:$e,constructor:je}=He;$e.container instanceof Element?this.$container=$e.container:(this.$container=g($e.container),M(this.$container,`No container element found by ${$e.container}`));const Ye=this.$container.tagName.toLowerCase();M("div"===Ye,`Unsupported container element type, only support 'div' but got '${Ye}'`),M(je.instances.every((He=>He.template.$container!==this.$container)),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=He.id,this.$original=this.$container.cloneNode(!0),this.init()}static get html(){return'\n          <div class="art-video-player art-subtitle-show art-layer-show art-control-show art-mask-show">\n            <video class="art-video">\n              <track default kind="metadata" src=""></track>\n            </video>\n            <div class="art-poster"></div>\n            <div class="art-subtitle"></div>\n            <div class="art-danmuku"></div>\n            <div class="art-layers"></div>\n            <div class="art-mask">\n              <div class="art-state"></div>\n            </div>\n            <div class="art-head">\n              <div class="art-head-left"></div>\n              <div class="art-head-center"></div>\n              <div class="art-head-right"></div>\n            </div>\n            <div class="art-bottom">\n              <div class="art-progress"></div>\n              <div class="art-controls">\n                <div class="art-controls-left"></div>\n                <div class="art-controls-center"></div>\n                <div class="art-controls-right"></div>\n              </div>\n            </div>\n            <div class="art-loading"></div>\n            <div class="art-notice">\n              <div class="art-notice-inner"></div>\n            </div>\n            <div class="art-settings"></div>\n            <div class="art-info">\n              <div class="art-info-panel">\n              <div class="art-info-item art-info-title">统计信息</div>\n              <div class="art-info-item" data-video="currentSrc"></div>\n              <div class="art-info-item" data-video="type"></div>\n              <div class="art-info-item" data-video="duration"></div>\n              <div class="art-info-item" data-video="size"></div>\n              </div>\n              <div class="art-info-close">[x]</div>\n            </div>\n            <div class="art-contextmenus"></div>\n          </div>\n        '}query(He){return g(He,this.$container)}init(){const{option:He}=this.art;He.useSSR||(this.$container.innerHTML=J.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$track=this.query("track"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$head=this.query(".art-head"),this.$headRight=this.query(".art-head-right"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsCenter=this.query(".art-controls-center"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$contextmenu=this.query(".art-contextmenus"),He.backdrop&&p(this.$player,"art-backdrop"),h&&p(this.$player,"art-mobile")}destroy(He){He?b(this.$original,this.$container):p(this.$player,"art-destroy")}}const Z={"Video Info":"统计信息",Close:"关闭","Video Load Failed":"加载失败",Volume:"音量",Play:"播放",Pause:"暂停",Rate:"速度",Mute:"静音","Video Flip":"画面翻转",Horizontal:"水平",Vertical:"垂直",Reconnect:"重新连接","Show Setting":"显示设置","Hide Setting":"隐藏设置",Screenshot:"截图","Play Speed":"倍速","Aspect Ratio":"画面比例",Default:"默认",Normal:"正常",Open:"打开","Switch Video":"切换","Switch Subtitle":"切换字幕",Fullscreen:"全屏","Exit Fullscreen":"退出全屏","Web Fullscreen":"网页全屏","Exit Web Fullscreen":"退出网页全屏","Mini Player":"迷你播放器","PIP Mode":"开启画中画","Exit PIP Mode":"退出画中画","PIP Not Supported":"不支持画中画","Fullscreen Not Supported":"不支持全屏","Subtitle Offset":"字幕偏移","Last Seen":"已为你定位至",AirPlay:"隔空播放","AirPlay Not Available":"隔空播放不可用",Theme:"主题颜色",Issue:"反馈"};"undefined"!=typeof window&&(window["artplayer-i18n-zh-cn"]=Z);class X{constructor(He){this.art=He,this.languages={"zh-cn":Z},this.language={},this.update(He.option.i18n)}init(){const He=this.art.option.lang.toLowerCase();this.language=this.languages[He]||{}}get(He){return this.language[He]||He}update(He){this.languages=G(this.languages,He),this.init()}}const $=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],tt=(()=>{if("undefined"==typeof document)return!1;const He=$[0],$e={};for(const je of $)if(je[1]in document){for(const[Ye,ti]of je.entries())$e[He[Ye]]=ti;return $e}return!1})(),et={change:tt.fullscreenchange,error:tt.fullscreenerror};let it={request:(He=document.documentElement,$e)=>new Promise(((je,Ye)=>{const a=()=>{it.off("change",a),je()};it.on("change",a);const ti=He[tt.requestFullscreen]($e);ti instanceof Promise&&ti.then(a).catch(Ye)})),exit:()=>new Promise(((He,$e)=>{if(!it.isFullscreen)return void He();const i=()=>{it.off("change",i),He()};it.on("change",i);const je=document[tt.exitFullscreen]();je instanceof Promise&&je.then(i).catch($e)})),toggle:(He,$e)=>it.isFullscreen?it.exit():it.request(He,$e),onchange(He){it.on("change",He)},onerror(He){it.on("error",He)},on(He,$e){const je=et[He];je&&document.addEventListener(je,$e,!1)},off(He,$e){const je=et[He];je&&document.removeEventListener(je,$e,!1)},raw:tt};Object.defineProperties(it,{isFullscreen:{get:()=>Boolean(document[tt.fullscreenElement])},element:{enumerable:!0,get:()=>document[tt.fullscreenElement]},isEnabled:{enumerable:!0,get:()=>Boolean(document[tt.fullscreenEnabled])}}),tt||(it={isEnabled:!1});const rt=it;function at(He){const{i18n:$e,notice:je,template:{$video:Ye,$player:ti}}=He;He.once("video:loadedmetadata",(()=>{var mi;rt.isEnabled?(mi=He,rt.on("change",(()=>{mi.emit("fullscreen",rt.isFullscreen)})),P(mi,"fullscreen",{get:()=>rt.isFullscreen,async set(He){He?(mi.state="fullscreen",await rt.request(ti),p(ti,"art-fullscreen")):(await rt.exit(),m(ti,"art-fullscreen")),mi.emit("resize")}})):document.fullscreenEnabled||Ye.webkitSupportsFullscreen?(He=>{P(He,"fullscreen",{get:()=>Ye.webkitDisplayingFullscreen,set($e){$e?(He.state="fullscreen",Ye.webkitEnterFullscreen(),He.emit("fullscreen",!0)):(Ye.webkitExitFullscreen(),He.emit("fullscreen",!1)),He.emit("resize")}})})(He):P(He,"fullscreen",{get:()=>!1,set(){je.show=$e.get("Fullscreen Not Supported")}}),P(He,"fullscreen",U(He,"fullscreen"))}))}function st(He){const{i18n:$e,notice:je,template:{$video:Ye}}=He;document.pictureInPictureEnabled?function(He){const{template:{$video:$e},proxy:je,notice:Ye}=He;$e.disablePictureInPicture=!1,P(He,"pip",{get:()=>document.pictureInPictureElement,set(je){je?(He.state="pip",$e.requestPictureInPicture().catch((He=>{throw Ye.show=He,He}))):document.exitPictureInPicture().catch((He=>{throw Ye.show=He,He}))}}),je($e,"enterpictureinpicture",(()=>{He.emit("pip",!0)})),je($e,"leavepictureinpicture",(()=>{He.emit("pip",!1)}))}(He):Ye.webkitSupportsPresentationMode?function(He){const{$video:$e}=He.template;$e.webkitSetPresentationMode("inline"),P(He,"pip",{get:()=>"picture-in-picture"===$e.webkitPresentationMode,set(je){je?(He.state="pip",$e.webkitSetPresentationMode("picture-in-picture"),He.emit("pip",!0)):($e.webkitSetPresentationMode("inline"),He.emit("pip",!1))}})}(He):P(He,"pip",{get:()=>!1,set(){je.show=$e.get("PIP Not Supported")}})}class nt{constructor(He){!function(He){const{option:$e,template:{$video:je}}=He;P(He,"url",{get:()=>je.src,async set(Ye){if(Ye){const ti=He.url,mi=$e.type||F(Ye),_i=$e.customType[mi];He.emit("url",Ye),mi&&_i?(await O(),He.loading.show=!0,_i.call(He,je,Ye,He)):(URL.revokeObjectURL(ti),je.src=Ye),ti!==He.url&&(He.option.url=Ye,He.isReady&&ti&&He.once("video:canplay",(()=>{He.emit("restart",Ye)})))}else await O(),He.loading.show=!0}})}(He),function(He){const{option:$e,constructor:{instances:je},template:{$video:Ye}}=He;P(He,"play",{value:async function(){const ti=await Ye.play();if(He.emit("play"),$e.mutex)for(let $e=0;$e<je.length;$e++){const Ye=je[$e];Ye!==He&&Ye.pause()}return ti}})}(He),function(He){const{template:{$video:$e}}=He;P(He,"pause",{value(){const je=$e.pause();return He.emit("pause"),je}})}(He),function(He){P(He,"toggle",{value:()=>He.playing?He.pause():He.play()})}(He),function(He){P(He,"seek",{set($e){He.currentTime=$e,He.emit("seek",He.currentTime)}}),P(He,"forward",{set($e){He.seek=He.currentTime+$e}}),P(He,"backward",{set($e){He.seek=He.currentTime-$e}})}(He),function(He){const{template:{$video:$e},i18n:je,notice:Ye,storage:ti}=He;P(He,"volume",{get:()=>$e.volume||0,set:He=>{$e.volume=H(He,0,1),Ye.show=`${je.get("Volume")}: ${parseInt(100*$e.volume,10)}`,0!==$e.volume&&ti.mediaSet("volume",$e.volume)}}),P(He,"muted",{get:()=>$e.muted,set:je=>{$e.muted=je,He.emit("muted",je)}})}(He),function(He){const{$video:$e}=He.template;P(He,"currentTime",{get:()=>$e.currentTime||0,set:je=>{je=parseFloat(je),Number.isNaN(je)||($e.currentTime=H(je,0,He.duration))}})}(He),function(He){P(He,"duration",{get:()=>{const{duration:$e}=He.template.$video;return $e===1/0?0:$e||0}})}(He),function(He){function e($e,je){return new Promise(((Ye,ti)=>{if($e===He.url)return;const{playing:mi,aspectRatio:_i,playbackRate:Pi}=He;He.pause(),He.url=$e,He.notice.show="",He.once("video:error",ti),He.once("video:canplay",(async()=>{He.playbackRate=Pi,He.aspectRatio=_i,He.currentTime=je,mi&&await He.play(),He.notice.show="",Ye()}))}))}P(He,"switchQuality",{value:$e=>e($e,He.currentTime)}),P(He,"switchUrl",{value:He=>e(He,0)}),P(He,"switch",{set:He.switchUrl})}(He),function(He){const{template:{$video:$e},i18n:je,notice:Ye}=He;P(He,"playbackRate",{get:()=>$e.playbackRate,set(ti){if(ti){if(ti===$e.playbackRate)return;$e.playbackRate=ti,Ye.show=`${je.get("Rate")}: ${1===ti?je.get("Normal"):`${ti}x`}`}else He.playbackRate=1}})}(He),function(He){const{i18n:$e,notice:je,template:{$video:Ye,$player:ti}}=He;P(He,"aspectRatio",{get:()=>ti.dataset.aspectRatio||"default",set($e){if($e||($e="default"),"default"===$e)I(Ye,"width",null),I(Ye,"height",null),I(Ye,"margin",null),delete ti.dataset.aspectRatio;else{const He=$e.split(":").map(Number),{clientWidth:je,clientHeight:mi}=ti,_i=je/mi,Pi=He[0]/He[1];_i>Pi?(I(Ye,"width",Pi*mi+"px"),I(Ye,"height","100%"),I(Ye,"margin","0 auto")):(I(Ye,"width","100%"),I(Ye,"height",je/Pi+"px"),I(Ye,"margin","auto 0")),ti.dataset.aspectRatio=$e}He.emit("aspectRatio",$e)}})}(He),at(He),st(He),function(He){const{$video:$e}=He.template;P(He,"loaded",{get:()=>He.loadedTime/$e.duration}),P(He,"loadedTime",{get:()=>$e.buffered.length?$e.buffered.end($e.buffered.length-1):0})}(He),function(He){P(He,"played",{get:()=>He.currentTime/He.duration})}(He),function(He){const{$video:$e}=He.template;P(He,"playing",{get:()=>!!($e.currentTime>0&&!$e.paused&&!$e.ended&&$e.readyState>2)})}(He),function(He){const{$container:$e,$player:je,$video:Ye}=He.template;P(He,"autoSize",{value(){const{videoWidth:ti,videoHeight:mi}=Ye,{width:_i,height:Pi}=$e.getBoundingClientRect(),Mi=ti/mi;if(_i/Pi>Mi)I(je,"width",Pi*Mi/_i*100+"%"),I(je,"height","100%");else{const He=_i/Mi/Pi*100;I(je,"width","100%"),I(je,"height",`${He}%`)}He.emit("autoSize",{width:He.width,height:He.height})}})}(He),function(He){P(He,"rect",{get:()=>He.template.$player.getBoundingClientRect()});const $e=["bottom","height","left","right","top","width"];for(let je=0;je<$e.length;je++){const Ye=$e[je];P(He,Ye,{get:()=>He.rect[Ye]})}P(He,"x",{get:()=>He.left+window.pageXOffset}),P(He,"y",{get:()=>He.top+window.pageYOffset})}(He),function(He){const{template:{$player:$e},i18n:je,notice:Ye}=He;P(He,"flip",{get:()=>$e.dataset.flip||"normal",set(ti){ti||(ti="normal"),"normal"===ti?delete $e.dataset.flip:$e.dataset.flip=ti,Ye.show=`${je.get("Video Flip")}: ${je.get(V(ti))}`,He.emit("flip",ti)}})}(He),function(He){const{template:{$poster:$e}}=He;P(He,"poster",{get:()=>{try{return $e.style.backgroundImage.match(/"(.*)"/)[1]}catch(He){return""}},set(He){I($e,"backgroundImage",`url(${He})`)}})}(He),function(He){const{template:{$container:$e,$video:je}}=He;P(He,"autoHeight",{value(){const{clientWidth:Ye}=$e,{videoHeight:ti,videoWidth:mi}=je,_i=ti*(Ye/mi);I($e,"height",_i+"px"),He.emit("autoHeight",_i)}})}(He),function(He){const{$player:$e}=He.template;P(He,"cssVar",{value:(He,je)=>je?$e.style.setProperty(He,je):getComputedStyle($e).getPropertyValue(He)})}(He),function(He){P(He,"theme",{get:()=>He.cssVar("--art-theme"),set($e){He.cssVar("--art-theme",$e)}})}(He),function(He){P(He,"type",{get:()=>He.option.type,set($e){He.option.type=$e}})}(He),function(He){const $e=["mini","pip","fullscreen","fullscreenWeb"];P(He,"state",{get:()=>$e.find(($e=>He[$e]))||"standard",set(je){for(let Ye=0;Ye<$e.length;Ye++){const ti=$e[Ye];ti!==je&&He[ti]&&(He[ti]=!1)}}})}(He),function(He){P(He,"quality",{set($e){const{controls:je,notice:Ye,i18n:ti}=He,mi=$e.find((He=>He.default))||$e[0];je.update({name:"quality",position:"right",index:10,style:{marginRight:"10px"},html:mi?mi.html:"",selector:$e,async onSelect($e){await He.switchQuality($e.url),Ye.show=`${ti.get("Switch Video")}: ${$e.html}`}})}})}(He),function(He){const{i18n:$e,notice:je,option:Ye,constructor:ti,proxy:mi,template:{$player:_i,$video:Pi,$poster:Mi}}=He;let Fi=0;const Oi="，请切换线路";for(let $e=0;$e<W.events.length;$e++)mi(Pi,W.events[$e],($e=>{He.emit(`video:${$e.type}`,$e)}));He.on("video:canplay",(()=>{Fi=0,He.loading.show=!1})),He.once("video:canplay",(()=>{He.loading.show=!1,He.controls.show=!0,He.mask.show=!0,He.isReady=!0,He.emit("ready")})),He.on("video:ended",(()=>{Ye.loop?(He.seek=0,He.play(),He.controls.show=!1,He.mask.show=!1):(He.controls.show=!0,He.mask.show=!0)})),He.on("video:error",(async mi=>{Ye.id===mi.target.currentSrc?je.show=$e.get("Video Load Failed")+Oi:Fi<ti.RECONNECT_TIME_MAX?(Fi+=1,He.emit("error",mi,Fi),await O(ti.RECONNECT_SLEEP_TIME),je.show=`${$e.get("Reconnect")}: ${Fi}`,He.url=Ye.url):(Fi=0,He.mask.show=!0,He.loading.show=!1,He.controls.show=!0,p(_i,"art-error"),await O(ti.RECONNECT_SLEEP_TIME),je.show=$e.get("Video Load Failed")+Oi)})),He.on("video:loadedmetadata",(()=>{He.emit("resize"),h&&(He.loading.show=!1,He.controls.show=!0,He.mask.show=!0)})),He.on("video:loadstart",(()=>{He.loading.show=!0,He.mask.show=!1,He.controls.show=!0})),He.on("video:pause",(()=>{He.controls.show=!0,He.mask.show=!0})),He.on("video:play",(()=>{He.mask.show=!1,I(Mi,"display","none")})),He.on("video:playing",(()=>{He.mask.show=!1})),He.on("video:progress",(()=>{He.playing&&(He.loading.show=!1)})),He.on("video:seeked",(()=>{He.loading.show=!1,He.mask.show=!0})),He.on("video:seeking",(()=>{He.loading.show=!0,He.mask.show=!1})),He.on("video:timeupdate",(()=>{He.mask.show=!1})),He.on("video:waiting",(()=>{He.loading.show=!0,He.mask.show=!1}))}(He),function(He){const{option:$e,storage:je,template:{$video:Ye,$poster:ti}}=He;$e.muted&&(He.muted=$e.muted),$e.volume&&(Ye.volume=H($e.volume,0,1));const mi=je.mediaGet("volume");"number"==typeof mi&&(Ye.volume=H(mi,0,1)),$e.poster&&I(ti,"backgroundImage",`url(${$e.poster})`),$e.autoplay&&(Ye.autoplay=$e.autoplay),$e.playsInline&&(Ye.playsInline=!0,Ye["webkit-playsinline"]=!0),$e.theme&&($e.cssVar["--art-theme"]=je.mediaGet("theme")||$e.theme);for(const je in $e.cssVar)He.cssVar(je,$e.cssVar[je]);He.url=$e.url}(He)}}class ot{constructor(He){this.id=0,this.art=He,this.cache=new Map,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.update=this.update.bind(this)}get show(){return v(this.art.template.$player,`art-${this.name}-show`)}set show(He){const{$player:$e}=this.art.template,je=`art-${this.name}-show`;He?p($e,je):m($e,je),this.art.emit(this.name,He)}toggle(){this.show=!this.show}add(He){const $e="function"==typeof He?He(this.art):He;if($e.html=$e.html||"",!this.$parent||!this.name||$e.disable)return;const je=$e.name||`${this.name}${this.id}`;M(!this.cache.get(je),`Can't add an existing [${je}] to the [${this.name}]`),this.id+=1;const Ye=D("div");p(Ye,`art-${this.name}`),p(Ye,`art-${this.name}-${je}`);const ti=Array.from(this.$parent.children);Ye.dataset.index=$e.index||this.id;const mi=ti.find((He=>Number(He.dataset.index)>=Number(Ye.dataset.index)));mi?mi.insertAdjacentElement("beforebegin",Ye):E(this.$parent,Ye),$e.html&&E(Ye,$e.html),$e.style&&C(Ye,$e.style),$e.tooltip&&w(Ye,$e.tooltip);const _i=[];if($e.click){const He=this.art.events.proxy(Ye,"click",(He=>{He.preventDefault(),$e.click.call(this.art,this,He)}));_i.push(He)}return $e.selector&&["left","right"].includes($e.position)&&this.addSelector($e,Ye,_i),this[je]=Ye,this.cache.set(je,{$ref:Ye,events:_i,option:$e}),$e.mounted&&$e.mounted.call(this.art,Ye),Ye}addSelector(He,$e,je){const{hover:Ye,proxy:ti}=this.art.events;p($e,"art-control-selector");const mi=D("div");p(mi,"art-selector-value"),E(mi,He.html),$e.innerText="",E($e,mi);const _i=He.selector.map(((He,$e)=>`<div class="art-selector-item ${He.default?"art-current":""}" data-index="${$e}">${He.html}</div>`)).join(""),Pi=D("div");p(Pi,"art-selector-list"),E(Pi,_i),E($e,Pi);const h=()=>{const He=B($e,"width")/2-B(Pi,"width")/2;Pi.style.left=`${He}px`};Ye($e,h);const Mi=ti(Pi,"click",(async $e=>{const je=($e.composedPath()||[]).find((He=>v(He,"art-selector-item")));if(!je)return;x(je,"art-current");const Ye=Number(je.dataset.index),ti=He.selector[Ye]||{};if(mi.innerText=je.innerText,He.onSelect){const Ye=await He.onSelect.call(this.art,ti,je,$e);K(Ye)&&(mi.innerHTML=Ye)}h()}));je.push(Mi)}remove(He){const $e=this.cache.get(He);M($e,`Can't find [${He}] from the [${this.name}]`),$e.option.beforeUnmount&&$e.option.beforeUnmount.call(this.art,$e.$ref);for(let He=0;He<$e.events.length;He++)this.art.events.remove($e.events[He]);this.cache.delete(He),delete this[He],y($e.$ref)}update(He){const $e=this.cache.get(He.name);return $e&&(He=Object.assign($e.option,He),this.remove(He.name)),this.add(He)}}const ht={v:"5.6.7",fr:60,ip:0,op:60,w:88,h:88,nm:"全屏渐变",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"中心圆",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[44,44,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.81,.81,.833],y:[1,1,1]},o:{x:[1,1,.68],y:[0,0,0]},t:2,s:[100,100,100]},{i:{x:[.991,.991,.27],y:[1,1,1]},o:{x:[1,1,.167],y:[-.014,-.014,0]},t:13,s:[184,184,100]},{t:22,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-2.21,0],[-.11,-2.12],[0,0],[0,0],[2.14,0],[0,2.21]],o:[[2.14,0],[0,0],[0,0],[-.11,2.12],[-2.21,0],[0,-2.21]],v:[[0,-4],[4,-.2],[4,0],[4,.2],[0,4],[-4,0]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"左扇形",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:6,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:34,s:[0]},{t:40,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[23.316,27.897,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-11.8,5.91],[0,0],[0,-4.7],[0,0]],o:[[0,0],[-3.93,1.97],[0,0],[0,-14.1]],v:[[4.584,-16.103],[15.314,5.367],[8.684,16.107],[-15.316,16.107]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"右扇形",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:6,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:34,s:[0]},{t:40,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[64.684,27.897,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-14.1],[0,0],[3.93,1.97],[0,0]],o:[[0,0],[0,-4.7],[0,0],[11.79,5.91]],v:[[15.314,16.107],[-8.686,16.107],[-15.316,5.367],[-4.576,-16.103]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"下扇形",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:6,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:34,s:[0]},{t:40,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[44,66.323,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-2.15,2.08],[0,0],[7.07,0],[5.56,3.52],[0,0],[-3.23,0]],o:[[0,0],[-5.56,3.52],[-7.07,0],[0,0],[2.16,2.08],[3.23,0]],v:[[8.319,-13.677],[19.219,8.123],[-.001,13.673],[-19.221,8.123],[-8.321,-13.677],[-.001,-10.327]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"左放射1",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{t:21,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[31.995,35.665,0],to:[.208,.208,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:4,s:[33.245,36.915,0],to:[0,0,0],ti:[.625,.625,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:10,s:[31.995,35.665,0],to:[-.625,-.625,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:21,s:[29.495,33.165,0],to:[0,0,0],ti:[-.417,-.417,0]},{t:29,s:[31.995,35.665,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-4.55],[0,0],[-6.32,3.15]],o:[[-4.07,2.03],[0,0],[0,-7.06],[0,0]],v:[[6.635,-2.405],[.005,8.335],[-6.635,8.335],[3.675,-8.335]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"右放射1",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{t:21,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[55.99,35.665,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:4,s:[54.74,36.915,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:10,s:[55.99,35.665,0],to:[.417,-.417,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:21,s:[58.49,33.165,0],to:[0,0,0],ti:[.417,-.417,0]},{t:29,s:[55.99,35.665,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[4.07,2.03],[0,0],[-.32,-6.71]],o:[[0,0],[0,0],[0,-4.55],[0,0],[6,3.01],[0,0]],v:[[6.62,7.405],[6.62,8.335],[.01,8.335],[-6.62,-2.405],[-3.62,-8.335],[6.62,7.405]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"下放射1",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{t:21,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:0,s:[44,57.655,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:4,s:[44,56.405,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:10,s:[44,57.655,0],to:[0,.417,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:21,s:[44,60.155,0],to:[0,0,0],ti:[0,.417,0]},{t:29,s:[44,57.655,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[3.26,2.51],[0,0],[-4.65,4.47],[0,0],[4.11,.01]],o:[[-4.11,.02],[0,0],[4.65,4.47],[0,0],[-3.27,2.5],[0,0]],v:[[0,4.975],[-11.38,1.135],[-8.32,-4.975],[8.32,-4.975],[11.38,1.135],[0,4.975]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"左放射2",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:13,s:[30]},{t:24,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:3,s:[25.73,31.78,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:7,s:[26.98,33.03,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:13,s:[25.73,31.78,0],to:[-.417,-.417,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24,s:[23.23,29.28,0],to:[0,0,0],ti:[-.417,-.417,0]},{t:32,s:[25.73,31.78,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-9.26,4.63],[0,0],[.01,-7.86]],o:[[0,0],[0,-10.35],[0,0],[-7.03,3.5],[0,0]],v:[[-2.44,12.22],[-9.05,12.22],[6.05,-12.22],[9.05,-6.31],[-2.44,12.22]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"右放射2",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:13,s:[30]},{t:24,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:3,s:[62.275,31.78,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:7,s:[61.025,33.03,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:13,s:[62.275,31.78,0],to:[.417,-.417,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24,s:[64.775,29.28,0],to:[0,0,0],ti:[.417,-.417,0]},{t:32,s:[62.275,31.78,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[6.71,3.34],[0,0],[0,0],[-.49,-9.84]],o:[[0,0],[0,0],[0,0],[-.36,-7.48],[0,0],[0,0],[8.8,4.42],[0,0]],v:[[9.015,10.85],[9.015,12.22],[2.435,12.22],[2.435,11.22],[-9.015,-6.31],[-6.015,-12.22],[-6.015,-12.22],[9.015,10.85]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0},{ddd:0,ind:10,ty:4,nm:"下放射2",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:13,s:[30]},{t:24,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:3,s:[44.01,65.965,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:7,s:[44.01,64.715,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:13,s:[44.01,65.965,0],to:[0,.417,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:24,s:[44.01,68.465,0],to:[0,0,0],ti:[0,.417,0]},{t:32,s:[44.01,65.965,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[5.47,.01],[4.52,3.06],[0,0],[-7.32,5.43],[0,0]],o:[[-5.46,.01],[0,0],[7.32,5.43],[0,0],[-4.52,3.07]],v:[[-.01,5.345],[-15.32,.655],[-12.32,-5.345],[12.32,-5.345],[15.32,.655]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0},{ddd:0,ind:11,ty:4,nm:"左放射3",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:16,s:[30]},{t:27,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:6,s:[19.45,27.895,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:10,s:[20.7,29.145,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:16,s:[19.45,27.895,0],to:[-.417,-.417,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27,s:[16.95,25.395,0],to:[0,0,0],ti:[-.417,-.417,0]},{t:35,s:[19.45,27.895,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[-12.2,6.1],[0,0],[0,-11.13]],o:[[0,0],[0,-13.64],[0,0],[-9.96,4.96],[0,0]],v:[[-4.81,16.105],[-11.45,16.105],[8.45,-16.105],[11.45,-10.165],[-4.81,16.105]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0},{ddd:0,ind:12,ty:4,nm:"右放射3",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:16,s:[30]},{t:27,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:6,s:[68.58,27.895,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:10,s:[67.33,29.145,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:16,s:[68.58,27.895,0],to:[.417,-.417,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27,s:[71.08,25.395,0],to:[0,0,0],ti:[.417,-.417,0]},{t:35,s:[68.58,27.895,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[9.48,4.74],[0,0],[0,-13.64]],o:[[0,0],[0,0],[-.53,-10.58],[0,0],[12.2,6.1],[0,0]],v:[[11.42,16.105],[4.78,16.105],[4.78,14.635],[-11.42,-10.165],[-8.48,-16.105],[11.42,16.105]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0},{ddd:0,ind:13,ty:4,nm:"下放射3",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[30]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:16,s:[30]},{t:27,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:6,s:[44,74.22,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:10,s:[44,72.97,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:16,s:[44,74.22,0],to:[0,.417,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:27,s:[44,76.72,0],to:[0,0,0],ti:[0,.417,0]},{t:35,s:[44,74.22,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[11.74,7.41],[0,0],[-9.83,6.53]],o:[[-11.74,7.41],[0,0],[9.83,6.53],[0,0]],v:[[19.22,.22],[-19.22,.22],[-16.22,-5.78],[16.24,-5.78]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-1,op:300,st:0,bm:0}],markers:[]},lt={v:"5.6.7",fr:60,ip:0,op:61,w:88,h:88,nm:"小窗 hover 额外元素",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"路径",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:30,s:[100]},{t:40,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:10,s:[30.496,33.743,0],to:[2.062,1.833,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[42.871,44.743,0],to:[0,0,0],ti:[2.062,1.833,0]},{t:30,s:[30.496,33.743,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.78,-.79],[0,0],[0,0],[-1.04,.08],[0,0],[0,0],[-.08,-1.04],[0,0],[0,0],[1.03,-.07],[0,0],[0,0],[.08,1.03],[0,0],[0,0],[-1.04,.08],[0,0],[0,0],[0,0],[-.79,.79],[0,0]],o:[[0,0],[0,0],[0,-1.06],[0,0],[0,0],[1.05,0],[0,0],[0,0],[0,1.05],[0,0],[0,0],[-1.06,0],[0,0],[0,0],[0,-1.06],[0,0],[0,0],[0,0],[-.79,-.78],[0,0],[.79,-.79]],v:[[-4.038,-9.809],[2.282,-3.499],[2.282,-7.6],[4.132,-9.6],[4.282,-9.6],[8.282,-9.6],[10.272,-7.749],[10.282,-7.6],[10.282,8.4],[8.432,10.391],[8.282,10.4],[-7.718,10.4],[-9.718,8.551],[-9.718,8.4],[-9.718,4.4],[-7.868,2.4],[-7.718,2.4],[-3.138,2.4],[-9.688,-4.16],[-9.688,-6.99],[-6.868,-9.809]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"小窗",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[67,65,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,-2.209],[0,0],[2.209,0],[0,0],[0,2.209],[0,0],[-2.209,0],[0,0]],o:[[0,0],[0,2.209],[0,0],[-2.209,0],[0,0],[0,-2.209],[0,0],[2.209,0]],v:[[16,-8],[16,8],[12,12],[-12,12],[-16,8],[-16,-8],[-12,-12],[12,-12]],c:!0}]},{i:{x:0,y:1},o:{x:.333,y:0},t:23,s:[{i:[[0,-2.209],[0,0],[2.209,0],[0,0],[0,2.209],[0,0],[-2.209,0],[0,0]],o:[[0,0],[0,2.209],[0,0],[-2.209,0],[0,0],[0,-2.209],[0,0],[2.209,0]],v:[[19,-4.875],[19,11.125],[15,15.125],[-9,15.125],[-13,11.125],[-13,-4.875],[-9,-8.875],[15,-8.875]],c:!0}]},{t:40,s:[{i:[[0,-2.209],[0,0],[2.209,0],[0,0],[0,2.209],[0,0],[-2.209,0],[0,0]],o:[[0,0],[0,2.209],[0,0],[-2.209,0],[0,0],[0,-2.209],[0,0],[2.209,0]],v:[[16,-8],[16,8],[12,12],[-12,12],[-16,8],[-16,-8],[-12,-12],[12,-12]],c:!0}]}],ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"Rectangle",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"路径",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[41,41,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,0],[0,-4.42],[0,0],[0,0],[0,0],[1.77,0],[0,0],[.09,-1.68],[0,0],[0,0],[-1.68,-.09],[0,0],[0,0],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0]],o:[[4.42,0],[0,0],[0,0],[0,0],[0,-1.77],[0,0],[-1.71,0],[0,0],[0,0],[0,1.71],[0,0],[0,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0]],v:[[26,-28],[34,-20],[34,4],[26,4],[26,-16.8],[22.8,-20],[-22.8,-20],[-25.99,-16.98],[-26,-16.8],[-26,16.8],[-22.98,19.99],[-22.8,20],[2,20],[2,28],[-26,28],[-34,20],[-34,-20],[-26,-28]],c:!0}]},{i:{x:0,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,-4.42],[0,0],[0,0],[0,0],[1.77,0],[0,0],[.09,-1.68],[0,0],[0,0],[-1.68,-.09],[0,0],[0,0],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0]],o:[[4.42,0],[0,0],[0,0],[0,0],[0,-1.77],[0,0],[-1.71,0],[0,0],[0,0],[0,1.71],[0,0],[0,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0]],v:[[29.35,-21.5],[37.35,-13.5],[37.45,8],[29.45,8],[29.35,-10.3],[26.15,-13.5],[-17.45,-13.5],[-20.64,-10.48],[-20.65,-10.3],[-20.7,19.3],[-17.68,22.49],[-17.5,22.5],[7.05,22.5],[7.05,30.5],[-20.7,30.5],[-28.7,22.5],[-28.65,-13.5],[-20.65,-21.5]],c:!0}]},{i:{x:0,y:1},o:{x:.333,y:0},t:40,s:[{i:[[0,0],[0,-4.42],[0,0],[0,0],[0,0],[1.77,0],[0,0],[.09,-1.68],[0,0],[0,0],[-1.68,-.09],[0,0],[0,0],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0]],o:[[4.42,0],[0,0],[0,0],[0,0],[0,-1.77],[0,0],[-1.71,0],[0,0],[0,0],[0,1.71],[0,0],[0,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0]],v:[[26,-28],[34,-20],[34,4],[26,4],[26,-16.8],[22.8,-20],[-22.8,-20],[-25.99,-16.98],[-26,-16.8],[-26,16.8],[-22.98,19.99],[-22.8,20],[2,20],[2,28],[-26,28],[-34,20],[-34,-20],[-26,-28]],c:!0}]},{t:50,s:[{i:[[0,0],[0,-4.42],[0,0],[0,0],[0,0],[1.77,0],[0,0],[.09,-1.68],[0,0],[0,0],[-1.68,-.09],[0,0],[0,0],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0]],o:[[4.42,0],[0,0],[0,0],[0,0],[0,-1.77],[0,0],[-1.71,0],[0,0],[0,0],[0,1.71],[0,0],[0,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0]],v:[[26,-28],[34,-20],[34,4],[26,4],[26,-16.8],[22.8,-20],[-22.8,-20],[-25.99,-16.98],[-26,-16.8],[-26,16.8],[-22.98,19.99],[-22.8,20],[2,20],[2,28],[-26,28],[-34,20],[-34,-20],[-26,-28]],c:!0}]}],ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}],markers:[]},At={v:"5.6.7",fr:60,ip:0,op:61,w:88,h:88,nm:"小窗 hover 额外元素退出 ",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"大框",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[42,44,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,0],[0,-4.42],[0,0],[0,0],[0,0],[1.77,0],[0,0],[.09,-1.68],[0,0],[0,0],[-1.68,-.09],[0,0],[0,0],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0]],o:[[4.42,0],[0,0],[0,0],[0,0],[0,-1.77],[0,0],[-1.71,0],[0,0],[0,0],[0,1.71],[0,0],[0,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0]],v:[[26,-28],[34,-20],[34,4],[26,4],[26,-16.8],[22.8,-20],[-22.8,-20],[-25.99,-16.98],[-26,-16.8],[-26,16.8],[-22.98,19.99],[-22.8,20],[2,20],[2,28],[-26,28],[-34,20],[-34,-20],[-26,-28]],c:!0}]},{i:{x:0,y:1},o:{x:.333,y:0},t:23,s:[{i:[[0,0],[0,-4.42],[0,0],[0,0],[0,0],[1.77,0],[0,0],[.09,-1.68],[0,0],[0,0],[-1.68,-.09],[0,0],[0,0],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0]],o:[[4.42,0],[0,0],[0,0],[0,0],[0,-1.77],[0,0],[-1.71,0],[0,0],[0,0],[0,1.71],[0,0],[0,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0]],v:[[15,-31.875],[23,-23.875],[23,-15.5],[15,-15.5],[15,-20.675],[11.8,-23.875],[-27.05,-23.875],[-30.24,-20.855],[-30.25,-20.675],[-30.25,8.05],[-27.23,11.24],[-27.05,11.25],[-23.25,11.25],[-23.25,19.25],[-30.25,19.25],[-38.25,11.25],[-38.25,-23.875],[-30.25,-31.875]],c:!0}]},{t:40,s:[{i:[[0,0],[0,-4.42],[0,0],[0,0],[0,0],[1.77,0],[0,0],[.09,-1.68],[0,0],[0,0],[-1.68,-.09],[0,0],[0,0],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0]],o:[[4.42,0],[0,0],[0,0],[0,0],[0,-1.77],[0,0],[-1.71,0],[0,0],[0,0],[0,1.71],[0,0],[0,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0]],v:[[26,-28],[34,-20],[34,4],[26,4],[26,-16.8],[22.8,-20],[-22.8,-20],[-25.99,-16.98],[-26,-16.8],[-26,16.8],[-22.98,19.99],[-22.8,20],[2,20],[2,28],[-26,28],[-34,20],[-34,-20],[-26,-28]],c:!0}]}],ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"箭头",td:1,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:10,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:30,s:[100]},{t:40,s:[0]}],ix:11},r:{a:0,k:180,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:10,s:[66.913,68.947,0],to:[-2.062,-1.833,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[54.538,57.947,0],to:[0,0,0],ti:[-2.062,-1.833,0]},{t:30,s:[66.913,68.947,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.78,-.79],[0,0],[0,0],[-1.04,.08],[0,0],[0,0],[-.08,-1.04],[0,0],[0,0],[1.03,-.07],[0,0],[0,0],[.08,1.03],[0,0],[0,0],[-1.04,.08],[0,0],[0,0],[0,0],[-.79,.79],[0,0]],o:[[0,0],[0,0],[0,-1.06],[0,0],[0,0],[1.05,0],[0,0],[0,0],[0,1.05],[0,0],[0,0],[-1.06,0],[0,0],[0,0],[0,-1.06],[0,0],[0,0],[0,0],[-.79,-.78],[0,0],[.79,-.79]],v:[[-4.038,-9.809],[2.282,-3.499],[2.282,-7.6],[4.132,-9.6],[4.282,-9.6],[8.282,-9.6],[10.272,-7.749],[10.282,-7.6],[10.282,8.4],[8.432,10.391],[8.282,10.4],[-7.718,10.4],[-9.718,8.551],[-9.718,8.4],[-9.718,4.4],[-7.868,2.4],[-7.718,2.4],[-3.138,2.4],[-9.688,-4.16],[-9.688,-6.99],[-6.868,-9.809]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:" 小窗",tt:2,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[68,68,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,-2.209],[0,0],[2.209,0],[0,0],[0,2.209],[0,0],[-2.209,0],[0,0]],o:[[0,0],[0,2.209],[0,0],[-2.209,0],[0,0],[0,-2.209],[0,0],[2.209,0]],v:[[16,-8],[16,8],[12,12],[-12,12],[-16,8],[-16,-8],[-12,-12],[12,-12]],c:!0}]},{i:{x:0,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,-2.209],[0,0],[2.209,0],[0,0],[0,2.209],[0,0],[-2.209,0],[0,0]],o:[[0,0],[0,2.209],[0,0],[-2.209,0],[0,0],[0,-2.209],[0,0],[2.209,0]],v:[[9.188,-30.25],[9.188,4.5],[5.188,8.5],[-40.375,8.625],[-44.375,4.625],[-44.375,-30.125],[-40.375,-34.125],[5.188,-34.25]],c:!0}]},{t:40,s:[{i:[[0,-2.209],[0,0],[2.209,0],[0,0],[0,2.209],[0,0],[-2.209,0],[0,0]],o:[[0,0],[0,2.209],[0,0],[-2.209,0],[0,0],[0,-2.209],[0,0],[2.209,0]],v:[[16,-8],[16,8],[12,12],[-12,12],[-16,8],[-16,-8],[-12,-12],[12,-12]],c:!0}]}],ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"Rectangle",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}],markers:[]},dt={v:"5.6.7",fr:60,ip:0,op:60,w:28,h:28,nm:"暂停->播放",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"形状图层 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.67],y:[1]},o:{x:[.33],y:[0]},t:0,s:[100],e:[0]},{t:10}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.67,y:1},o:{x:1,y:0},t:0,s:[14.6,14,0],e:[4,14,0],to:[1.583,0,0],ti:[0,0,0]},{t:12}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[1.094,-.781],[0,0],[0,0],[-1.125,-.75],[0,0],[0,0],[0,1.062],[0,0]],o:[[0,0],[-.688,.562],[0,0],[0,0],[1.125,.75],[0,0],[0,0],[0,-1.062],[0,0]],v:[[-7.031,-10.875],[-9.422,-10.469],[-10,-7.992],[-10,8.016],[-9,10.992],[-5,10.031],[7.969,1.875],[9,0],[7.969,-1.938]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"?? 2",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"?? 1",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:-5,op:88,st:-5,bm:0},{ddd:0,ind:2,ty:4,nm:"形状图层 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:11.199,s:[0],e:[100]},{t:20.80078125}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[24.812,14,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[.809,.809,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:6.4,s:[0,0,100],e:[110,110,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[-.525,-.525,0]},t:16,s:[110,110,100],e:[90,90,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:20.801,s:[90,90,100],e:[100,100,100]},{t:28}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.469,0],[0,0],[0,0],[-2.484,0],[0,0],[0,0]],o:[[-2.469,0],[0,0],[0,0],[2.484,0],[0,0],[0,0]],v:[[-5.484,-10],[-8,-7.984],[-8.008,7.984],[-5.5,9.992],[-3.004,7.996],[-2.984,-8]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"?? 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:4,op:70,st:4,bm:0},{ddd:0,ind:3,ty:4,nm:"形状图层 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.571],y:[1]},o:{x:[.05],y:[0]},t:4,s:[0],e:[100]},{t:23.19921875}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.889],y:[1]},o:{x:[.192],y:[.965]},t:4,s:[25],e:[14]},{t:23.19921875}],ix:3},y:{a:1,k:[{i:{x:[.95],y:[1]},o:{x:[.05],y:[0]},t:4,s:[14],e:[14]},{t:23.19921875}],ix:4}},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.469,0],[0,0],[0,0],[-2.484,0],[0,0],[0,0]],o:[[-2.469,0],[0,0],[0,0],[2.484,0],[0,0],[0,0]],v:[[-5.484,-10],[-8,-7.984],[-8.008,7.984],[-5.5,9.992],[-3.004,7.996],[-2.984,-8]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"?? 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:4,op:70,st:4,bm:0}],markers:[]},ut={v:"5.6.7",fr:60,ip:0,op:60,w:28,h:28,nm:"播放->暂停",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"形状图层 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:7.199,s:[0],e:[100]},{t:26.400390625}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:4.801,s:[4,14,0],e:[14.6,14,0],to:[1.767,0,0],ti:[-1.583,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:24,s:[14.6,14,0],e:[13.5,14,0],to:[1.583,0,0],ti:[.1,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:28.801,s:[13.5,14,0],e:[14,14,0],to:[-.1,0,0],ti:[-.083,0,0]},{t:38.400390625}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[1.094,-.781],[0,0],[0,0],[-1.125,-.75],[0,0],[0,0],[0,1.062],[0,0]],o:[[0,0],[-.688,.562],[0,0],[0,0],[1.125,.75],[0,0],[0,0],[0,-1.062],[0,0]],v:[[-7.031,-10.875],[-9.422,-10.469],[-10,-7.992],[-10,8.016],[-9,10.992],[-5,10.031],[7.969,1.875],[9,0],[7.969,-1.938]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"?? 2",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"?? 1",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:93,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"形状图层 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100],e:[0]},{t:9.599609375}],ix:11},r:{a:0,k:0,ix:10},p:{s:!0,x:{a:1,k:[{i:{x:[.259],y:[1]},o:{x:[.333],y:[0]},t:0,s:[8.75],e:[19]},{t:9.599609375}],ix:3},y:{a:0,k:14,ix:4}},a:{a:0,k:[-5.25,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:4.801,s:[100,100,100],e:[0,0,100]},{t:16.80078125}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.469,0],[0,0],[0,0],[-2.484,0],[0,0],[0,0]],o:[[-2.469,0],[0,0],[0,0],[2.484,0],[0,0],[0,0]],v:[[-5.484,-10],[-8,-7.984],[-8.008,7.984],[-5.5,9.992],[-3.004,7.996],[-2.984,-8]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"?? 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:93,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"形状图层 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[100],e:[0]},{t:12}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[19.438,14.125,0],ix:2},a:{a:0,k:[-5.375,.125,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[100,100,100],e:[0,0,100]},{t:16.80078125}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[2.469,0],[0,0],[0,0],[-2.484,0],[0,0],[0,0]],o:[[-2.469,0],[0,0],[0,0],[2.484,0],[0,0],[0,0]],v:[[-5.484,-10],[-8,-7.984],[-8.008,7.984],[-5.5,9.992],[-3.004,7.996],[-2.984,-8]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"?? 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"?? 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:93,st:0,bm:0}],markers:[]};function ct(He,$e){const{$progress:je}=He.template,{left:Ye}=je.getBoundingClientRect(),ti=H((h?$e.touches[0].clientX:$e.clientX)-Ye,0,je.clientWidth),mi=ti/je.clientWidth*He.duration;return{second:mi,time:z(mi),width:ti,percentage:H(ti/je.clientWidth,0,1)}}function gt(He,$e){if(He.isRotate){const je=$e.touches[0].clientY/He.height,Ye=je*He.duration;He.emit("setBar","played",je),He.seek=Ye}else{const{second:je,percentage:Ye}=ct(He,$e);He.emit("setBar","played",Ye),He.seek=je}}function ft(He){return $e=>{const{icons:je,option:Ye,proxy:ti}=$e;return{...He,html:'\n                <div class="art-control-progress-inner">\n                    <div class="art-progress-hover"></div>\n                    <div class="art-progress-loaded"></div>\n                    <div class="art-progress-played"></div>\n                    <div class="art-progress-highlight"></div>\n                    <div class="art-progress-indicator"></div>\n                    <div class="art-progress-tip"></div>\n                </div>\n            ',mounted:He=>{let mi=!1;const _i=g(".art-progress-hover",He),Pi=g(".art-progress-loaded",He),Mi=g(".art-progress-played",He),Fi=g(".art-progress-highlight",He),Oi=g(".art-progress-indicator",He),Ni=g(".art-progress-tip",He);function c(He,$e){"loaded"===He&&I(Pi,"width",100*$e+"%"),"played"===He&&(I(Mi,"width",100*$e+"%"),I(Oi,"left",100*$e+"%"))}je.indicator?E(Oi,je.indicator):I(Oi,"backgroundColor","var(--art-theme)"),$e.on("video:loadedmetadata",(()=>{for(let He=0;He<Ye.highlight.length;He++){const je=Ye.highlight[He],ti=H(je.time,0,$e.duration)/$e.duration*100,mi=`<span data-text="${je.text}" data-time="${je.time}" style="left: ${ti}%"></span>`;E(Fi,mi)}})),c("loaded",$e.loaded),$e.on("setBar",((He,$e)=>{c(He,$e)})),$e.on("video:progress",(()=>{c("loaded",$e.loaded)})),$e.constructor.USE_RAF?$e.on("raf",(()=>{c("played",$e.played)})):$e.on("video:timeupdate",(()=>{c("played",$e.played)})),$e.on("video:ended",(()=>{c("played",1)})),h||(ti(He,"click",(He=>{He.target!==Oi&&gt($e,He)})),ti(He,"mousemove",(je=>{!function(He){const{width:je}=ct($e,He);I(_i,"width",`${je}px`),I(_i,"display","flex")}(je),I(Ni,"display","flex"),S(je,Fi)?function(je){const{width:Ye}=ct($e,je),{text:ti}=je.target.dataset;Ni.innerHTML=ti;const mi=Ni.clientWidth;Ye<=mi/2?I(Ni,"left",0):Ye>He.clientWidth-mi/2?I(Ni,"left",He.clientWidth-mi+"px"):I(Ni,"left",Ye-mi/2+"px")}(je):function(je){const{width:Ye,time:ti}=ct($e,je);Ni.innerHTML=ti;const mi=Ni.clientWidth;Ye<=mi/2?I(Ni,"left",0):Ye>He.clientWidth-mi/2?I(Ni,"left",He.clientWidth-mi+"px"):I(Ni,"left",Ye-mi/2+"px")}(je)})),ti(He,"mouseleave",(()=>{I(Ni,"display","none"),I(_i,"display","none")})),ti(He,"mousedown",(He=>{mi=0===He.button})),$e.on("document:mousemove",(He=>{if(mi){const{second:je,percentage:Ye}=ct($e,He);c("played",Ye),$e.seek=je}})),$e.on("document:mouseup",(()=>{mi&&($e.play(),mi=!1)})))}}}}const pt={v:"5.6.7",fr:60,ip:0,op:91,w:88,h:88,nm:"音量 hover",ddd:0,assets:[{id:"comp_0",layers:[{ddd:0,ind:1,ty:4,nm:"路径",parent:8,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:2.5,s:[100]},{t:7.5,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[36.014,.007,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.99,-.95],[0,-12.45],[11.06,-5.27],[.95,2],[-1.99,.95],[0,9.35],[8.28,3.96],[-.95,1.99]],o:[[11.04,5.28],[0,12.46],[-1.99,.95],[-.95,-1.99],[8.3,-3.95],[0,-9.34],[-2,-.95],[.95,-2]],v:[[-6.236,-28.896],[11.984,-.006],[-6.266,28.894],[-11.596,27.004],[-9.706,21.674],[3.984,-.006],[-9.676,-21.676],[-11.566,-27.006]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-7,op:28,st:-23,bm:0},{ddd:0,ind:2,ty:4,nm:"路径",parent:8,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:0,s:[100]},{t:5,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[28,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-5.92],[4.78,-2.77]],o:[[4.78,2.77],[0,5.92],[0,0]],v:[[-4,-13.859],[4,.001],[-4,13.861]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-7,op:28,st:-23,bm:0},{ddd:0,ind:3,ty:4,nm:"外部音浪 2",parent:8,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:28.334,s:[0]},{t:41.478515625,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.227,y:1},t:28.334,s:[20.015,.007,0],to:[2.665,0,0],ti:[-2.665,0,0]},{t:46.48046875,s:[36.004,.007,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[1.002,1.002,0]},t:28.334,s:[79.017,79.017,100]},{t:46.48046875,s:[100.021,100.021,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.99,-.95],[0,-12.45],[11.06,-5.27],[.95,2],[-1.99,.95],[0,9.35],[8.28,3.96],[-.95,1.99]],o:[[11.04,5.28],[0,12.46],[-1.99,.95],[-.95,-1.99],[8.3,-3.95],[0,-9.34],[-2,-.95],[.95,-2]],v:[[-6.236,-28.896],[11.984,-.006],[-6.266,28.894],[-11.596,27.004],[-9.706,21.674],[3.984,-.006],[-9.676,-21.676],[-11.566,-27.006]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:34,op:131,st:24,bm:0},{ddd:0,ind:4,ty:4,nm:"内部音浪 2",parent:8,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:30.188,s:[0]},{t:43.333984375,s:[100]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.201,y:1},t:30.188,s:[12.749,0,0],to:[2.542,0,0],ti:[-2.542,0,0]},{t:48.333984375,s:[28.003,0,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[1.058,1.058,0]},t:30.188,s:[79.017,79.017,100]},{t:48.333984375,s:[100.021,100.021,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-5.92],[4.78,-2.77]],o:[[4.78,2.77],[0,5.92],[0,0]],v:[[-4,-13.859],[4,.001],[-4,13.861]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:39,op:129,st:23,bm:0},{ddd:0,ind:5,ty:4,nm:"外部音浪",parent:8,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6.666,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:14.465,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:17.648,s:[100]},{t:26.3984375,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.333,y:.907},t:6.666,s:[20.015,.007,0],to:[3.859,0,0],ti:[-3.859,0,0]},{t:24.166015625,s:[43.171,.007,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[.336,.336,0]},t:6.666,s:[79.017,79.017,100]},{t:24.166015625,s:[135.021,135.021,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-1.99,-.95],[0,-12.45],[11.06,-5.27],[.95,2],[-1.99,.95],[0,9.35],[8.28,3.96],[-.95,1.99]],o:[[11.04,5.28],[0,12.46],[-1.99,.95],[-.95,-1.99],[8.3,-3.95],[0,-9.34],[-2,-.95],[.95,-2]],v:[[-6.236,-28.896],[11.984,-.006],[-6.266,28.894],[-11.596,27.004],[-9.706,21.674],[3.984,-.006],[-9.676,-21.676],[-11.566,-27.006]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:8,op:68,st:-2,bm:0},{ddd:0,ind:6,ty:4,nm:"内部音浪",parent:8,sr:1,ks:{o:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:10.533,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:18.334,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:22.916,s:[100]},{t:31.666015625,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:0,y:1},o:{x:.296,y:1},t:10.533,s:[12.749,0,0],to:[3.209,0,0],ti:[-3.209,0,0]},{t:27.291015625,s:[32.003,0,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[.346,.346,0]},t:10.533,s:[79.017,79.017,100]},{t:27.291015625,s:[134.021,134.021,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-5.92],[4.78,-2.77]],o:[[4.78,2.77],[0,5.92],[0,0]],v:[[-4,-13.859],[4,.001],[-4,13.861]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:15,op:68,st:-1,bm:0},{ddd:0,ind:7,ty:4,nm:" 主体 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[44,44.002,0],ix:2},a:{a:0,k:[16,.002,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[100,100,100]},{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:13.334,s:[88,88,100]},{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:30.834,s:[88,88,100]},{t:50,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.69,-.86],[0,-.45],[0,0],[1.1,0],[.36,.28],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0],[0,0],[0,0]],o:[[.29,.36],[0,0],[0,1.1],[-.45,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0],[0,0],[.86,-.69]],v:[[15.56,-25.089],[16,-23.839],[16,23.841],[14,25.841],[12.75,25.401],[-4,12.001],[-8,12.001],[-16,4.001],[-16,-3.999],[-8,-11.999],[-4,-11.999],[12.75,-25.399]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"路径",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-8,op:315,st:15,bm:0},{ddd:0,ind:8,ty:3,nm:" 主体 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[44,44.002,0],ix:2},a:{a:0,k:[16,.002,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[100,100,100]},{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:6.871,s:[75,75,100]},{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:30.834,s:[75,75,100]},{t:50,s:[100,100,100]}],ix:6}},ao:0,ip:-8,op:315,st:15,bm:0}]}],layers:[{ddd:0,ind:1,ty:0,nm:" 音量 hover 时间重映射",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[44,44,0],ix:2},a:{a:0,k:[44,44,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,tm:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:60,s:[1]},{t:300,s:[5]}],ix:2},w:88,h:88,ip:0,op:300,st:0,bm:0}],markers:[]},mt={v:"5.6.7",fr:60,ip:0,op:60,w:88,h:88,nm:"静音消除hover",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Path 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.502,y:0},o:{x:.167,y:0},t:0,s:[41.172,46.828,0],to:[.417,.417,0],ti:[.417,.5,0]},{i:{x:0,y:1},o:{x:.333,y:.205},t:8.666,s:[43.672,49.328,0],to:[-.417,-.5,0],ti:[.417,.417,0]},{i:{x:0,y:1},o:{x:.167,y:0},t:14,s:[38.672,43.828,0],to:[-.417,-.417,0],ti:[-.417,-.5,0]},{i:{x:0,y:0},o:{x:.167,y:.167},t:16.666,s:[41.172,46.828,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.502,y:0},o:{x:.167,y:0},t:22.666,s:[41.172,46.828,0],to:[.417,.417,0],ti:[.417,.5,0]},{i:{x:0,y:1},o:{x:.333,y:.205},t:31.334,s:[43.672,49.328,0],to:[-.417,-.5,0],ti:[.417,.417,0]},{i:{x:0,y:1},o:{x:.167,y:0},t:36.666,s:[38.672,43.828,0],to:[-.417,-.417,0],ti:[-.417,-.5,0]},{t:40,s:[41.172,46.828,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-36.77,-31.11],[-31.11,-36.77],[36.77,31.11],[31.11,36.77]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"rd",nm:"圆角 1",r:{a:0,k:4,ix:1},ix:2,mn:"ADBE Vector Filter - RC",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-.5,-.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"Path",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-66,op:183,st:-83,bm:0},{ddd:0,ind:2,ty:4,nm:"Path 3",td:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.222,y:0},o:{x:.167,y:0},t:0,s:[47.422,41.703,0],to:[.667,.667,0],ti:[.417,.5,0]},{i:{x:0,y:1},o:{x:.333,y:.159},t:8.666,s:[51.422,45.703,0],to:[-.417,-.5,0],ti:[.667,.667,0]},{i:{x:0,y:1},o:{x:.167,y:0},t:14,s:[44.922,38.703,0],to:[-.667,-.667,0],ti:[-.417,-.5,0]},{i:{x:0,y:0},o:{x:.167,y:.167},t:16.666,s:[47.422,41.703,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.222,y:0},o:{x:.167,y:0},t:22.666,s:[47.422,41.703,0],to:[.667,.667,0],ti:[.417,.5,0]},{i:{x:0,y:1},o:{x:.333,y:.159},t:31.334,s:[51.422,45.703,0],to:[-.417,-.5,0],ti:[.667,.667,0]},{i:{x:0,y:1},o:{x:.167,y:0},t:36.666,s:[44.922,38.703,0],to:[-.667,-.667,0],ti:[-.417,-.5,0]},{t:40,s:[47.422,41.703,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-36.77,-31.11],[-31.11,-36.77],[36.77,31.11],[31.11,36.77]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"rd",nm:"圆角 1",r:{a:0,k:4,ix:1},ix:2,mn:"ADBE Vector Filter - RC",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-.5,-.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"Path",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-66,op:183,st:-83,bm:0},{ddd:0,ind:3,ty:4,nm:"形状",tt:2,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.333,y:.876},o:{x:.167,y:0},t:0,s:[44,44,0],to:[1.167,1.25,0],ti:[0,0,0]},{i:{x:.667,y:.884},o:{x:.275,y:.021},t:7.334,s:[51,51.5,0],to:[0,0,0],ti:[-.352,-.352,0]},{i:{x:.833,y:1},o:{x:.111,y:.066},t:12.666,s:[38.039,38.539,0],to:[.748,.748,0],ti:[-.417,-.417,0]},{i:{x:0,y:1},o:{x:.167,y:0},t:16.666,s:[44,44,0],to:[.133,.133,0],ti:[0,0,0]},{i:{x:.333,y:.904},o:{x:.167,y:0},t:22.666,s:[44,44,0],to:[1.667,1.75,0],ti:[0,0,0]},{i:{x:.667,y:.923},o:{x:.275,y:.014},t:30.666,s:[54,54.5,0],to:[0,0,0],ti:[-.352,-.352,0]},{i:{x:.833,y:1},o:{x:.111,y:.04},t:36,s:[34.289,34.789,0],to:[.748,.748,0],ti:[-.417,-.417,0]},{t:40,s:[44,44,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-5.92],[4.78,-2.77]],o:[[4.78,2.77],[0,5.92],[0,0]],v:[[8,-13.866],[16,-.006],[8,13.854]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[-1.99,-.95],[0,-12.45],[11.06,-5.27],[.95,2],[-1.99,.95],[0,9.35],[8.28,3.96],[-.95,1.99]],o:[[11.04,5.28],[0,12.46],[-1.99,.95],[-.95,-1.99],[8.3,-3.95],[0,-9.34],[-2,-.95],[.95,-2]],v:[[13.778,-28.896],[31.998,-.006],[13.748,28.894],[8.418,27.004],[10.308,21.674],[23.998,-.006],[10.338,-21.676],[8.448,-27.006]],c:!0},ix:2},nm:"路径 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[-.69,-.86],[0,-.45],[0,0],[1.1,0],[.36,.28],[0,0],[0,0],[0,4.42],[0,0],[-4.42,0],[0,0],[0,0]],o:[[.29,.36],[0,0],[0,1.1],[-.45,0],[0,0],[0,0],[-4.42,0],[0,0],[0,-4.42],[0,0],[0,0],[.86,-.69]],v:[[-.44,-25.096],[0,-23.846],[0,23.834],[-2,25.834],[-3.25,25.394],[-20,11.994],[-24,11.994],[-32,3.994],[-32,-4.006],[-24,-12.006],[-20,-12.006],[-3.25,-25.406]],c:!0},ix:2},nm:"路径 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"合并路径 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"形状",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-83,op:239,st:-83,bm:0}],markers:[]},vt={v:"5.6.7",fr:60,ip:0,op:60,w:88,h:88,nm:"设置流畅",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"形状",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[0],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{t:40,s:[120]}],ix:10},p:{a:0,k:[44,43.875,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:0,s:[100,100,100]},{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:10.668,s:[88,88,100]},{i:{x:[0,0,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:22,s:[88,88,100]},{t:40,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[1.55,0],[1.48,.24],[0,0],[1.69,.98],[0,0],[-.69,1.83],[0,0],[1.16,3.05],[0,0],[0,1.95],[0,0],[-1.93,.32],[0,0],[-2.03,2.48],[0,0],[-1.69,.98],[0,0],[-1.25,-1.51],[0,0],[-1.74,0],[-1.65,-.31],[0,0],[-1.69,-.98],[0,0],[.68,-1.84],[0,0],[-1.09,-3.08],[0,0],[0,-1.95],[0,0],[1.93,-.32],[0,0],[2.09,-2.44],[0,0],[1.69,-.98],[0,0],[1.24,1.51]],o:[[-1.48,.24],[-1.55,0],[0,0],[-1.24,1.51],[0,0],[-1.69,-.98],[0,0],[-2.09,-2.44],[0,0],[-1.93,-.32],[0,0],[0,-1.95],[0,0],[1.09,-3.08],[0,0],[-.68,-1.84],[0,0],[1.69,-.98],[0,0],[1.65,-.31],[1.74,0],[0,0],[1.25,-1.51],[0,0],[1.69,.98],[0,0],[2.03,2.48],[0,0],[1.93,.32],[0,0],[0,1.95],[0,0],[-1.16,3.05],[0,0],[.69,1.83],[0,0],[-1.69,.98],[0,0]],v:[[4.54,27.511],[0,27.871],[-4.54,27.511],[-8.7,32.561],[-13.79,33.481],[-21.78,28.871],[-23.52,24.001],[-21.29,18.061],[-26.21,9.761],[-32.66,8.681],[-36,4.741],[-36,-4.489],[-32.66,-8.429],[-26.4,-9.479],[-21.66,-17.869],[-23.96,-23.999],[-22.21,-28.869],[-14.22,-33.479],[-9.13,-32.559],[-5.1,-27.659],[0,-28.129],[5.1,-27.659],[9.13,-32.559],[14.22,-33.479],[22.21,-28.869],[23.96,-23.999],[21.66,-17.869],[26.4,-9.479],[32.66,-8.429],[36,-4.489],[36,4.741],[32.66,8.681],[26.21,9.761],[21.29,18.061],[23.52,24.001],[21.78,28.871],[13.79,33.481],[8.7,32.561]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[-8.84,0],[0,8.84],[8.84,0],[0,-8.84]],o:[[8.84,0],[0,-8.84],[-8.84,0],[0,8.84]],v:[[0,16.125],[16,.125],[0,-15.875],[-16,.125]],c:!0},ix:2},nm:"路径 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[4.42,0],[0,4.42],[-4.42,0],[0,-4.42]],o:[[-4.42,0],[0,-4.42],[4.42,0],[0,4.42]],v:[[0,8.125],[-8,.125],[0,-7.875],[8,.125]],c:!0},ix:2},nm:"路径 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"合并路径 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"形状",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:300,st:0,bm:0}],markers:[]};function Et(He){return $e=>{const{i18n:je,constructor:{SETTING_ITEM_WIDTH:Ye,PLAYBACK_RATE:ti}}=$e;return{...He,html:je.get("Play Speed"),selector:ti.map((He=>{const je=Number(He);return{value:je,name:`aspect-ratio-${He}`,default:je===$e.playbackRate,html:`${He}x`}})),onSelect(He){return $e.playbackRate=He.value,"1.0x"===(Ye=He.html)?je.get("Play Speed"):Ye;var Ye}}}}class yt extends ot{constructor(He){super(He),this.name="control",this.timer=Date.now();const{constructor:$e,events:{hover:je}}=He,{$player:Ye,$controls:ti}=this.art.template;He.on("mousemove",(()=>{h||(this.show=!0)})),je(ti,(()=>He.isInput=!0),(()=>He.isInput=!1)),He.on("click",(()=>{h?this.toggle():this.show=!0})),He.on("video:timeupdate",(()=>{He.isInput,!He.isInput&&He.playing&&this.show&&Date.now()-this.timer>=$e.CONTROL_HIDE_TIME&&(this.show=!1)})),He.on("control",(He=>{He?(m(Ye,"art-hide-cursor"),p(Ye,"art-hover"),this.timer=Date.now()):(p(Ye,"art-hide-cursor"),m(Ye,"art-hover"))})),this.init()}init(){const{option:He}=this.art;He.isLive||this.add(ft({name:"progress",position:"top",index:10})),this.add(function(He){let $e=null;return je=>({...He,mounted:He=>{const{proxy:Ye}=je,ti=E(He,R("play-pause")),s=He=>($e&&$e.destroy(),$e=c.loadAnimation({name:"play",container:ti,renderer:"svg",loop:!1,autoplay:!0,animationData:He?dt:ut}),$e),n=()=>{s(je.playing).play()};Ye(ti,"click",(()=>{je.playing?je.pause():je.play(),n()})),n(),je.on("video:play",(()=>{s(!0).play()})),je.on("video:pause",(()=>{s(!1).play()})),je.on("destroy",(()=>{$e.destroy()}))}})}({name:"playAndPause",position:"left",index:20})),h||this.add(function(He){return $e=>({...He,mounted:He=>{const{proxy:je}=$e,[Ye,ti]=L(pt,He,"volume"),[mi,_i]=L(mt,He,"volumeClose"),Pi=E(He,'<div class="art-volume-panel"></div>'),Mi=E(Pi,'<div class="art-volume-inner"></div>'),Fi=E(Mi,'<div class="art-volume-val"></div>'),Oi=E(Mi,'<div class="art-volume-slider"></div>'),Ni=E(Oi,'<div class="art-volume-handle"></div>'),Ui=E(Ni,'<div class="art-volume-loaded"></div>'),Gi=E(Oi,'<div class="art-volume-indicator"></div>'),f=()=>{ti.stop()},p=()=>{_i.stop()};function m(He){const{top:$e,height:je}=Oi.getBoundingClientRect();return 1-(He.clientY-$e)/je}function v(){if($e.muted||0===$e.volume)I(Ye,"display","none"),I(mi,"display","flex"),I(Gi,"top","100%"),I(Ui,"top","100%"),Fi.innerText=0;else{const He=100*$e.volume;I(Ye,"display","flex"),I(mi,"display","none"),I(Gi,"top",100-He+"%"),I(Ui,"top",100-He+"%"),Fi.innerText=Math.floor(He)}}if(v(),$e.on("video:volumechange",v),je(Ye,"click",(()=>{$e.muted=!0})),je(Ye,"mouseenter",(()=>{ti.play()})),je(mi,"click",(()=>{$e.muted=!1})),je(mi,"mouseenter",(()=>{_i.play()})),ti.addEventListener("complete",f),_i.addEventListener("complete",p),h)I(Pi,"display","none");else{let He=!1;je(Oi,"mousedown",(je=>{He=0===je.button,$e.volume=m(je)})),$e.on("document:mousemove",(je=>{He&&($e.muted=!1,$e.volume=m(je))})),$e.on("document:mouseup",(()=>{He&&(He=!1)})),$e.on("destroy",(()=>{ti.destroy(),_i.destroy(),ti.removeEventListener("complete",f),_i.removeEventListener("complete",p)}))}}})}({name:"volume",position:"right",index:20})),He.isLive||this.add(function(He){return $e=>({...He,style:h?{fontSize:"12px",padding:"0 5px"}:{cursor:"auto",padding:"0 10px"},mounted:He=>{function i(){const je=`${z($e.currentTime)} / ${z($e.duration)}`;je!==He.innerText&&(He.innerText=je)}i();const je=["video:loadedmetadata","video:timeupdate","video:progress"];for(let He=0;He<je.length;He++)$e.on(je[He],i)}})}({name:"time",position:"left",index:30})),He.quality.length&&O().then((()=>{this.art.quality=He.quality})),this.add(Et({name:"speed",position:"right",index:10})),He.setting&&this.add(function(He){return $e=>({...He,tooltip:$e.i18n.get("Show Setting"),mounted:He=>{const{proxy:je,i18n:Ye}=$e,[,ti]=L(vt,He,"setting"),s=()=>{ti.stop()};je(He,"click",(()=>{$e.setting.toggle(),$e.setting.updateStyle()})),je(He,h?"touchstart":"mouseenter",(()=>{ti.play()})),ti.addEventListener("complete",s),$e.on("destroy",(()=>{ti.destroy(),ti.removeEventListener("complete",s)}))}})}({name:"setting",position:"right",index:30})),He.pip&&this.add(function(He){let $e=null;return je=>({...He,tooltip:je.i18n.get("PIP Mode"),mounted:He=>{const{proxy:Ye,i18n:ti}=je,mi=E(He,R("pip")),n=He=>($e&&$e.destroy(),$e=c.loadAnimation({name:"pip",container:mi,renderer:"svg",loop:!1,autoplay:!0,animationData:He?lt:At}),$e);n(!je.pip),Ye(He,h?"touchstart":"mouseenter",(()=>{n(!je.pip).play()})),Ye(He,"click",(()=>{je.pip=!je.pip})),je.on("pip",($e=>{w(He,ti.get($e?"Exit PIP Mode":"PIP Mode"))})),je.on("destroy",(()=>{$e.destroy()}))}})}({name:"pip",position:"right",index:40})),He.fullscreen&&this.add(function(He){return $e=>({...He,tooltip:$e.i18n.get("Fullscreen"),mounted:He=>{const{proxy:je,i18n:Ye}=$e,[,ti]=L(ht,He,"fullscreen"),s=()=>{ti.stop()};je(He,"click",(()=>{const je=!$e.fullscreen;$e.fullscreen=je,w(He,je?Ye.get("Exit Fullscreen"):Ye.get("Fullscreen"))})),je(He,h?"touchstart":"mouseenter",(()=>{ti.play()})),ti.addEventListener("complete",s),$e.on("destroy",(()=>{ti.destroy(),ti.removeEventListener("complete",s)}))}})}({name:"fullscreen",position:"right",index:70}));for(let $e=0;$e<He.controls.length;$e++)this.add(He.controls[$e])}add(He){const $e="function"==typeof He?He(this.art):He,{$progress:je,$controlsLeft:Ye,$controlsRight:ti}=this.art.template;switch($e.position){case"top":this.$parent=je;break;case"left":this.$parent=Ye;break;case"right":this.$parent=ti;break;default:M(!1,"Control option.position must one of 'top', 'left', 'right'")}super.add($e)}}class It extends ot{constructor(He){super(He),this.name="contextmenu",this.$parent=He.template.$contextmenu,h||this.init()}init(){const{option:He,proxy:$e,template:{$player:je,$contextmenu:Ye}}=this.art;this.add(function(He){return $e=>({...He,html:'<div style="width: 100%;height: 100%;">兄弟影视</div>',click:()=>{window.location.href="//xdys.vip"}})}({name:"xdys",inex:30})),this.add(function(He){return $e=>({...He,html:$e.i18n.get("Video Info"),click:He=>{$e.info.init(),He.show=!1}})}({name:"info",index:40})),this.add(function(He){return $e=>({...He,html:$e.i18n.get("Close"),click:He=>{He.show=!1}})}({name:"close",index:60}));for(let $e=0;$e<He.contextmenu.length;$e++)this.add(He.contextmenu[$e]);$e(je,"contextmenu",(He=>{if(He.preventDefault(),!this.art.constructor.CONTEXTMENU)return;this.show=!0;const $e=He.clientX,ti=He.clientY,{height:mi,width:_i,left:Pi,top:Mi}=je.getBoundingClientRect(),{height:Fi,width:Oi}=Ye.getBoundingClientRect();let Ni=$e-Pi,Ui=ti-Mi;$e+Oi>Pi+_i&&(Ni=_i-Oi),ti+Fi>Mi+mi&&(Ui=mi-Fi),C(Ye,{top:`${Ui}px`,left:`${Ni}px`})})),$e(je,"click",(He=>{S(He,Ye)||(this.show=!1)})),this.art.on("blur",(()=>{this.show=!1}))}}class Ct extends ot{constructor(He){super(He),this.name="info";const{proxy:$e,template:{$infoPanel:je,$infoClose:Ye}}=this.art;h||(this.$types=f("[data-video]",je)||[],$e(Ye,"click",(()=>{this.show=!1})))}init(){this.show=!0;const He=this.art.template.$video,e=(He,$e)=>{He.innerText!==$e&&(He.innerText=$e)};for(let $e=0;$e<this.$types.length;$e++){const je=this.$types[$e],Ye=je.dataset.video;switch(Ye){case"currentSrc":e(je,`视频地址：${He[Ye]}`);break;case"type":e(je,`视频类型：${this.art[Ye]}`);break;case"duration":e(je,`视频总长：${z(He[Ye])}`);break;case"size":e(je,`视频尺寸：${He.videoWidth}x${He.videoHeight}`)}}}}function Bt(He,$e,je,Ye){var ti=$e-Ye,mi=je-He,_i=0;if(Math.abs(mi)<2&&Math.abs(ti)<2)return _i;var Pi=function(He,$e){return 180*Math.atan2($e,He)/Math.PI}(mi,ti);return Pi>=-45&&Pi<45?_i=4:Pi>=45&&Pi<135?_i=1:Pi>=-135&&Pi<-45?_i=2:(Pi>=135&&Pi<=180||Pi>=-180&&Pi<-135)&&(_i=3),_i}class kt{constructor(He){this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),this.loadImg=this.loadImg.bind(this),function(He,$e){const{constructor:je,template:{$player:Ye,$video:ti}}=He;$e.proxy(document,["click","contextmenu"],($e=>{S($e,Ye)?(He.isInput="INPUT"===$e.target.tagName,He.isFocus=!0,He.emit("focus",$e)):(He.isInput=!1,He.isFocus=!1,He.emit("blur",$e))}));let mi=0;$e.proxy(ti,"click",($e=>{const Ye=Date.now(),{MOBILE_CLICK_PLAY:ti,DBCLICK_TIME:_i,MOBILE_DBCLICK_PLAY:Pi,DBCLICK_FULLSCREEN:Mi}=je;Ye-mi<=_i?(He.emit("dblclick",$e),h?!He.isLock&&Pi&&He.toggle():Mi&&(He.fullscreen=!He.fullscreen)):(He.emit("click",$e),h?!He.isLock&&ti&&He.toggle():He.toggle()),mi=Ye}))}(He,this),function(He,$e){const{$player:je}=He.template;$e.hover(je,($e=>{p(je,"art-hover"),He.emit("hover",!0,$e)}),($e=>{m(je,"art-hover"),He.emit("hover",!1,$e)}))}(He,this),function(He,$e){const{$player:je}=He.template;$e.proxy(je,"mousemove",($e=>{He.emit("mousemove",$e)}))}(He,this),function(He,$e){const{option:je,constructor:Ye}=He;He.on("resize",(()=>{const{aspectRatio:$e,notice:Ye}=He;"standard"===He.state&&je.autoSize&&He.autoSize(),He.aspectRatio=$e,Ye.show=""}));const ti=j((()=>He.emit("resize")),Ye.RESIZE_TIME);$e.proxy(window,["orientationchange","resize"],(()=>ti())),screen&&screen.orientation&&screen.orientation.onchange&&$e.proxy(screen.orientation,"change",(()=>ti()))}(He,this),function(He,$e){if(h&&!He.option.isLive){const{$video:je,$progress:Ye}=He.template;let ti=null,mi=!1,_i=0,Pi=0,Mi=0;const l=$e=>{if(1===$e.touches.length&&!He.isLock){ti===Ye&&gt(He,$e),mi=!0;const{pageX:je,pageY:Fi}=$e.touches[0];_i=je,Pi=Fi,Mi=He.currentTime}},A=$e=>{if(1===$e.touches.length&&mi&&He.duration){const{pageX:Ye,pageY:mi}=$e.touches[0],Fi=Bt(_i,Pi,Ye,mi),Oi=[3,4].includes(Fi),Ni=[1,2].includes(Fi);if(Oi&&!He.isRotate||Ni&&He.isRotate){const $e=H((Ye-_i)/He.width,-1,1),Fi=H((mi-Pi)/He.height,-1,1),Oi=He.isRotate?Fi:$e,Ni=ti===je?He.constructor.TOUCH_MOVE_RATIO:1,Ui=H(Mi+He.duration*Oi*Ni,0,He.duration);He.seek=Ui,He.emit("setBar","played",H(Ui/He.duration,0,1)),He.notice.show=`${z(Ui)} / ${z(He.duration)}`}}},d=()=>{mi&&(_i=0,Pi=0,Mi=0,mi=!1,ti=null)};$e.proxy(Ye,"touchstart",(He=>{ti=Ye,l(He)})),$e.proxy(je,"touchstart",(He=>{ti=je,l(He)})),$e.proxy(je,"touchmove",A),$e.proxy(Ye,"touchmove",A),$e.proxy(document,"touchend",d)}}(He,this),function(He,$e){const{option:je,constructor:Ye,template:{$container:ti}}=He,mi=Y((()=>{He.emit("view",Q(ti,Ye.SCROLL_GAP))}),Ye.SCROLL_TIME);$e.proxy(window,"scroll",(()=>mi())),He.on("view",($e=>{je.autoMini&&(He.mini=!$e)}))}(He,this),function(He,$e){$e.proxy(document,"mousemove",($e=>{He.emit("document:mousemove",$e)})),$e.proxy(document,"mouseup",($e=>{He.emit("document:mouseup",$e)}))}(He,this),function(He){if(He.constructor.USE_RAF){let $e=null;!function i(){He.playing&&He.emit("raf"),He.isDestroy||($e=requestAnimationFrame(i))}(),He.on("destroy",(()=>{cancelAnimationFrame($e)}))}}(He)}proxy(He,$e,je,Ye={}){if(Array.isArray($e))return $e.map(($e=>this.proxy(He,$e,je,Ye)));He.addEventListener($e,je,Ye);const a=()=>He.removeEventListener($e,je,Ye);return this.destroyEvents.push(a),a}hover(He,$e,je){$e&&this.proxy(He,"mouseenter",$e),je&&this.proxy(He,"mouseleave",je)}loadImg(He){return new Promise((($e,je)=>{let Ye;if(He instanceof HTMLImageElement)Ye=He;else{if("string"!=typeof He)return je(new T("Unable to get Image"));Ye=new Image,Ye.src=He}if(Ye.complete)return $e(Ye);this.proxy(Ye,"load",(()=>$e(Ye))),this.proxy(Ye,"error",(()=>je(new T(`Failed to load Image: ${Ye.src}`))))}))}remove(He){const $e=this.destroyEvents.indexOf(He);$e>-1&&(He(),this.destroyEvents.splice($e,1))}destroy(){for(let He=0;He<this.destroyEvents.length;He++)this.destroyEvents[He]()}}class xt{constructor(He){this.art=He,this.keys={},He.option.hotkey&&!h&&this.init()}init(){const{proxy:He,constructor:$e}=this.art;this.add(27,(()=>{this.art.fullscreenWeb&&(this.art.fullscreenWeb=!1)})),this.add(32,(()=>{this.art.toggle()})),this.add(37,(()=>{this.art.backward=$e.SEEK_STEP})),this.add(38,(()=>{this.art.volume+=$e.VOLUME_STEP})),this.add(39,(()=>{this.art.forward=$e.SEEK_STEP})),this.add(40,(()=>{this.art.volume-=$e.VOLUME_STEP})),He(window,"keydown",(He=>{if(this.art.isFocus){const $e=document.activeElement.tagName.toUpperCase(),je=document.activeElement.getAttribute("contenteditable");if(!("INPUT"===$e||"TEXTAREA"===$e||""===je||"true"===je||He.altKey||He.ctrlKey||He.metaKey||He.shiftKey)){const $e=this.keys[He.keyCode];if($e){He.preventDefault();for(let je=0;je<$e.length;je++)$e[je].call(this.art,He);this.art.emit("hotkey",He)}}}}))}add(He,$e){return this.keys[He]?this.keys[He].push($e):this.keys[He]=[$e],this}remove(He,$e){if(this.keys[He]){const je=this.keys[He].indexOf($e);-1!==je&&this.keys[He].splice(je,1)}return this}}class wt extends ot{constructor(He){super(He);const{option:$e,template:{$layer:je}}=He;this.name="layer",this.$parent=je;for(let He=0;He<$e.layers.length;He++)this.add($e.layers[He])}}const Qt={v:"5.6.5",fr:30,ip:0,op:90,w:24,h:24,nm:"loading - blue",ddd:0,assets:[{id:"comp_0",layers:[{ddd:0,ind:1,ty:4,nm:"圆点3",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:10,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20,s:[100]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:30,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:40,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:50,s:[100]},{t:60,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[16.844,14.031,0],ix:2},a:{a:0,k:[-2.25,2.781,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.774,0],[0,-.774],[-.774,0],[0,.774]],o:[[-.774,0],[0,.774],[.774,0],[0,-.774]],v:[[0,-1.402],[-1.402,0],[0,1.402],[1.402,0]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.270588248968,.270588248968,.270588248968,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-2.285,2.715],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"椭圆 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:60,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"圆点2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:5,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:15,s:[100]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:25,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:35,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:45,s:[100]},{t:55,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12.156,14.031,0],ix:2},a:{a:0,k:[-2.25,2.781,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.774,0],[0,-.774],[-.774,0],[0,.774]],o:[[-.774,0],[0,.774],[.774,0],[0,-.774]],v:[[0,-1.402],[-1.402,0],[0,1.402],[1.402,0]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.270588248968,.270588248968,.270588248968,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-2.285,2.715],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"椭圆 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:60,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"圆点1",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:0,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:10,s:[100]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:30,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:40,s:[100]},{t:50,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[7.625,14.031,0],ix:2},a:{a:0,k:[-2.25,2.781,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.774,0],[0,-.774],[-.774,0],[0,.774]],o:[[-.774,0],[0,.774],[.774,0],[0,-.774]],v:[[0,-1.402],[-1.402,0],[0,1.402],[1.402,0]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.270588248968,.270588248968,.270588248968,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-2.285,2.715],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"椭圆 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:60,st:0,bm:0}]}],layers:[{ddd:0,ind:1,ty:4,nm:"形状图层 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12,12,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[],ip:0,op:90,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"天线左 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-45,ix:10},p:{a:0,k:[7.391,1.8,0],ix:2},a:{a:0,k:[-.298,-9.69,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:60,s:[100,0,100]},{t:63,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.408,0],[0,-.408],[0,0],[-.408,0],[0,.408],[0,0]],o:[[-.408,0],[0,0],[0,.408],[.408,0],[0,0],[0,-.408]],v:[[0,-3.388],[-.739,-2.649],[-.739,2.649],[0,3.388],[.739,2.649],[.739,-2.649]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.270588248968,.270588248968,.270588248968,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-.26,-6.371],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"矩形 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:60,op:90,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"天线右 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[12.297,5.7,0],ix:2},a:{a:0,k:[-.376,-4.176,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:80,s:[100,0,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:84,s:[100,110,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:87,s:[100,95,100]},{t:90,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.408,0],[0,-.408],[0,0],[-.408,0],[0,.408],[0,0]],o:[[-.408,0],[0,0],[0,.408],[.408,0],[0,0],[0,-.408]],v:[[0,-3.388],[-.739,-2.649],[-.739,2.649],[0,3.388],[.739,2.649],[.739,-2.649]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.270588248968,.270588248968,.270588248968,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-.26,-6.371],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"矩形 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:60,op:90,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"形状图层 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12,13.75,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[98.401,107.097,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"st",c:{a:0,k:[.043137256056,.639215707779,.584313750267,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.043137256056,.639215707779,.584313750267,1],ix:4},o:{a:0,k:0,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"形状 3",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0]],o:[[0,0]],v:[[-.191,.233]],c:!1},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.631372570992,.839215695858,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.043137256056,.639215707779,.584313750267,1],ix:4},o:{a:0,k:0,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"形状 2",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[3.048,0],[0,-2.201],[0,-1.598],[-3.016,0],[-2.482,0],[0,2.092],[0,1.8],[3.055,0]],o:[[0,0],[-3.048,0],[0,2.031],[0,2.087],[2.031,0],[3.054,0],[0,-1.875],[0,-2.15],[-1.844,0]],v:[[-.05,-6.758],[-6.13,-6.726],[-10.121,-2.585],[-10.137,3.078],[-6.162,6.816],[6.092,6.822],[10.27,3.073],[10.285,-2.635],[6.091,-6.718]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"修剪路径 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[0,.631372570992,.839215695858,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:2,lj:2,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.043137256056,.639215707779,.584313750267,1],ix:4},o:{a:0,k:0,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"形状 1",np:4,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:60,st:-60,bm:0},{ddd:0,ind:5,ty:4,nm:"形状图层 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12,13.75,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[98.401,107.097,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"st",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.043137254902,.639215686275,.58431372549,1],ix:4},o:{a:0,k:0,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"形状 3",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0]],o:[[0,0]],v:[[-.191,.233]],c:!1},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.043137254902,.639215686275,.58431372549,1],ix:4},o:{a:0,k:0,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"形状 2",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[3.048,0],[0,-2.201],[0,-1.598],[-3.016,0],[-2.482,0],[0,2.092],[0,1.8],[3.055,0]],o:[[0,0],[-3.048,0],[0,2.031],[0,2.087],[2.031,0],[3.054,0],[0,-1.875],[0,-2.15],[-1.844,0]],v:[[-.05,-6.758],[-6.13,-6.726],[-10.121,-2.585],[-10.137,3.078],[-6.162,6.816],[6.092,6.822],[10.27,3.073],[10.285,-2.635],[6.091,-6.718]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[.547],y:[1]},o:{x:[.453],y:[0]},t:63,s:[0]},{t:80,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"修剪路径 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1.5,ix:5},lc:2,lj:2,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.043137254902,.639215686275,.58431372549,1],ix:4},o:{a:0,k:0,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"形状 1",np:4,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:60,op:90,st:0,bm:0},{ddd:0,ind:6,ty:0,nm:"点点点 - blue",refId:"comp_0",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12,12,0],ix:2},a:{a:0,k:[12,12,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,w:24,h:24,ip:0,op:90,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"天线左",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:50,s:[100]},{t:60,s:[0]}],ix:11},r:{a:0,k:-45,ix:10},p:{a:0,k:[7.391,1.8,0],ix:2},a:{a:0,k:[-.298,-9.69,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.408,0],[0,-.408],[0,0],[-.408,0],[0,.408],[0,0]],o:[[-.408,0],[0,0],[0,.408],[.408,0],[0,0],[0,-.408]],v:[[0,-3.388],[-.739,-2.649],[-.739,2.649],[0,3.388],[.739,2.649],[.739,-2.649]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.270588248968,.270588248968,.270588248968,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-.26,-6.371],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"矩形 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:60,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"天线右",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:50,s:[100]},{t:60,s:[0]}],ix:11},r:{a:0,k:45,ix:10},p:{a:0,k:[12.297,5.7,0],ix:2},a:{a:0,k:[-.376,-4.176,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[.408,0],[0,-.408],[0,0],[-.408,0],[0,.408],[0,0]],o:[[-.408,0],[0,0],[0,.408],[.408,0],[0,0],[0,-.408]],v:[[0,-3.388],[-.739,-2.649],[-.739,2.649],[0,3.388],[.739,2.649],[.739,-2.649]],c:!0},ix:2},nm:"路径 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.270588248968,.270588248968,.270588248968,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:0,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"描边 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[0,.63137254902,.839215686275,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"填充 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[-.26,-6.371],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"变换"}],nm:"矩形 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:60,st:0,bm:0}],markers:[]};class St extends ot{constructor(He){super(He),this.name="loading";const $e=R("loading");c.loadAnimation({name:"fullscreen",container:$e,renderer:"svg",loop:!0,autoplay:!0,animationData:Qt}),E(He.template.$loading,$e)}}let bt=class{constructor(He){this.art=He,this.timer=null}set show(He){const{constructor:$e,template:{$player:je,$noticeInner:Ye}}=this.art;He?(Ye.innerText=He instanceof Error?He.message.trim():He,p(je,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout((()=>{Ye.innerText="",m(je,"art-notice-show")}),$e.NOTICE_TIME)):m(je,"art-notice-show")}};class Dt extends ot{constructor(He){super(He),this.name="mask";const{template:$e,icons:je,events:Ye}=He,ti=E($e.$state,je.state),mi=E($e.$state,je.error);I(mi,"display","none"),He.on("destroy",(()=>{I(ti,"display","none"),I(mi,"display",null)})),Ye.proxy($e.$state,"click",(()=>He.play()))}}class Rt{constructor(He){const $e={state:'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="80px" height="80px" viewBox="0 0 80 80" enable-background="new 0 0 80 80" xml:space="preserve">  <image id="image0" width="80" height="80" x="0" y="0"    href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAJSElEQVRo3u1ae4xU1Rn/nXPuvPcxDMvWgsgjWKvColWxRkVKDcZKrTSaSKImJAYkAdNGaZumTZpqaoi1KWmrtmqsNPgHqdhSKqlSBFtaC6k2FlCo7PLaYZGBnZ2Z3b0z93H6x32dc3dmd87syPSPfjczO3fvOd/53d/5vvP4zgf8XyYnpAlleZPrNASQ1CjNx22ueq3x6zQEkIz5DjfFm1JnUgCdj3MFTXC/Kd6EOg0CDJqifpPwm7GrNufVoSGAHICtArE+gAE86jcGALbbmB1qLoDnlKcAiPBCtsTjuELr5thpiL5/hb7R/r35eu7heRoomA+ZQLS4AB4F25ge+b69w9xWfHzzNDChJ+rsvno6mICCgh2Yf90zJOE8uPDq1BdhwXavMIMOPAY6W/vwmfhC54F18rl16wdh+SxOyOFEDMqmTnse8eABmfvfuwHM50l2CB8e6P6HPHgAu+yB+wRDqYPH2gCJpISAgC6KRXvEugu+9e00mNvRVHCIAB778/yuB0S1sUXQBFcLfikBJL41ie5BTzBjWCymTf3uN6D58LyL+d/s/tQt3yFSG6VRaMLLQPgm9QGUKxChC+lZsmevXLhj8aGl0MD8K4DIwMA2rYlOF8tz/spun23vL0JgxwUovhMNXQTk7rf7j8sVrnhkbRoamATTvdvZ032nXPqdv2z4WHgJIugWO70GQNEqgu4SuYE+uGLrsNTNLP3EamguROm6Nr70UZmAbP/db6EA+Jo1gXVa3SZZFe5EcDJQCivLWHHJfCKoSM658fCWc2Neiu5b2XWrCE8fueeVo/0YhAlxhpHnpzE8Egke/Aoe/a6qdZ1Xtc9o72iPdFhT8jNuXjS1S2zazBvniTSecQIkZiIq/u/EiaOHOrNWwSqWS7lS79CO/N8Mdxay/fklGB15NYBEMF2Wpruunb0oNT/yGdYpMN1E4cXyqdEjR/bceShvwwIXBnB/CBcnpwAeAz16y5xV2uxPA9ZYqfR+9MuFB/w5yRbndrHffRtamXxhQ2rJxQHnSX77Hb/YX4HlsuhA5GHbo2Bg69qffip+9cWFBwD6gdu+50K0A1uUfZeBpbX+J5NfvPjwAKD4ZsdGWD5EgINToZMpCOgHK1oFD2hfdnBxaIlLnKWk7yLrOz77YKvgAcDla2dE/JkagDeT+EPmY8u0jlYCjHbvvFVaSPhTkfMv1vWlVsIDgJmLIa4WfQYBAtodTc5rNcBUD5i4+KLCXEKemEEirQYYSa9OiwuHwAYBMrNrMqqbJTd3u5gAABTBbEITmVaDA4BpXYLhCU4CkGS61eAAYEpG9GItgAeSUh5iTOujI70DmeTCq9qbNjxFp4gLVk14QiKdaqqKQ6u2vHYWNkj7m89+YcVtqfZmAEx2jh1mXA7jig38YNtrp5FDFgPF/IP7rvzpW3vNShMY7BTX1AGDFERrU1FUyP/kEPpRgA0ODZ2nupbtXLJ/0+0LriFERU9YIglQUFgeLGH9z+IqigayOIMhlFGGjmEM4D/I7sku3LrmuZN9kwToCZG7GFpURVGliBIMWDBhwUAFJfTjY5x94disF3/8aiHfKECWEO+kbWckpqKoPATDXaBbsGHBRBlDOIk+5Db868pN7/wVdkMMxgLKQht3psTgSBFevJT7QE3oOI8+HM/mbtvx8PNnsw0BFGxYAqgpzcSlkg8vgGjDgoER5HAMZ17qnfv8H3dZhhpATfIEqYvVGLR0YYPohcY9kDpKyKJ3JLd8173PqjkNlWiSGCQTx1sFsSvB9hpicNzZ8pjQcQF9yP7u1NyXt++uXy8hNbu4zpi/x6BZ5cRDBGnBxCgG0Gdd+Nrug4fq1cslFEqchRgM25Z8wODYpYUKCjiJT7b8o24GpTta88mEYtaOLouHNRwWysj1npo8QEWJjxc+9r6dD4f5lUR9WsMItdqPJpJIOKBULRDlffhdX26MBpkFpZGfaQJTAchwAJSCTtNOr+q6rl69pllrPQjTVBkJYxEEnclDBz4kiPNvnbP8m4nP16/XlpZsIkBuGiqTcTzlM+YddI05hrgj8dLK6fep7RWNsjhwSQxaSsvNeJsQF7PHxBgp2L5rrn80eqmKTgAwajIIQ2nWjLf5R4W2vw/zQsfsqalrV3cuVQXnAvQCmAJADsC2yiqKIm0gYODgoH4HU1DQnuj2r176EEs1Ag/gevAz7CRKXZzscE8uvQnOdYx/3/S51dEZjYEDAF2HMH1q4o2hqyiaMh0EGhwH4Q5/f5i3dE1yoYqWsTJSEp0kGAc5eHlYRVE8s+sm/1REg/aj7vzjy38+WXjAcMHF4zPo344qAQSWrHu9sOIDUPDb47/++iX3qm26akmxIB5DaD48Dj5aUlPF2u55snSweDza1nkDa8qmHQAKefGgW2KwUFTWRlM9qR7lWuNKbtA9fwI4XB8EABt241vFZsqZvLiNoC5SDgAnzrUaHADs+URYtHDquzSH/bPjapPdpyGF3NtF0Uk8BgEO+8Rw9nirAR4+iIqfRYJgHHSW5vqf3m01wG0HYAgnnoINcnCYj7071FI77Pvw6cOwBLMDk/JXaJlER5ZcP7nwWeNiVNZvPngMw7CCUACDmOcBWHvNG7XLW3Nawn+1deM/cQ4V/6wTTs6CuPsC7C3nF8fmzFLdhE4anf3ytjV/x2kMwxS92NmZEWH7Y4JsznYNLpgbuYiHOoULP9yy4X30Iw9T8GEeAAw+NsrAzqHfvnc1ujNRpYhhY1IafGPPXdve6Ec/cqjAkhPVwlkfzm4ihgwuQSIWWTdr0fQ509pS7al4Mp6IxSNK8a/qYhn66KheHimNFIqnzu/o+03WrGAYA8ij7GZ+CNmIgaWJOZMUESSQQQYxN0PIWS+jnc2KXhbPxNKRTCwTjWrpGMC0ZASIRWLC6tzmJR0wLL0ClIyyNagPVgqVs+WTetbIGYCfk2C7UbDz0P1UAFRjUO5oZ2+hIYo4EohDQwQUGjRQyGGNsI6wCCOaEEO0YMKGAQM6RqDDS6aokjoqKxezKJ3dhpcf6HGLUDpekDYaTgzzkkeD+KuYLhEwaMMChIEllPQYfns5uVhOWXKESq9CUF0XD/0OmrWlEnIua5UM62rdE464VL8fX0c1oPI9n+B+AuX12JfaUD5RNLFGifEbIYrlG4Vad2b//6D8FwGqeQ9UXPvmAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTA2LTE4VDA1OjAwOjQ2KzAwOjAww+EiPgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0wNi0xOFQwNTowMDo0NiswMDowMLK8moIAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMDYtMThUMDU6MDA6NDYrMDA6MDDlqbtdAAAAAElFTkSuQmCC" /></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 24 24" style="width: 100%; height: 100%;">\r\n<path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff" />\r\n</svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" version="1.1" viewBox="0 0 32 32">\r\n    <path d="M 19.41,20.09 14.83,15.5 19.41,10.91 18,9.5 l -6,6 6,6 z" fill="#fff" />\r\n</svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" version="1.1" viewBox="0 0 32 32">\r\n    <path d="m 12.59,20.34 4.58,-4.59 -4.58,-4.59 1.41,-1.41 6,6 -6,6 z" fill="#fff"/>\r\n</svg>',lock:'<?xml version="1.0" standalone="no"?>\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg t="1650612139149" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12683" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><defs>\r\n<style type="text/css"></style></defs><path d="M298.666667 426.666667V341.333333a213.333333 213.333333 0 1 1 426.666666 0v85.333334h42.666667a85.333333 85.333333 0 0 1 85.333333 85.333333v256a85.333333 85.333333 0 0 1-85.333333 85.333333H256a85.333333 85.333333 0 0 1-85.333333-85.333333v-256a85.333333 85.333333 0 0 1 85.333333-85.333333h42.666667z m213.333333-213.333334a128 128 0 0 0-128 128v85.333334h256V341.333333a128 128 0 0 0-128-128z" fill="#ffffff" p-id="12684"></path>\r\n</svg>',unlock:'<?xml version="1.0" standalone="no"?>\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg t="1650612464266" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14150" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><defs>\r\n<style type="text/css"></style></defs><path d="M666.752 194.517333L617.386667 268.629333A128 128 0 0 0 384 341.333333l0.042667 85.333334h384a85.333333 85.333333 0 0 1 85.333333 85.333333v256a85.333333 85.333333 0 0 1-85.333333 85.333333H256a85.333333 85.333333 0 0 1-85.333333-85.333333v-256a85.333333 85.333333 0 0 1 85.333333-85.333333h42.666667V341.333333a213.333333 213.333333 0 0 1 368.085333-146.816z" fill="#ffffff" p-id="14151"></path></svg>',switchOn:'<?xml version="1.0" standalone="no"?>\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg class="icon" width="26" height="26" viewBox="0 0 1664 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill="var(--art-theme)" d="M1152 0H512a512 512 0 0 0 0 1024h640a512 512 0 0 0 0-1024z m0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z"  />\r\n</svg>',switchOff:'<?xml version="1.0" standalone="no"?>\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg class="icon" width="26" height="26" viewBox="0 0 1740 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill="#ffffff" d="M511.8976 1024h670.5152c282.4192-0.4096 511.1808-229.4784 511.1808-511.8976 0-282.4192-228.7616-511.488-511.1808-511.8976H511.8976C229.4784 0.6144 0.7168 229.6832 0.7168 512.1024c0 282.4192 228.7616 511.488 511.1808 511.8976zM511.3344 48.64A464.5888 464.5888 0 1 1 48.0256 513.024 463.872 463.872 0 0 1 511.3344 48.4352V48.64z" />\r\n</svg>',error:'<?xml version="1.0" standalone="no"?>\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg t="1652850026663" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2749" xmlns:xlink="http://www.w3.org/1999/xlink" width="50" height="50">\r\n<path d="M593.8176 168.5504l356.00384 595.21024c26.15296 43.74528 10.73152 99.7376-34.44736 125.05088-14.39744 8.06912-30.72 12.30848-47.37024 12.30848H155.97568C103.75168 901.12 61.44 860.16 61.44 809.61536c0-16.09728 4.38272-31.92832 12.71808-45.8752L430.16192 168.5504c26.17344-43.7248 84.00896-58.65472 129.20832-33.34144a93.0816 93.0816 0 0 1 34.44736 33.34144zM512 819.2a61.44 61.44 0 1 0 0-122.88 61.44 61.44 0 0 0 0 122.88z m0-512a72.31488 72.31488 0 0 0-71.76192 81.3056l25.72288 205.7216a46.40768 46.40768 0 0 0 92.07808 0l25.72288-205.74208A72.31488 72.31488 0 0 0 512 307.2z" p-id="2750">\r\n</path>\r\n</svg>',close:'<?xml version="1.0" standalone="no"?>\r\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\r\n<svg t="1655876154826" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="22" height="22">\r\n<path d="M571.733333 512l268.8-268.8c17.066667-17.066667 17.066667-42.666667 0-59.733333-17.066667-17.066667-42.666667-17.066667-59.733333 0L512 452.266667 243.2 183.466667c-17.066667-17.066667-42.666667-17.066667-59.733333 0-17.066667 17.066667-17.066667 42.666667 0 59.733333L452.266667 512 183.466667 780.8c-17.066667 17.066667-17.066667 42.666667 0 59.733333 8.533333 8.533333 19.2 12.8 29.866666 12.8s21.333333-4.266667 29.866667-12.8L512 571.733333l268.8 268.8c8.533333 8.533333 19.2 12.8 29.866667 12.8s21.333333-4.266667 29.866666-12.8c17.066667-17.066667 17.066667-42.666667 0-59.733333L571.733333 512z" p-id="2131">\r\n</path>\r\n</svg>',indicator:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" preserveAspectRatio="xMidYMid meet"\r\n    style="width: 100%; height: 100%; transform: translate3d(0px, 0px, 0px);">\r\n    <defs>\r\n        <clipPath id="__lottie_element_403">\r\n            <rect width="18" height="18" x="0" y="0"></rect>\r\n        </clipPath>\r\n    </defs>\r\n    <g clip-path="url(#__lottie_element_403)">\r\n        <g transform="matrix(0.9883429408073425,-0.7275781631469727,0.6775955557823181,0.920446515083313,7.3224687576293945,-0.7606706619262695)"\r\n            opacity="1" style="display: block;">\r\n            <g opacity="1"\r\n                transform="matrix(0.9937776327133179,-0.11138220876455307,0.11138220876455307,0.9937776327133179,-2.5239999294281006,1.3849999904632568)">\r\n                <path fill="rgb(51,51,51)" fill-opacity="1"\r\n                    d=" M0.75,-1.25 C0.75,-1.25 0.75,1.25 0.75,1.25 C0.75,1.663925051689148 0.4139249920845032,2 0,2 C0,2 0,2 0,2 C-0.4139249920845032,2 -0.75,1.663925051689148 -0.75,1.25 C-0.75,1.25 -0.75,-1.25 -0.75,-1.25 C-0.75,-1.663925051689148 -0.4139249920845032,-2 0,-2 C0,-2 0,-2 0,-2 C0.4139249920845032,-2 0.75,-1.663925051689148 0.75,-1.25z">\r\n                </path>\r\n            </g>\r\n        </g>\r\n        <g transform="matrix(1.1436611413955688,0.7535901665687561,-0.6317168474197388,0.9587040543556213,16.0070743560791,2.902894973754883)"\r\n            opacity="1" style="display: block;">\r\n            <g opacity="1"\r\n                transform="matrix(0.992861807346344,0.1192704513669014,-0.1192704513669014,0.992861807346344,-2.5239999294281006,1.3849999904632568)">\r\n                <path fill="rgb(51,51,51)" fill-opacity="1"\r\n                    d=" M0.75,-1.25 C0.75,-1.25 0.75,1.25 0.75,1.25 C0.75,1.663925051689148 0.4139249920845032,2 0,2 C0,2 0,2 0,2 C-0.4139249920845032,2 -0.75,1.663925051689148 -0.75,1.25 C-0.75,1.25 -0.75,-1.25 -0.75,-1.25 C-0.75,-1.663925051689148 -0.4139249920845032,-2 0,-2 C0,-2 0,-2 0,-2 C0.4139249920845032,-2 0.75,-1.663925051689148 0.75,-1.25z">\r\n                </path>\r\n            </g>\r\n        </g>\r\n        <g transform="matrix(1,0,0,1,8.890999794006348,8.406000137329102)" opacity="1" style="display: block;">\r\n            <g opacity="1" transform="matrix(1,0,0,1,0.09099999815225601,1.1009999513626099)">\r\n                <path fill="rgb(255,255,255)" fill-opacity="1"\r\n                    d=" M7,-3 C7,-3 7,3 7,3 C7,4.379749774932861 5.879749774932861,5.5 4.5,5.5 C4.5,5.5 -4.5,5.5 -4.5,5.5 C-5.879749774932861,5.5 -7,4.379749774932861 -7,3 C-7,3 -7,-3 -7,-3 C-7,-4.379749774932861 -5.879749774932861,-5.5 -4.5,-5.5 C-4.5,-5.5 4.5,-5.5 4.5,-5.5 C5.879749774932861,-5.5 7,-4.379749774932861 7,-3z">\r\n                </path>\r\n                <path stroke-linecap="butt" stroke-linejoin="miter" fill-opacity="0" stroke-miterlimit="4"\r\n                    stroke="rgb(51,51,51)" stroke-opacity="1" stroke-width="1.5"\r\n                    d=" M7,-3 C7,-3 7,3 7,3 C7,4.379749774932861 5.879749774932861,5.5 4.5,5.5 C4.5,5.5 -4.5,5.5 -4.5,5.5 C-5.879749774932861,5.5 -7,4.379749774932861 -7,3 C-7,3 -7,-3 -7,-3 C-7,-4.379749774932861 -5.879749774932861,-5.5 -4.5,-5.5 C-4.5,-5.5 4.5,-5.5 4.5,-5.5 C5.879749774932861,-5.5 7,-4.379749774932861 7,-3z">\r\n                </path>\r\n            </g>\r\n        </g>\r\n        <g transform="matrix(1,0,0,1,8.89900016784668,8.083999633789062)" opacity="1" style="display: block;">\r\n            <g opacity="1" transform="matrix(1,0,0,1,-2.5239999294281006,1.3849999904632568)">\r\n                <path fill="rgb(51,51,51)" fill-opacity="1"\r\n                    d=" M0.875,-1.125 C0.875,-1.125 0.875,1.125 0.875,1.125 C0.875,1.607912540435791 0.48291251063346863,2 0,2 C0,2 0,2 0,2 C-0.48291251063346863,2 -0.875,1.607912540435791 -0.875,1.125 C-0.875,1.125 -0.875,-1.125 -0.875,-1.125 C-0.875,-1.607912540435791 -0.48291251063346863,-2 0,-2 C0,-2 0,-2 0,-2 C0.48291251063346863,-2 0.875,-1.607912540435791 0.875,-1.125z">\r\n                </path>\r\n            </g>\r\n        </g>\r\n        <g transform="matrix(1,0,0,1,14.008999824523926,8.083999633789062)" opacity="1" style="display: block;">\r\n            <g opacity="1" transform="matrix(1,0,0,1,-2.5239999294281006,1.3849999904632568)">\r\n                <path fill="rgb(51,51,51)" fill-opacity="1"\r\n                    d=" M0.8999999761581421,-1.100000023841858 C0.8999999761581421,-1.100000023841858 0.8999999761581421,1.100000023841858 0.8999999761581421,1.100000023841858 C0.8999999761581421,1.596709966659546 0.4967099726200104,2 0,2 C0,2 0,2 0,2 C-0.4967099726200104,2 -0.8999999761581421,1.596709966659546 -0.8999999761581421,1.100000023841858 C-0.8999999761581421,1.100000023841858 -0.8999999761581421,-1.100000023841858 -0.8999999761581421,-1.100000023841858 C-0.8999999761581421,-1.596709966659546 -0.4967099726200104,-2 0,-2 C0,-2 0,-2 0,-2 C0.4967099726200104,-2 0.8999999761581421,-1.596709966659546 0.8999999761581421,-1.100000023841858z">\r\n                </path>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>',issue:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" data-pointer="none"\r\n    viewBox="0 0 22 22">\r\n    <defs>\r\n        <filter id="__j9H-pv6__a" width="162.5%" height="162.5%" x="-31.2%" y="-25%" filterUnits="objectBoundingBox">\r\n            <feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>\r\n            <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5"></feGaussianBlur>\r\n            <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"></feColorMatrix>\r\n        </filter>\r\n        <path id="__j9H-pv6__b"\r\n            d="m6 16-3 3V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6Zm4-4v2h2v-2h-2Zm2-.998c0-.34.149-.523.636-.925.022-.018.296-.24.379-.31a5.81 5.81 0 0 0 .173-.152C13.705 9.145 14 8.656 14 8a3 3 0 0 0-5.698-1.314c-.082.17-.153.41-.213.72A.5.5 0 0 0 8.581 8h1.023a.5.5 0 0 0 .476-.348.851.851 0 0 1 .114-.244A.999.999 0 0 1 12 8c0 1.237-2 1.16-2 3h2Z">\r\n        </path>\r\n    </defs>\r\n    <g fill-rule="evenodd">\r\n        <use xlink:href="#__j9H-pv6__b" filter="url(#__j9H-pv6__a)"></use>\r\n        <use xlink:href="#__j9H-pv6__b"></use>\r\n    </g>\r\n</svg>',...He.option.icons};for(const He in $e)P(this,He,{get:()=>R(He,$e[He])})}}class Lt extends ot{constructor(He){super(He);const{option:$e,controls:je,template:{$setting:Ye},events:{hover:ti}}=He;this.name="setting",this.$parent=Ye,this.option=[],this.events=[],this.cache=new Map,this.timer=null,$e.setting,$e.setting&&(ti(Ye,(()=>{this.timer&&clearTimeout(this.timer),He.isInput=!0,this.show=!0}),(()=>{this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{He.isInput=!1,this.show=!1}),800)})),this.init(),He.on("blur",(()=>{this.show&&(this.show=!1,this.render(this.option))})),He.on("focus",(He=>{const $e=S(He,je.setting),Ye=S(He,this.$parent);!this.show||$e||Ye||(this.show=!1,this.render(this.option))})))}static makeRecursion(He,$e,je){for(let Ye=0;Ye<He.length;Ye++){const ti=He[Ye];ti.$parentItem=$e,ti.$parentList=je,Lt.makeRecursion(ti.selector||[],ti,He)}return He}get defaultSettings(){const He=[],{option:$e}=this.art;return $e.aspectRatio&&He.push(function(He){const{i18n:$e,icons:je,constructor:{SETTING_ITEM_WIDTH:Ye,ASPECT_RATIO:ti}}=He;function s(He){return"default"===He?$e.get("Default"):He}function n(He,$e,je){$e&&($e.innerText=s(je));const Ye=f(".art-setting-item",He).find((He=>He.dataset.value===je));Ye&&x(Ye,"art-current")}return{width:Ye,name:"aspect-ratio",html:$e.get("Aspect Ratio"),tooltip:s(He.aspectRatio),selector:ti.map(($e=>({value:$e,name:`aspect-ratio-${$e}`,default:$e===He.aspectRatio,html:s($e)}))),onSelect:$e=>(He.aspectRatio=$e.value,$e.html),mounted:($e,je)=>{n($e,je.$tooltip,He.aspectRatio),He.on("aspectRatio",(()=>{n($e,je.$tooltip,He.aspectRatio)}))}}}(this.art)),$e.flip&&He.push(function(He){const{i18n:$e,constructor:{SETTING_ITEM_WIDTH:je,FLIP:Ye}}=He;function a(He,je,Ye){je&&(je.innerText=$e.get(V(Ye)));const ti=f(".art-setting-item",He).find((He=>He.dataset.value===Ye));ti&&x(ti,"art-current")}return{width:je,name:"flip",html:$e.get("Video Flip"),tooltip:$e.get(V(He.flip)),selector:Ye.map((je=>({value:je,name:`aspect-ratio-${je}`,default:je===He.flip,html:$e.get(V(je))}))),onSelect:$e=>(He.flip=$e.value,$e.html),mounted:($e,je)=>{a($e,je.$tooltip,He.flip),He.on("flip",(()=>{a($e,je.$tooltip,He.flip)}))}}}(this.art)),$e.theme&&He.push(function(He){const{option:$e,i18n:je,storage:Ye,constructor:{SETTING_ITEM_WIDTH:ti,THEM_COLOR:mi}}=He,n=He=>`<span style="color: ${He}">${mi[He]}</span>`,_i=Ye.mediaGet("theme")||$e.theme;return{width:ti,name:"them-color",html:je.get("Theme"),tooltip:n(_i),selector:Object.keys(mi).map(((He,$e)=>({default:_i===He,html:n(He),value:He}))),onSelect:$e=>(He.theme=$e.value,Ye.mediaSet("theme",$e.value),$e.html)}}(this.art)),He}init(){const{option:He}=this.art,$e=[...this.defaultSettings,...He.settings];this.option=Lt.makeRecursion($e),this.destroy(),this.render(this.option)}destroy(){for(let He=0;He<this.events.length;He++)this.art.events.remove(this.events[He]);this.$parent.innerHTML="",this.events=[],this.cache=new Map}find(He="",$e=this.option){for(let je=0;je<$e.length;je++){const Ye=$e[je];if(Ye.name===He)return Ye;{const $e=this.find(He,Ye.selector||[]);if($e)return $e}}}remove(He){const $e=this.find(He);M($e,`Can't find [${He}] from the [setting]`);const je=$e.$parentItem?$e.$parentItem.selector:this.option;return je.splice(je.indexOf($e),1),this.option=Lt.makeRecursion(this.option),this.destroy(),this.render(this.option),this.option}update(He){const $e=this.find(He.name);return $e?(Object.assign($e,He),this.option=Lt.makeRecursion(this.option),this.destroy(),this.render(this.option)):this.add(He),this.option}add(He){return this.option.push(He),this.option=Lt.makeRecursion(this.option),this.destroy(),this.render(this.option),this.option}creatHeader(He){const{icons:$e,proxy:je,constructor:Ye}=this.art,ti=D("div");I(ti,"height",`${Ye.SETTING_ITEM_HEIGHT}px`),p(ti,"art-setting-item"),p(ti,"art-setting-item-back");const mi=E(ti,'<div class="art-setting-item-left"></div>'),_i=D("div");p(_i,"art-setting-item-left-icon"),E(_i,$e.arrowLeft),E(mi,_i),E(mi,He.$parentItem.html);const Pi=je(ti,"click",(()=>this.render(He.$parentList)));return this.events.push(Pi),ti}creatItem(He,$e){const{icons:je,proxy:Ye,constructor:ti}=this.art,mi=D("div");p(mi,"art-setting-item"),I(mi,"height",`${ti.SETTING_ITEM_HEIGHT}px`),K($e.name)&&(mi.dataset.name=$e.name),K($e.value)&&(mi.dataset.value=$e.value);const _i=E(mi,'<div class="art-setting-item-left"></div>'),Pi=E(mi,'<div class="art-setting-item-right"></div>'),Mi=D("div");p(Mi,"art-setting-item-left-text"),E(Mi,$e.html||""),E(_i,Mi),$e.$html=Mi,P($e,"html",{configurable:!0,get:()=>Mi.innerHTML,set(He){K(He)&&(Mi.innerHTML=He)}});const Fi=D("div");switch(p(Fi,"art-setting-item-right-tooltip"),E(Fi,$e.tooltip||""),E(Pi,Fi),$e.$tooltip=Fi,P($e,"tooltip",{configurable:!0,get:()=>Fi.innerHTML,set(He){K(He)&&(Fi.innerHTML=He)}}),He){case"switch":{const He=D("div");p(He,"art-setting-item-right-icon");const Ye=E(He,je.switchOn),ti=E(He,je.switchOff);I($e.switch?ti:Ye,"display","none"),E(Pi,He),$e.$switch=$e.switch,P($e,"switch",{configurable:!0,get:()=>$e.$switch,set(He){$e.$switch=He,He?(I(ti,"display","none"),I(Ye,"display",null)):(I(ti,"display",null),I(Ye,"display","none"))}});break}case"range":{const He=D("div");p(He,"art-setting-item-right-icon");const je=E(He,'<input type="range">');je.value=$e.range[0]||0,je.min=$e.range[1]||0,je.max=$e.range[2]||10,je.step=$e.range[3]||1,p(je,"art-setting-range"),E(Pi,He),$e.$range=je,P($e,"range",{configurable:!0,get:()=>je.valueAsNumber,set(He){je.value=Number(He)}})}break;case"selector":if($e.selector&&$e.selector.length){const He=D("div");p(He,"art-setting-item-right-icon"),E(He,je.arrowRight),E(Pi,He)}}switch(He){case"switch":if($e.onSwitch){const He=Ye(mi,"click",(async He=>{$e.switch=await $e.onSwitch.call(this.art,$e,mi,He)}));this.events.push(He)}break;case"range":if($e.$range){if($e.onRange){const He=Ye($e.$range,"change",(async He=>{$e.tooltip=await $e.onRange.call(this.art,$e,mi,He)}));this.events.push(He)}if($e.onChange){const He=Ye($e.$range,"input",(async He=>{$e.tooltip=await $e.onChange.call(this.art,$e,mi,He)}));this.events.push(He)}}break;case"selector":{const He=Ye(mi,"click",(async He=>{if($e.selector&&$e.selector.length)this.render($e.selector,$e.width);else{x(mi,"art-current");for(let He=0;He<$e.$parentItem.selector.length;He++){const je=$e.$parentItem.selector[He];je.default=je===$e}if($e.$parentList&&this.render($e.$parentList),$e.$parentItem&&$e.$parentItem.onSelect){const je=await $e.$parentItem.onSelect.call(this.art,$e,mi,He);$e.$parentItem.$tooltip&&K(je)&&($e.$parentItem.$tooltip.innerHTML=je)}}}));this.events.push(He),$e.default&&p(mi,"art-current")}}return mi}updateStyle(He){const{controls:$e,constructor:je,template:{$player:Ye,$setting:ti}}=this.art;if($e.setting&&!h){const mi=He||je.SETTING_WIDTH,{left:_i,width:Pi}=$e.setting.getBoundingClientRect(),{left:Mi,width:Fi}=Ye.getBoundingClientRect(),Oi=_i-Mi+Pi/2-mi/2;Oi+mi>Fi?(I(ti,"left",null),I(ti,"right",null)):(I(ti,"left",`${Oi}px`),I(ti,"right","auto"))}}render(He,$e){const{constructor:je}=this.art;if(this.cache.has(He)){const $e=this.cache.get(He);x($e,"art-current"),I(this.$parent,"width",`${$e.dataset.width}px`),I(this.$parent,"height",`${$e.dataset.height}px`),this.updateStyle(Number($e.dataset.width))}else{const Ye=D("div");p(Ye,"art-setting-panel"),Ye.dataset.width=$e||je.SETTING_WIDTH,Ye.dataset.height=He.length*je.SETTING_ITEM_HEIGHT,He[0]&&He[0].$parentItem&&(E(Ye,this.creatHeader(He[0])),Ye.dataset.height=Number(Ye.dataset.height)+je.SETTING_ITEM_HEIGHT);for(let $e=0;$e<He.length;$e++){const je=He[$e];N(je,"switch")?E(Ye,this.creatItem("switch",je)):N(je,"range")?E(Ye,this.creatItem("range",je)):E(Ye,this.creatItem("selector",je))}E(this.$parent,Ye),this.cache.set(He,Ye),x(Ye,"art-current"),I(this.$parent,"width",`${Ye.dataset.width}px`),I(this.$parent,"height",`${Ye.dataset.height}px`),this.updateStyle(Number(Ye.dataset.width)),He[0]&&He[0].$parentItem&&He[0].$parentItem.mounted&&He[0].$parentItem.mounted.call(this.art,Ye,He[0].$parentItem)}}}class Tt{constructor(){this.name="xplayer",this.mediaName="media",this.settings={}}parseLocalStorage(){try{return JSON.parse(window.localStorage.getItem(this.name))||{}}catch(He){return this.settings}}updateLocalStorage(He){try{window.localStorage.setItem(this.name,JSON.stringify(He))}catch($e){this.settings=He}}get(He){const $e=this.parseLocalStorage();return He?$e[He]:$e}mediaGet(He){const $e=this.parseLocalStorage()[this.mediaName]||{};return He?$e[He]:$e}set(He,$e){const je=Object.assign({},this.get(),{[He]:$e});this.updateLocalStorage(je)}mediaSet(He,$e){const je=Object.assign({},this.get(),{[this.mediaName]:Object.assign({},this.mediaGet(),{[He]:$e})});this.updateLocalStorage(je)}del(He){const $e=this.get();delete $e[He],this.updateLocalStorage($e)}mediaDel(He){const $e=this.mediaGet();delete $e[He];const je=Object.assign({},this.get(),{[this.mediaName]:$e});this.updateLocalStorage(je)}clear(){try{window.localStorage.removeItem(this.name)}catch(He){this.settings={}}}}function Mt(He){return He.on("control",($e=>{$e?m(He.template.$player,"art-mini-progress-bar"):p(He.template.$player,"art-mini-progress-bar")})),{name:"mini-progress-bar"}}function Ft(He){const{constructor:$e,template:{$player:je,$video:Ye}}=He;return He.on("fullscreenWeb",(ti=>{if(ti){const{videoWidth:ti,videoHeight:mi}=Ye,{clientWidth:_i,clientHeight:Pi}=document.documentElement;(ti>mi&&_i<Pi||ti<mi&&_i>Pi)&&setTimeout((()=>{I(je,"width",`${Pi}px`),I(je,"height",`${_i}px`),I(je,"transform-origin","0 0"),I(je,"transform",`rotate(90deg) translate(0, -${_i}px)`),p(je,"art-auto-orientation"),He.isRotate=!0,He.emit("resize")}),$e.AUTO_ORIENTATION_TIME)}else v(je,"art-auto-orientation")&&(m(je,"art-auto-orientation"),He.isRotate=!1,He.emit("resize"))})),He.on("fullscreen",(async He=>{const $e=screen.orientation.type;if(He){const{videoWidth:He,videoHeight:ti}=Ye,{clientWidth:mi,clientHeight:_i}=document.documentElement;if(He>ti&&mi<_i||He<ti&&mi>_i){const He=$e.startsWith("portrait")?"landscape":"portrait";await screen.orientation.lock(He),p(je,"art-auto-orientation-fullscreen")}}else v(je,"art-auto-orientation-fullscreen")&&(await screen.orientation.lock($e),m(je,"art-auto-orientation-fullscreen"))})),{name:"autoOrientation",get state(){return v(je,"art-auto-orientation")}}}function Pt(He){const{i18n:$e,icons:je,storage:Ye,constructor:ti,proxy:mi,template:{$poster:_i}}=He,Pi=He.layers.add({name:"auto-playback",html:'\n            <div class="art-auto-playback-close"></div>\n            <div class="art-auto-playback-last"></div>\n        '}),Mi=g(".art-auto-playback-last",Pi),Fi=g(".art-auto-playback-close",Pi);return He.on("video:timeupdate",(()=>{if(He.playing){const $e=Ye.get("times")||{},je=Object.keys($e);je.length>ti.AUTO_PLAYBACK_MAX&&delete $e[je[0]],$e[He.option.id||He.option.url]=He.currentTime,Ye.set("times",$e)}})),He.on("ready",(()=>{const _i=(Ye.get("times")||{})[He.option.id||He.option.url];_i&&_i>=ti.AUTO_PLAYBACK_MIN&&(E(Fi,je.close),I(Pi,"display","flex"),Mi.innerText=`${$e.get("Last Seen")} ${z(_i)}`,mi(Fi,"click",(()=>{I(Pi,"display","none")})),He.once("video:timeupdate",(()=>{setTimeout((()=>{I(Pi,"display","none")}),ti.AUTO_PLAYBACK_TIMEOUT)})))})),{name:"auto-playback",get times(){return Ye.get("times")||{}},clear:()=>Ye.del("times"),delete(He){const $e=Ye.get("times")||{};return delete $e[He],Ye.set("times",$e),$e}}}function _t(He){const{constructor:$e,proxy:je,template:{$player:Ye,$video:ti}}=He;let mi=null,_i=!1,Pi=1;const h=()=>{clearTimeout(mi),_i&&(_i=!1,He.playbackRate=Pi,m(Ye,"art-fast-forward"))};return je(ti,"touchstart",(je=>{1===je.touches.length&&He.playing&&!He.isLock&&(mi=setTimeout((()=>{_i=!0,Pi=He.playbackRate,He.playbackRate=$e.FAST_FORWARD_VALUE,p(Ye,"art-fast-forward")}),$e.FAST_FORWARD_TIME))})),je(document,"touchmove",h),je(document,"touchend",h),{name:"fastForward",get state(){return v(Ye,"art-fast-forward")}}}function Nt(He){const{layers:$e,icons:je,template:{$player:Ye}}=He;return $e.add({name:"lock",mounted($e){const Ye=E($e,je.lock),ti=E($e,je.unlock);I(Ye,"display","none"),He.on("lock",(He=>{He?(I(Ye,"display","inline-flex"),I(ti,"display","none")):(I(Ye,"display","none"),I(ti,"display","inline-flex"))}))},click(){v(Ye,"art-lock")?(m(Ye,"art-lock"),this.isLock=!1,He.emit("lock",!1)):(p(Ye,"art-lock"),this.isLock=!0,He.emit("lock",!0))}}),{name:"lock",get state(){return v(Ye,"art-lock")}}}class Ut{constructor(He){this.art=He,this.id=0;const{option:$e}=He;$e.miniProgressBar&&!$e.isLive&&this.add(Mt),$e.lock&&h&&this.add(Nt),$e.autoPlayback&&!$e.isLive&&this.add(Pt),$e.autoOrientation&&h&&this.add(Ft),$e.fastForward&&h&&!$e.isLive&&this.add(_t);for(let He=0;He<$e.plugins.length;He++)this.add($e.plugins[He])}async add(He){this.id+=1;const $e=await He.call(this.art,this.art),je=$e&&$e.name||He.name||`plugin${this.id}`;return M(!N(this,je),`Cannot add a plugin that already has the same name: ${je}`),P(this,je,{value:$e}),this}}class Gt extends ot{constructor(He){super(He);const{i18n:$e,icons:je,proxy:Ye,template:{$headRight:ti}}=He;w(E(ti,je.issue),$e.get("Issue"),"left"),Ye(ti,"click",(()=>{window.open("https://xdys.vip","_blank")}))}}let Ot=0;const jt=[];class Yt extends t{constructor(He,$e){super(),this.id=++Ot;const je=G(Yt.option,He);je.container=He.container,this.option=je,this.isLock=!1,this.isReady=!1,this.isFocus=!1,this.isInput=!1,this.isRotate=!1,this.isDestroy=!1,this.template=new J(this),this.events=new kt(this),this.storage=new Tt(this),this.icons=new Rt(this),this.i18n=new X(this),this.notice=new bt(this),this.player=new nt(this),this.layers=new wt(this),this.Head=new Gt(this),this.controls=new yt(this),this.contextmenu=new It(this),this.info=new Ct(this),this.loading=new St(this),this.hotkey=new xt(this),this.mask=new Dt(this),this.setting=new Lt(this),this.plugins=new Ut(this),"function"==typeof $e&&this.on("ready",(()=>$e.call(this,this))),jt.push(this)}static get instances(){return jt}static get version(){return"5.10"}static get config(){return W}static get utils(){return q}static get Emitter(){return t}static get html(){return J.html}static get option(){return{id:"",container:"#artplayer",url:"",poster:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!0,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!1,fastForward:!1,autoPlayback:!1,autoOrientation:!1,layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],thumbnails:{url:"",number:60,column:10,width:0,height:0},i18n:{},icons:{},cssVar:{},customType:{},lang:navigator.language.toLowerCase()}}get proxy(){return this.events.proxy}get query(){return this.template.query}get video(){return this.template.$video}destroy(He=!0){this.events.destroy(),this.template.destroy(He),jt.splice(jt.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}function Ht(He){switch(He){case 1:case 2:case 3:default:return 0;case 4:case 5:return 1}}function Vt(He){return fetch(He).then((He=>He.text())).then((He=>function(He){if("string"!=typeof He)return[];const $e=He.matchAll(/<d (?:.*? )??p="(?<p>.+?)"(?: .*?)?>(?<text>.+?)<\/d>/gs);return Array.from($e).map((He=>{const $e=He.groups.p.split(",");return $e.length>=8?{text:He.groups.text.trim().replaceAll("&quot;",'"').replaceAll("&apos;","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),time:Number($e[0]),mode:Ht(Number($e[1])),fontSize:Number($e[2]),color:`#${Number($e[3]).toString(16)}`,timestamp:Number($e[4]),pool:Number($e[5]),userID:$e[6],rowID:Number($e[7])}:null})).filter(Boolean)}(He)))}Yt.CONTEXTMENU=!0,Yt.NOTICE_TIME=2e3,Yt.SETTING_WIDTH=250,Yt.SETTING_ITEM_WIDTH=200,Yt.SETTING_ITEM_HEIGHT=35,Yt.RESIZE_TIME=200,Yt.SCROLL_TIME=200,Yt.SCROLL_GAP=50,Yt.AUTO_PLAYBACK_MAX=10,Yt.AUTO_PLAYBACK_MIN=5,Yt.AUTO_PLAYBACK_TIMEOUT=3e3,Yt.RECONNECT_TIME_MAX=3,Yt.RECONNECT_SLEEP_TIME=1e3,Yt.CONTROL_HIDE_TIME=2e3,Yt.DBCLICK_TIME=300,Yt.DBCLICK_FULLSCREEN=!0,Yt.MOBILE_DBCLICK_PLAY=!0,Yt.MOBILE_CLICK_PLAY=!1,Yt.AUTO_ORIENTATION_TIME=200,Yt.INFO_LOOP_TIME=1e3,Yt.FAST_FORWARD_VALUE=3,Yt.FAST_FORWARD_TIME=1e3,Yt.TOUCH_MOVE_RATIO=.5,Yt.VOLUME_STEP=.1,Yt.SEEK_STEP=5,Yt.PLAYBACK_RATE=["2.0","1.5","1.25","1.0","0.75","0.5"],Yt.ASPECT_RATIO=["default","4:3","16:9"],Yt.FLIP=["normal","horizontal","vertical"],Yt.FULLSCREEN_WEB_IN_BODY=!1,Yt.LOG_VERSION=!0,Yt.USE_RAF=!1,Yt.THEM_COLOR={"#ce0021":"中国红","#23ade5":"哔哩蓝","#f1511b":"西瓜红","#71db00":"奇异绿","#ff6f00":"芒果橙","#fb7299":"少女粉","#d159cd":"葡萄紫","#ffee16":"洋气黄"};const Kt="IWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO29ubWVzc2FnZT10PT57Y29uc3R7ZGF0YTplfT10LGk9ZnVuY3Rpb24oe3RhcmdldDp0LGVtaXRzOmUsY2xpZW50V2lkdGg6aSxjbGllbnRIZWlnaHQ6bixtYXJnaW5Cb3R0b206cyxtYXJnaW5Ub3A6aCxhbnRpT3ZlcmxhcDpvfSl7Y29uc3Qgcj1lLmZpbHRlcigoZT0+ZS5tb2RlPT09dC5tb2RlJiZlLnRvcDw9bi1zKSkuc29ydCgoKHQsZSk9PnQudG9wLWUudG9wKSk7aWYoMD09PXIubGVuZ3RoKXJldHVybiBoO3IudW5zaGlmdCh7dG9wOjAsbGVmdDowLHJpZ2h0OjAsaGVpZ2h0Omgsd2lkdGg6aSxzcGVlZDowLGRpc3RhbmNlOml9KSxyLnB1c2goe3RvcDpuLXMsbGVmdDowLHJpZ2h0OjAsaGVpZ2h0OnMsd2lkdGg6aSxzcGVlZDowLGRpc3RhbmNlOml9KTtmb3IobGV0IGE9MTthPHIubGVuZ3RoO2ErPTEpe2NvbnN0IGU9clthXSxpPXJbYS0xXSxuPWkudG9wK2kuaGVpZ2h0O2lmKGUudG9wLW4+PXQuaGVpZ2h0KXJldHVybiBufWNvbnN0IHA9W107Zm9yKGxldCBhPTE7YTxyLmxlbmd0aC0xO2ErPTEpe2NvbnN0IHQ9clthXTtpZihwLmxlbmd0aCl7Y29uc3QgZT1wW3AubGVuZ3RoLTFdO2VbMF0udG9wPT09dC50b3A/ZS5wdXNoKHQpOnAucHVzaChbdF0pfWVsc2UgcC5wdXNoKFt0XSl9aWYoIW8pe3N3aXRjaCh0Lm1vZGUpe2Nhc2UgMDpwLnNvcnQoKCh0LGUpPT57Y29uc3QgaT1NYXRoLm1pbiguLi5lLm1hcCgodD0+dC5yaWdodCkpKSxuPU1hdGgubWluKC4uLnQubWFwKCh0PT50LnJpZ2h0KSkpO3JldHVybiBpKmUubGVuZ3RoLW4qdC5sZW5ndGh9KSk7YnJlYWs7Y2FzZSAxOnAuc29ydCgoKHQsZSk9Pntjb25zdCBpPU1hdGgubWF4KC4uLmUubWFwKCh0PT50LndpZHRoKSkpO3JldHVybiBNYXRoLm1heCguLi50Lm1hcCgodD0+dC53aWR0aCkpKSp0Lmxlbmd0aC1pKmUubGVuZ3RofSkpfXJldHVybiBwWzBdWzBdLnRvcH1zd2l0Y2godC5tb2RlKXtjYXNlIDA6e2NvbnN0IGU9cC5maW5kKChlPT5lLmV2ZXJ5KChlPT4hKGk8ZS5kaXN0YW5jZSkmJih0LnNwZWVkPGUuc3BlZWR8fGUucmlnaHQvKHQuc3BlZWQtZS5zcGVlZCk+ZS50aW1lKSkpKSk7cmV0dXJuIGUmJmVbMF0/ZVswXS50b3A6dm9pZCAwfWNhc2UgMTpyZXR1cm59fShlKTtzZWxmLnBvc3RNZXNzYWdlKHt0b3A6aSxpZDplLmlkfSl9fSgpOwo=",zt="undefined"!=typeof window&&window.Blob&&new Blob([atob(Kt)],{type:"text/javascript;charset=utf-8"});function qt(He){let $e;try{if($e=zt&&(window.URL||window.webkitURL).createObjectURL(zt),!$e)throw"";const je=new Worker($e,{name:null==He?void 0:He.name});return je.addEventListener("error",(()=>{(window.URL||window.webkitURL).revokeObjectURL($e)})),je}catch($e){return new Worker("data:application/javascript;base64,"+Kt,{name:null==He?void 0:He.name})}finally{$e&&(window.URL||window.webkitURL).revokeObjectURL($e)}}class Wt{constructor(He,$e){const{constructor:je,template:Ye,storage:ti}=He;if(this.originOption=$e,this.utils=je.utils,this.$danmuku=Ye.$danmuku,this.$player=Ye.$player,this.storage=ti,this.art=He,this.danmus=[],this.queue=[],this.option={},this.$refs=[],this.isStop=!1,this.isHide=!1,this.timer=null,this.config($e),this.option.useWorker)try{this.worker=new qt}catch(He){}this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.reset=this.reset.bind(this),this.destroy=this.destroy.bind(this),He.on("video:play",this.start),He.on("video:playing",this.start),He.on("video:pause",this.stop),He.on("video:waiting",this.stop),He.on("resize",this.reset),He.on("destroy",this.destroy),this.load()}static get originOption(){return this.originOption}static get option(){return{danmuku:[],switch:1,speed:5,margin:["2%","25%"],opacity:1,color:"#FFFFFF",mode:0,fontSize:25,filter:()=>!0,antiOverlap:!0,useWorker:!0,synchronousPlayback:!1,lockTime:5,maxLength:100,minWidth:200,maxWidth:400,mount:void 0,theme:"dark",heatmap:!1,beforeEmit:()=>!0}}get isRotate(){return this.art.plugins.autoOrientation&&this.art.plugins.autoOrientation.state}getMargin(He){const{clamp:$e}=this.utils,{clientHeight:je}=this.$player;return He?$e(je*((100-He)/100),0,je):0}getFontSize(He){const{isMobile:$e}=this.utils;let je=Math.max(12,this.getScaleSize(He,25));return $e&&(je*=.75),je}getScaleSize(He,$e){const{clientHeight:je}=this.$player,Ye=He*$e/25;return je<=314?16:je<=499?Ye*(.0385*je+3.29):je<=608?Ye*(.041*je):je<=700?Ye*(.022*je+12):je<=816?27*Ye:je<=980?Ye*(.0365*je-2.5):je<=1300?Ye*(.022*je+18.5):40*Ye}filter(He,$e){return this.queue.filter(($e=>$e.$state===He)).map($e)}getLeft(He){const $e=He.getBoundingClientRect();return this.isRotate?$e.top:$e.left}getRef(){const He=this.$refs.pop();if(He)return He;const $e=document.createElement("div");return $e.style.cssText='\n            user-select: none;\n            position: absolute;\n            white-space: pre;\n            pointer-events: none;\n            perspective: 500px;\n            display: inline-block;\n            will-change: transform;\n            font-weight: normal;\n            line-height: 1.125;\n            visibility: hidden;\n            font-family: SimHei, "Microsoft JhengHei", Arial, Helvetica, sans-serif;\n            text-shadow: rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px;\n        ',$e}getReady(){const{currentTime:He}=this.art;return this.queue.filter(($e=>"ready"===$e.$state||"wait"===$e.$state&&He+.1>=$e.time&&$e.time>=He-.1))}getEmits(){const He=[],{clientWidth:$e}=this.$player,je=this.getLeft(this.$player);return this.filter("emit",(Ye=>{const ti=Ye.$ref.offsetTop,mi=this.getLeft(Ye.$ref)-je,_i=Ye.$ref.clientHeight,Pi=Ye.$ref.clientWidth,Mi=mi+Pi,Fi=$e-Mi,Oi=Mi/Ye.$restTime,Ni={};Ni.top=ti,Ni.left=mi,Ni.height=_i,Ni.width=Pi,Ni.right=Fi,Ni.speed=Oi,Ni.distance=Mi,Ni.time=Ye.$restTime,Ni.mode=Ye.mode,He.push(Ni)})),He}postMessage(He={}){return new Promise(($e=>{if(this.option.useWorker&&this.worker&&this.worker.postMessage)He.id=Date.now(),this.worker.postMessage(He),this.worker.onmessage=je=>{const{data:Ye}=je;Ye.id===He.id&&$e(Ye)};else{const je=function({target:He,emits:$e,clientWidth:je,clientHeight:Ye,marginBottom:ti,marginTop:mi,antiOverlap:_i}){const Pi=$e.filter(($e=>$e.mode===He.mode&&$e.top<=Ye-ti)).sort(((He,$e)=>He.top-$e.top));if(0===Pi.length)return mi;Pi.unshift({top:0,left:0,right:0,height:mi,width:je,speed:0,distance:je}),Pi.push({top:Ye-ti,left:0,right:0,height:ti,width:je,speed:0,distance:je});for(let $e=1;$e<Pi.length;$e+=1){const je=Pi[$e],Ye=Pi[$e-1],ti=Ye.top+Ye.height;if(je.top-ti>=He.height)return ti}const Mi=[];for(let He=1;He<Pi.length-1;He+=1){const $e=Pi[He];if(Mi.length){const He=Mi[Mi.length-1];He[0].top===$e.top?He.push($e):Mi.push([$e])}else Mi.push([$e])}if(!_i){switch(He.mode){case 0:Mi.sort(((He,$e)=>{const je=Math.min(...$e.map((He=>He.right))),Ye=Math.min(...He.map((He=>He.right)));return je*$e.length-Ye*He.length}));break;case 1:Mi.sort(((He,$e)=>{const je=Math.max(...$e.map((He=>He.width)));return Math.max(...He.map((He=>He.width)))*He.length-je*$e.length}))}return Mi[0][0].top}switch(He.mode){case 0:{const $e=Mi.find(($e=>$e.every(($e=>!(je<$e.distance)&&(He.speed<$e.speed||$e.right/(He.speed-$e.speed)>$e.time)))));return $e&&$e[0]?$e[0].top:void 0}case 1:return}}(He);$e({top:je})}}))}async load(){try{"function"==typeof this.option.danmuku?this.danmus=await this.option.danmuku():"function"==typeof this.option.danmuku.then?this.danmus=await this.option.danmuku:"string"==typeof this.option.danmuku?this.danmus=await Vt(this.option.danmuku):this.danmus=this.option.danmuku,this.utils.errorHandle(Array.isArray(this.danmus),"Danmuku need return an array as result"),this.art.emit("YTDM:loaded",this.danmus),this.queue=[],this.$danmuku.innerText="",this.danmus.forEach((He=>this.emit(He)))}catch(He){throw this.art.emit("YTDM:error",He),He}return this}config(He){const{clamp:$e}=this.utils;return this.option={...this.option,...He},this.option.lockTime=$e(Math.floor(this.option.lockTime),0,60),this.option.maxLength=$e(this.option.maxLength,0,500),this.option.minWidth=$e(this.option.minWidth,0,500),this.option.maxWidth=$e(this.option.maxWidth,0,1/0),this.art.emit("YTDM:config",this.option),this}dmSettingConfig(He){const{clamp:$e}=this.utils;null!=He.switch&&(this.option.switch=He.switch,this.setStorage("switch",He.switch)),null!=He.margin&&(0==He.margin&&(this.option.antiOverlap=!1),this.option.antiOverlap=!0,this.option.margin=this.getMargin(He.margin),this.setStorage("margin",He.margin)),null!=He.speed&&(this.option.speed=$e(He.speed,1,10),this.setStorage("speed",He.speed)),null!=He.opacity&&(this.option.opacity=$e(He.opacity,0,1),this.setStorage("opacity",He.opacity)),null!=He.fontSize&&(this.option.fontSize=this.getFontSize(He.fontSize),this.setStorage("fontSize",He.fontSize))}setStorage(He,$e){const je=this.storage.get("danmus")||{};JSON.stringify(je[He])!==JSON.stringify($e)&&this.storage.set("danmus",{...je,[He]:$e})}getStorage(He){const $e=this.storage.get("danmus")||{};return null!=He?null!=$e[He]?$e[He]:this.option[He]:$e}makeWait(He){He.$state="wait",He.$ref&&(He.$ref.style.visibility="hidden",He.$ref.style.marginLeft="0px",He.$ref.style.transform="translateX(0px)",He.$ref.style.transition="transform 0s linear 0s",this.$refs.push(He.$ref),He.$ref=null)}continue(){const{clientWidth:He}=this.$player;return this.filter("stop",($e=>{switch($e.$state="emit",$e.$lastStartTime=Date.now(),$e.mode){case 0:{const je=He+$e.$ref.clientWidth;$e.$ref.style.transform=`translateX(${-je}px)`,$e.$ref.style.transition=`transform ${$e.$restTime}s linear 0s`;break}}})),this}suspend(){const{clientWidth:He}=this.$player;return this.filter("emit",($e=>{switch($e.$state="stop",$e.mode){case 0:{const je=He-(this.getLeft($e.$ref)-this.getLeft(this.$player));$e.$ref.style.transform=`translateX(${-je}px)`,$e.$ref.style.transition="transform 0s linear 0s";break}}})),this}reset(){const He=this.getStorage();return this.option.fontSize=this.getFontSize(He.fontSize||1),this.option.margin=this.getMargin(He.margin||50),this}update(){return this.timer=window.requestAnimationFrame((async()=>{if(this.art.playing&&!this.isHide){this.filter("emit",(He=>{const $e=(Date.now()-He.$lastStartTime)/1e3;He.$restTime-=$e,He.$lastStartTime=Date.now(),He.$restTime<=0&&this.makeWait(He)}));const He=this.getReady(),{clientWidth:$e,clientHeight:je}=this.$player;for(let Ye=0;Ye<He.length;Ye++){const ti=He[Ye];ti.$ref=this.getRef(),ti.$ref.innerText=ti.text,this.$danmuku.appendChild(ti.$ref),ti.$ref.style.left=`${$e}px`,ti.$ref.style.opacity=this.option.opacity,ti.$ref.style.fontSize=`${this.option.fontSize}px`,ti.$ref.style.color=ti.color,ti.$ref.style.border=ti.border?`1px solid ${ti.color}`:null,ti.$ref.style.backgroundColor=ti.border?"rgb(0 0 0 / 50%)":null,ti.$ref.style.marginLeft="0px",ti.$lastStartTime=Date.now(),ti.$restTime=this.option.synchronousPlayback&&this.art.playbackRate?this.option.speed/Number(this.art.playbackRate):this.option.speed;const mi={mode:ti.mode,height:ti.$ref.clientHeight,speed:($e+ti.$ref.clientWidth)/ti.$restTime},{top:_i}=await this.postMessage({target:mi,emits:this.getEmits(),antiOverlap:this.option.antiOverlap,clientWidth:$e,clientHeight:je,marginBottom:this.option.margin,marginTop:10});if(ti.$ref)if(this.isStop||void 0===_i)ti.$state="ready",this.$refs.push(ti.$ref),ti.$ref=null;else switch(ti.$state="emit",ti.$ref.style.visibility="visible",ti.mode){case 0:{ti.$ref.style.top=`${_i}px`;const He=$e+ti.$ref.clientWidth;ti.$ref.style.transform=`translateX(${-He}px)`,ti.$ref.style.transition=`transform ${ti.$restTime}s linear 0s`;break}case 1:ti.$ref.style.left="50%",ti.$ref.style.top=`${_i}px`,ti.$ref.style.marginLeft=`-${ti.$ref.clientWidth/2}px`}}}this.isStop||this.update()})),this}stop(){return this.isStop=!0,this.suspend(),window.cancelAnimationFrame(this.timer),this.art.emit("YTDM:stop"),this}start(){return this.isStop=!1,this.continue(),this.update(),this.art.emit("YTDM:start"),this}show(){return this.isHide=!1,this.start(),this.$danmuku.style.display="block",this.art.emit("YTDM:show"),this}hide(){return this.isHide=!0,this.stop(),this.queue.forEach((He=>this.makeWait(He))),this.$danmuku.style.display="none",this.art.emit("YTDM:hide"),this}emit(He){return He.text.trim()&&this.option.filter(He)?(He.time?He.time=this.utils.clamp(He.time,0,1/0):He.time=this.art.currentTime+.5,void 0===He.mode&&(He.mode=this.option.mode),void 0===He.color&&(He.color=this.option.color),this.queue.push({...He,$state:"wait",$ref:null,$restTime:0,$lastStartTime:0}),this):this}destroy(){this.stop(),this.worker&&this.worker.terminate&&this.worker.terminate(),this.art.off("video:play",this.start),this.art.off("video:playing",this.start),this.art.off("video:pause",this.stop),this.art.off("video:waiting",this.stop),this.art.off("resize",this.reset),this.art.off("destroy",this.destroy),this.art.emit("YTDM:destroy")}}const Jt='<svg xmlns="http://www.w3.org/2000/svg"  width="24" height="24" data-pointer="none" viewBox="0 0 24 24">\r\n    <path fill-rule="evenodd"\r\n        d="M11.989 4.828c-.47 0-.975.004-1.515.012l-1.71-2.566a1.008 1.008 0 0 0-1.678 1.118l.999 1.5c-.681.018-1.403.04-2.164.068a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363l.906.046c1.205.063 1.808.095 3.607.095a.988.988 0 0 0 0-1.975c-1.758 0-2.339-.03-3.501-.092l-.915-.047a2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.01.342.017.65.025.88a.987.987 0 1 0 1.974-.068c-.008-.226-.016-.523-.025-.856v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.9-.032-1.743-.058-2.531-.078l1.05-1.46a1.008 1.008 0 0 0-1.638-1.177l-1.862 2.59c-.38-.004-.744-.007-1.088-.007h-.13Zm.521 4.775h-1.32v4.631h2.222v.847h-2.618v1.078h2.618l.003.678c.36.026.714.163 1.01.407h.11v-1.085h2.694v-1.078h-2.695v-.847H16.8v-4.63h-1.276a8.59 8.59 0 0 0 .748-1.42L15.183 7.8a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.294h-3.2v.98H9.33v1.43H7.472l-.308 3.453h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.005c.285.02.551.04.818.04 1.001-.067 1.562-.419 1.694-1.057.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858h1.254Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902h1.254v.902h-1.254Z"\r\n        clip-rule="evenodd"></path>\r\n    <path fill="var(--art-theme)" fill-rule="evenodd"\r\n        d="M22.846 14.627a1 1 0 0 0-1.412.075l-5.091 5.703-2.216-2.275-.097-.086-.008-.005a1 1 0 0 0-1.322 1.493l2.963 3.041.093.083.007.005c.407.315 1 .27 1.354-.124l5.81-6.505.08-.102.005-.008a1 1 0 0 0-.166-1.295Z"\r\n        clip-rule="evenodd"></path>\r\n</svg>',Zt='<svg xmlns=" http://www.w3.org/2000/svg"  width="24" height="24"  data-pointer="none" viewBox="0 0 24 24">\r\n    <path fill-rule="evenodd"\r\n        d="m8.085 4.891-.999-1.499a1.008 1.008 0 0 1 1.679-1.118l1.709 2.566c.54-.008 1.045-.012 1.515-.012h.13c.345 0 .707.003 1.088.007l1.862-2.59a1.008 1.008 0 0 1 1.637 1.177l-1.049 1.46c.788.02 1.631.046 2.53.078 1.958.069 3.468 1.6 3.74 3.507.088.613.13 2.158.16 3.276l.001.027c.01.333.017.63.025.856a.987.987 0 0 1-1.974.069c-.008-.23-.016-.539-.025-.881v-.002c-.028-1.103-.066-2.541-.142-3.065-.143-1.004-.895-1.78-1.854-1.813-2.444-.087-4.466-.13-6.064-.131-1.598 0-3.619.044-6.063.13a2.037 2.037 0 0 0-1.945 1.748c-.15 1.04-.225 2.341-.225 3.904 0 1.874.11 3.474.325 4.798.154.949.95 1.66 1.91 1.708a97.58 97.58 0 0 0 5.416.139.988.988 0 0 1 0 1.975c-2.196 0-3.61-.047-5.513-.141A4.012 4.012 0 0 1 2.197 17.7c-.236-1.446-.351-3.151-.351-5.116 0-1.64.08-3.035.245-4.184A4.013 4.013 0 0 1 5.92 4.96c.761-.027 1.483-.05 2.164-.069Zm4.436 4.707h-1.32v4.63h2.222v.848h-2.618v1.078h2.431a5.01 5.01 0 0 1 3.575-3.115V9.598h-1.276a8.59 8.59 0 0 0 .748-1.42l-1.089-.384a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.289h-3.2v.979h2.067v1.43H7.483l-.308 3.454h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.004c.285.02.551.04.818.04 1.001-.066 1.562-.418 1.694-1.056.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858H15.8Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902H15.8v.902h-1.254Zm3.517 10.594a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm-.002-1.502a2.5 2.5 0 0 1-2.217-3.657l3.326 3.398a2.49 2.49 0 0 1-1.109.259Zm2.5-2.5c0 .42-.103.815-.286 1.162l-3.328-3.401a2.5 2.5 0 0 1 3.614 2.239Z"\r\n        clip-rule="evenodd"></path>\r\n</svg>',Xt='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" data-pointer="none" viewBox="0 0 24 24">\r\n    <path fill-rule="evenodd"\r\n        d="m15.645 4.881 1.06-1.473a.998.998 0 1 0-1.622-1.166L13.22 4.835a110.67 110.67 0 0 0-1.1-.007h-.131c-.47 0-.975.004-1.515.012L8.783 2.3A.998.998 0 0 0 7.12 3.408l.988 1.484c-.688.019-1.418.042-2.188.069a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363c1.903.094 3.317.141 5.513.141a.988.988 0 0 0 0-1.975 97.58 97.58 0 0 1-5.416-.139 2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.005.183.01.07.014-.038.004-.096.008-.189.011-.081a.987.987 0 1 0 1.974-.069c-.004-.105-.007-.009-.011.09-.002.056-.004.112-.007.135l-.002.01a.574.574 0 0 1-.005-.091v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.905-.032-1.752-.058-2.543-.079Zm-3.113 4.703h-1.307v4.643h2.2v.04l.651-1.234c.113-.215.281-.389.482-.509v-.11h.235c.137-.049.283-.074.433-.074h1.553V9.584h-1.264a8.5 8.5 0 0 0 .741-1.405l-1.078-.381c-.24.631-.501 1.23-.806 1.786h-1.503l.686-.305c-.228-.501-.5-.959-.806-1.394l-1.034.348c.294.392.566.839.817 1.35Zm-1.7 5.502h2.16l-.564 1.068h-1.595v-1.068Zm-2.498-1.863.152-1.561h1.96V8.289H7.277v.969h2.048v1.435h-1.84l-.306 3.51h2.254c0 1.155-.043 1.906-.12 2.255-.076.348-.38.523-.925.523-.305 0-.61-.022-.893-.055l.294 1.056.061.005c.282.02.546.039.81.039.991-.065 1.547-.414 1.677-1.046.11-.631.175-1.883.175-3.757H8.334Zm5.09-.8v.85h-1.188v-.85h1.187Zm-1.188-.955h1.187v-.893h-1.187v.893Zm2.322.007v-.893h1.241v.893h-1.241Zm.528 2.757a1.26 1.26 0 0 1 1.087-.627l4.003-.009a1.26 1.26 0 0 1 1.094.63l1.721 2.982c.226.39.225.872-.001 1.263l-1.743 3a1.26 1.26 0 0 1-1.086.628l-4.003.009a1.26 1.26 0 0 1-1.094-.63l-1.722-2.982a1.26 1.26 0 0 1 .002-1.263l1.742-3Zm1.967.858a1.26 1.26 0 0 0-1.08.614l-.903 1.513a1.26 1.26 0 0 0-.002 1.289l.885 1.492c.227.384.64.62 1.086.618l2.192-.005a1.26 1.26 0 0 0 1.08-.615l.904-1.518a1.26 1.26 0 0 0 .001-1.288l-.884-1.489a1.26 1.26 0 0 0-1.086-.616l-2.193.005Zm2.517 2.76a1.4 1.4 0 1 1-2.8 0 1.4 1.4 0 0 1 2.8 0Z"\r\n        clip-rule="evenodd"></path>\r\n</svg>',$t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" width="24" height="24">\r\n    <path d="M17 16H5c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zM6.96 15c.39 0 .74-.24.89-.6l.65-1.6h5l.66 1.6c.15.36.5.6.89.6.69 0 1.15-.71.88-1.34l-3.88-8.97C11.87 4.27 11.46 4 11 4s-.87.27-1.05.69l-3.88 8.97c-.27.63.2 1.34.89 1.34zM11 5.98L12.87 11H9.13L11 5.98z"></path>\r\n</svg>';class te{constructor(He,$e,je){this.slider=He.querySelector($e),this.track=this.slider.querySelector(".track"),this.lineFill=this.slider.querySelector(".line-fill"),this.thumb=this.slider.querySelector(".thumb"),this.value=this.slider.querySelector(".value");const{currentValue:Ye=0,minValue:ti=0,maxValue:mi=(je.text?je.text.length-1:100),callback:_i=null,text:Pi=null}=je;this.currentValue=Ye,this.minValue=ti,this.maxValue=mi,this.callback=this.debounce(_i,400),this.text=Pi,this.addEventListeners(),this.updateSlider()}debounce(He,$e){let je;return function(...Ye){clearTimeout(je),je=setTimeout((()=>{He.apply(this,Ye)}),$e)}}updateSlider(){const He=(this.currentValue-this.minValue)/(this.maxValue-this.minValue)*100;this.lineFill.style.width=`${He}%`,this.thumb.style.left=`${He}%`,this.updateValueText()}updateValueText(){if(this.text){const{value:He,html:$e}=this.text[this.currentValue];this.callback&&this.callback(He),this.value.textContent=$e}else this.callback&&this.callback(this.currentValue),this.value.textContent=`${this.currentValue}%`}handleSliderClick(He){const $e=("ontouchstart"in window?He.changedTouches[0].clientX-this.track.getBoundingClientRect().left:He.clientX-this.track.getBoundingClientRect().left)/this.track.offsetWidth;this.currentValue=Math.round(this.minValue+$e*(this.maxValue-this.minValue)),this.currentValue>this.maxValue||this.currentValue<this.minValue||this.updateSlider()}handleThumbDrag(He){const $e="ontouchstart"in window?He.touches[0].clientX:He.clientX,je=this.thumb.offsetLeft,Ye=this.track.offsetWidth,ti=this.thumb.offsetWidth,s=He=>{const mi="ontouchstart"in window?He.touches[0].clientX-$e:He.clientX-$e,_i=Math.min(Math.max(je+mi,0),Ye-ti)/(Ye-ti)*100;this.currentValue=Math.round(_i/100*(this.maxValue-this.minValue)+this.minValue),this.updateSlider()},n=()=>{window.removeEventListener("ontouchstart"in window?"touchmove":"mousemove",s,{passive:!1}),window.removeEventListener("ontouchstart"in window?"touchend":"mouseup",n,{passive:!1})};window.addEventListener("ontouchstart"in window?"touchmove":"mousemove",s,{passive:!1}),window.addEventListener("ontouchstart"in window?"touchend":"mouseup",n,{passive:!1})}addEventListeners(){"ontouchstart"in window?(this.slider.addEventListener("touchstart",this.handleSliderClick.bind(this)),this.thumb.addEventListener("touchstart",this.handleThumbDrag.bind(this))):(this.slider.addEventListener("click",this.handleSliderClick.bind(this)),this.thumb.addEventListener("mousedown",this.handleThumbDrag.bind(this)))}}function ee(He,$e){const{option:je}=$e,{template:{$controlsCenter:Ye,$player:ti},constructor:{SETTING_ITEM_WIDTH:mi,utils:{removeClass:_i,addClass:Pi,append:Mi,setStyle:Fi,tooltip:Oi,query:Ni,inverseClass:Ui,getIcon:Gi,isMobile:Vi}},storage:Hi,setting:zi}=He;Fi(Ye,"display","flex");const Ki=Gi("danmu-on",Jt),ji=Gi("danmu-off",Zt),Yi=Gi("danmu-config",Xt),qi=Gi("danmu-style",$t);!function(){const ti=["#FE0302","#FF7204","#FFAA02","#FFD302","#FFFF00","#A0EE00","#00CD00","#019899","#4266BE","#89D5FF","#CC0273","#222222","#9B9B9B","#FFFFFF"].map((He=>`<div class="art-danmuku-style-panel-color${je.color===He?" art-current":""}" data-color="${He}" style="background-color:${He}"></div>`)),Gi=Mi(Ye,`<div class="art-danmuku-emitter" style="max-width: ${je.maxWidth?`${je.maxWidth}px`:"100%"}">\n      <div class="settings">\n        <div class="dm-switch"></div>\n        <div class="dm-setting">\n          <div class="dm-setting-panel">\n            <div class="dm-setting-box">\n              <div class="dm-setting-area">\n                <div class="setting-item">\n                  不透明度:\n                  <div class="dm-opacity slider"><div class="track"><div class="line-fill"></div><div class="thumb"></div></div><div class="value"></div></div>\n                </div>\n                <div class="setting-item">\n                  显示区域:\n                  <div class="dm-shwoarea slider divider fiveths"><div class="track"><div class="line-fill"></div><div class="thumb"></div></div><div class="value"></div></div>\n                </div>\n                <div class="setting-item">\n                  字体大小:\n                  <div class="dm-fontsize slider"><div class="track"><div class="line-fill"></div><div class="thumb"></div></div><div class="value"></div></div>\n                </div>\n                <div class="setting-item">\n                  移动速度:\n                  <div class="dm-speed slider divider fiveths"><div class="track"><div class="line-fill"></div><div class="thumb"></div></div><div class="value"></div></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="art-danmuku-left">\n        <div class="art-danmuku-style">\n          <div class="art-danmuku-style-panel">\n            <div class="art-danmuku-style-panel-inner">\n              <div class="art-danmuku-style-panel-title">模式</div>\n              <div class="art-danmuku-style-panel-modes">\n                <div\n                  class="art-danmuku-style-panel-mode art-current"\n                  data-mode="0"\n                >\n                  滚动\n                </div>\n                <div class="art-danmuku-style-panel-mode" data-mode="1">\n                  静止\n                </div>\n              </div>\n              <div class="art-danmuku-style-panel-title">颜色</div>\n              <div class="art-danmuku-style-panel-colors">\n                ${ti.join("")}\n              </div>\n            </div>\n          </div>\n        </div>\n        <input\n          class="art-danmuku-input"\n          maxlength="${je.maxLength}"\n          placeholder="发个弹幕见证当下"\n        />\n      </div>\n      <div class="art-danmuku-send">发送</div>\n    </div>`),Hi=Ni(".art-danmuku-style",Gi),Xi=Ni(".art-danmuku-input",Gi),lr=Ni(".art-danmuku-send",Gi),hr=Ni(".art-danmuku-style-panel-inner",Gi),dr=Ni(".art-danmuku-style-panel-modes",Gi),ur=Ni(".art-danmuku-style-panel-colors",Gi),vr=Ni(".dm-switch",Gi),yr=Ni(".dm-setting",Gi),xr=Ni(".dm-setting-panel",Gi);He.option.backdrop&&Pi(hr,"art-backdrop-filter"),je.theme&&Pi(Gi,`art-danmuku-theme-${je.theme}`);let kr,Er=null,Tr=je.mode,Ar=je.color;Mi(Hi,qi);const T=()=>{$e.show(),Fi(Ki,"display",null),Fi(ji,"display","none"),Oi(vr,"关闭弹幕"),Xi.disabled=!1,Xi.placeholder="发个弹幕见证当下",lr.removeAttribute("disabled"),yr.removeAttribute("disabled"),Hi.removeAttribute("disabled")},M=()=>{$e.hide(),Fi(Ki,"display","none"),Fi(ji,"display",null),Oi(vr,"显示弹幕"),Xi.disabled=!0,Xi.placeholder="弹幕已关闭",lr.setAttribute("disabled",""),yr.setAttribute("disabled",""),Hi.setAttribute("disabled","")};Mi(vr,Ki),Mi(vr,ji),je.switch,$e.getStorage("switch")?T():M(),Mi(yr,Yi);const wr={currentValue:Math.round(100*$e.getStorage("opacity")),minValue:10,callback:He=>{$e.dmSettingConfig({opacity:He/100})}},Lr=[{html:"1/4",value:25},{html:"半屏",value:50},{html:"3/4",value:75},{html:"不重叠",value:100},{html:"不限",value:0}],_r={currentValue:Lr.findIndex((He=>He.value===$e.getStorage("margin"))),minValue:0,text:Lr,callback:He=>{$e.dmSettingConfig({margin:He})}},Cr={currentValue:Math.round(100*$e.getStorage("fontSize")),minValue:50,maxValue:170,callback:He=>{$e.dmSettingConfig({fontSize:He/100})}},Ir=[{html:"极慢",value:10},{html:"较慢",value:8.5},{html:"适中",value:5},{html:"较快",value:2.5},{html:"极快",value:1}],Mr={currentValue:Ir.findIndex((He=>He.value===$e.getStorage("speed"))),minValue:0,text:Ir,callback:He=>{$e.dmSettingConfig({speed:He})}};function O(He){He<=0?(Er=null,lr.innerText="发送",_i(lr,"art-disabled")):(lr.innerText=He,Er=setTimeout((()=>O(He-1)),1e3))}function j(){const Ye={mode:Tr,color:Ar,border:!0,text:Xi.value.trim()};null===Er&&je.beforeEmit(Ye)&&(Xi.value="",$e.emit(Ye),Pi(lr,"art-disabled"),O(je.lockTime),He.emit("YTDM:emit",Ye))}function Y(){Ye.clientWidth<je.minWidth?(Fi(Gi,"display","none"),Vi&&function(){kr=!0;const Ye=$e.getStorage("fontSize"),ti=$e.getStorage("opacity"),_i=[{html:"极小",value:.5},{html:"较小",value:.7},{html:"适中",value:1},{html:"较大",value:1.5},{html:"极大",value:1.7}];let Pi=_i.findIndex((He=>He.value===Ye));Pi=-1!=Pi?Pi:2,_i[Pi].default=!0;const Mi=[{html:"10%",value:.1},{html:"25%",value:.25},{html:"50%",value:.5},{html:"75%",value:.75},{html:"100%",value:1}];let Fi=Mi.findIndex((He=>He.value===ti));Fi=-1!=Fi?Fi:4,Mi[Fi].default=!0;const Oi=Lr.findIndex((He=>He.value===$e.getStorage("margin"))),Ni=Ir.findIndex((He=>He.value===$e.getStorage("speed")));He.setting.update({name:"danmuku",html:"弹幕设置",tooltip:"更多",selector:[{html:"弹幕开关",switch:!$e.isHide,onSwitch:He=>($e.isHide?($e.show(),T(),$e.dmSettingConfig({switch:1})):($e.hide(),M(),$e.dmSettingConfig({switch:0})),!He.switch)},{width:mi,html:"播放速度",tooltip:Ir[Ni].html,selector:(()=>{const He=[...Ir];return He[Ni].default=!0,He})(),onSelect:He=>($e.dmSettingConfig({speed:He.value}),He.html)},{width:mi,html:"字体大小",tooltip:_i[Pi].html,selector:_i,onSelect:He=>($e.dmSettingConfig({fontSize:He.value}),He.html)},{width:mi,html:"不透明度",tooltip:Mi[Fi].html,selector:Mi,onSelect:He=>($e.dmSettingConfig({opacity:He.value}),He.html)},{width:mi,html:"显示范围",tooltip:Lr[Oi].html,selector:(()=>{const He=[...Lr];return He[Oi].default=!0,He})(),onSelect:He=>($e.dmSettingConfig({margin:He.value}),He.html)},{html:"弹幕防重叠",tooltip:0!=je.margin?"开启":"关闭",switch:0!=je.margin,onSwitch:He=>($e.dmSettingConfig({antiOverlap:!He.switch}),He.tooltip=He.switch?"关闭":"开启",!He.switch)},{html:"同步视频速度",tooltip:je.synchronousPlayback?"开启":"关闭",switch:je.synchronousPlayback,onSwitch:He=>($e.dmSettingConfig({synchronousPlayback:!He.switch}),He.tooltip=He.switch?"关闭":"开启",!He.switch)}]})}()):(Fi(Gi,"display","flex"),Vi&&kr&&(zi.remove("danmuku"),kr=!1))}new te(xr,".dm-opacity",wr),new te(xr,".dm-shwoarea",_r),new te(xr,".dm-fontsize",Cr),new te(xr,".dm-speed",Mr),He.proxy(lr,"click",j),He.proxy(Xi,"keypress",(He=>{"Enter"===He.key&&(He.preventDefault(),j())})),He.proxy(dr,"click",(He=>{const{dataset:$e}=He.target;$e.mode&&(Tr=Number($e.mode),Ui(He.target,"art-current"))})),He.proxy(ur,"click",(He=>{const{dataset:$e}=He.target;$e.color&&(Ar=$e.color,Ui(He.target,"art-current"))})),He.proxy(vr,"click",(()=>{$e.isHide?(T(),$e.dmSettingConfig({switch:1})):(M(),$e.dmSettingConfig({switch:0}))})),Y(),He.on("resize",(()=>{He.isInput||Y()})),He.on("destroy",(()=>{je.mount&&Gi.parentElement===je.mount&&je.mount.removeChild(Gi)}))}()}const ie={map:(He,$e,je,Ye,ti)=>(He-$e)*(ti-Ye)/(je-$e)+Ye,range(He,$e,je){const Ye=Math.round(He/je)*je;return Array.from({length:Math.floor(($e-He)/je)},((He,$e)=>$e*je+Ye))}},re=(He,$e)=>{const je=$e[0]-He[0],Ye=$e[1]-He[1];return{length:Math.sqrt(Math.pow(je,2)+Math.pow(Ye,2)),angle:Math.atan2(Ye,je)}};function ae(He,$e,je){const{query:Ye}=He.constructor.utils;He.controls.add({name:"heatmap",position:"top",html:"",style:{position:"absolute",top:"-15px",left:"0px",right:"0px",height:"15px",width:"100%",pointerEvents:"none"},mounted(ti){let mi=null,_i=null;function o(){if(mi=null,_i=null,ti.innerHTML="",!$e.danmus.length||!He.duration)return;const Pi={w:ti.offsetWidth,h:ti.offsetHeight},Mi={xMin:0,xMax:Pi.w,yMin:0,yMax:128,scale:.25,opacity:.2,minHeight:Math.floor(.05*Pi.h),sampling:Math.floor(Pi.w/100),smoothing:.2,flattening:.2};"object"==typeof je&&Object.assign(Mi,je);const Fi=[],Oi=He.duration/Pi.w;for(let He=0;He<=Pi.w;He+=Mi.sampling){const je=$e.danmus.filter((({time:$e})=>$e>He*Oi&&$e<=(He+Mi.sampling)*Oi)).length;Fi.push([He,je])}const Ni=Fi[Fi.length-1],Ui=Ni[0],Gi=Ni[1];Ui!==Pi.w&&Fi.push([Pi.w,Gi]);const Vi=Fi.map((He=>He[1])),Hi=(Math.min(...Vi)+Math.max(...Vi))/2;for(let He=0;He<Fi.length;He++){const $e=Fi[He],je=$e[1];$e[1]=je*(je>Hi?1+Mi.scale:1-Mi.scale)+Mi.minHeight}const p=(He,$e,je,Ye)=>{const ti=re($e||He,je||He),mi=ie.map(Math.cos(ti.angle)*Mi.flattening,0,1,1,0),_i=ti.angle*mi+(Ye?Math.PI:0),Pi=ti.length*Mi.smoothing;return[He[0]+Math.cos(_i)*Pi,He[1]+Math.sin(_i)*Pi]},zi=Fi.map((He=>[ie.map(He[0],Mi.xMin,Mi.xMax,0,Pi.w),ie.map(He[1],Mi.yMin,Mi.yMax,Pi.h,0)])).reduce(((He,$e,je,Ye)=>0===je?`M ${Ye[Ye.length-1][0]},${Pi.h} L ${$e[0]},${Pi.h} L ${$e[0]},${$e[1]}`:`${He} ${((He,$e,je)=>{const Ye=p(je[$e-1],je[$e-2],He),ti=p(He,je[$e-1],je[$e+1],!0),mi=$e===je.length-1?" z":"";return`C ${Ye[0]},${Ye[1]} ${ti[0]},${ti[1]} ${He[0]},${He[1]}${mi}`})($e,je,Ye)}`),"");ti.innerHTML=`\n                    <svg viewBox="0 0 ${Pi.w} ${Pi.h}">\n                        <defs>\n                            <linearGradient id="heatmap-solids" x1="0%" y1="0%" x2="100%" y2="0%">\n                                <stop offset="0%" style="stop-color:var(--art-theme);stop-opacity:${Mi.opacity}" />\n                                <stop offset="0%" style="stop-color:var(--art-theme);stop-opacity:${Mi.opacity}" id="heatmap-start" />\n                                <stop offset="0%" style="stop-color:var(--art-progress-color);stop-opacity:1" id="heatmap-stop" />\n                                <stop offset="100%" style="stop-color:var(--art-progress-color);stop-opacity:1" />\n                            </linearGradient>\n                        </defs>\n                        <path fill="url(#heatmap-solids)" d="${zi}"></path>\n                    </svg>\n                `,mi=Ye("#heatmap-start",ti),_i=Ye("#heatmap-stop",ti),mi.setAttribute("offset",100*He.played+"%"),_i.setAttribute("offset",100*He.played+"%")}He.on("video:timeupdate",(()=>{mi&&_i&&(mi.setAttribute("offset",100*He.played+"%"),_i.setAttribute("offset",100*He.played+"%"))})),He.on("setBar",((He,$e)=>{mi&&_i&&"played"===He&&(mi.setAttribute("offset",100*$e+"%"),_i.setAttribute("offset",100*$e+"%"))})),He.on("ready",o),He.on("resize",o),He.on("YTDM:loaded",o)}})}var se,ne={exports:{}};se=ne,function t(He){var $e;$e=function(){function i(He,$e){var je=Object.keys(He);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(He);$e&&(Ye=Ye.filter((function($e){return Object.getOwnPropertyDescriptor(He,$e).enumerable}))),je.push.apply(je,Ye)}return je}function r(He){for(var $e=1;$e<arguments.length;$e++){var je=null!=arguments[$e]?arguments[$e]:{};$e%2?i(Object(je),!0).forEach((function($e){var Ye,ti,mi;Ye=He,ti=$e,mi=je[$e],(ti=a(ti))in Ye?Object.defineProperty(Ye,ti,{value:mi,enumerable:!0,configurable:!0,writable:!0}):Ye[ti]=mi})):Object.getOwnPropertyDescriptors?Object.defineProperties(He,Object.getOwnPropertyDescriptors(je)):i(Object(je)).forEach((function($e){Object.defineProperty(He,$e,Object.getOwnPropertyDescriptor(je,$e))}))}return He}function a(He){var $e=function(He,$e){if("object"!=typeof He||!He)return He;var je=He[Symbol.toPrimitive];if(void 0!==je){var Ye=je.call(He,"string");if("object"!=typeof Ye)return Ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(He)}(He);return"symbol"==typeof $e?$e:String($e)}function s(He,$e){for(var je=0;je<$e.length;je++){var Ye=$e[je];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(He,a(Ye.key),Ye)}}function n(He,$e,je){return $e&&s(He.prototype,$e),je&&s(He,je),Object.defineProperty(He,"prototype",{writable:!1}),He}function o(){return o=Object.assign?Object.assign.bind():function(He){for(var $e=1;$e<arguments.length;$e++){var je=arguments[$e];for(var Ye in je)Object.prototype.hasOwnProperty.call(je,Ye)&&(He[Ye]=je[Ye])}return He},o.apply(this,arguments)}function h(He,$e){He.prototype=Object.create($e.prototype),He.prototype.constructor=He,A(He,$e)}function l(He){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(He){return He.__proto__||Object.getPrototypeOf(He)})(He)}function A(He,$e){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(He,$e){return He.__proto__=$e,He})(He,$e)}function d(He,$e,je){return(d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(He){return!1}}()?Reflect.construct.bind():function(He,$e,je){var Ye=[null];Ye.push.apply(Ye,$e);var ti=new(Function.bind.apply(He,Ye));return je&&A(ti,je.prototype),ti}).apply(null,arguments)}function u(He){var $e="function"==typeof Map?new Map:void 0;return u=function(He){if(null===He||!function(He){try{return-1!==Function.toString.call(He).indexOf("[native code]")}catch($e){return"function"==typeof He}}(He))return He;if("function"!=typeof He)throw new TypeError("Super expression must either be null or a function");if(void 0!==$e){if($e.has(He))return $e.get(He);$e.set(He,i)}function i(){return d(He,arguments,l(this).constructor)}return i.prototype=Object.create(He.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),A(i,He)},u(He)}function c(He){return He&&He.__esModule&&Object.prototype.hasOwnProperty.call(He,"default")?He.default:He}var $e,je,Ye,ti,mi;$e=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,je=/^(?=([^\/?#]*))\1([^]*)$/,Ye=/(?:\/|^)\.(?=\/)/g,ti=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g;var _i={exports:{}}.exports=mi={buildAbsoluteURL:function(He,$e,Ye){if(Ye=Ye||{},He=He.trim(),!($e=$e.trim())){if(!Ye.alwaysNormalize)return He;var ti=mi.parseURL(He);if(!ti)throw new Error("Error trying to parse base URL.");return ti.path=mi.normalizePath(ti.path),mi.buildURLFromParts(ti)}var _i=mi.parseURL($e);if(!_i)throw new Error("Error trying to parse relative URL.");if(_i.scheme)return Ye.alwaysNormalize?(_i.path=mi.normalizePath(_i.path),mi.buildURLFromParts(_i)):$e;var Pi=mi.parseURL(He);if(!Pi)throw new Error("Error trying to parse base URL.");if(!Pi.netLoc&&Pi.path&&"/"!==Pi.path[0]){var Mi=je.exec(Pi.path);Pi.netLoc=Mi[1],Pi.path=Mi[2]}Pi.netLoc&&!Pi.path&&(Pi.path="/");var Fi={scheme:Pi.scheme,netLoc:_i.netLoc,path:null,params:_i.params,query:_i.query,fragment:_i.fragment};if(!_i.netLoc&&(Fi.netLoc=Pi.netLoc,"/"!==_i.path[0]))if(_i.path){var Oi=Pi.path,Ni=Oi.substring(0,Oi.lastIndexOf("/")+1)+_i.path;Fi.path=mi.normalizePath(Ni)}else Fi.path=Pi.path,_i.params||(Fi.params=Pi.params,_i.query||(Fi.query=Pi.query));return null===Fi.path&&(Fi.path=Ye.alwaysNormalize?mi.normalizePath(_i.path):_i.path),mi.buildURLFromParts(Fi)},parseURL:function(He){var je=$e.exec(He);return je?{scheme:je[1]||"",netLoc:je[2]||"",path:je[3]||"",params:je[4]||"",query:je[5]||"",fragment:je[6]||""}:null},normalizePath:function(He){for(He=He.split("").reverse().join("").replace(Ye,"");He.length!==(He=He.replace(ti,"")).length;);return He.split("").reverse().join("")},buildURLFromParts:function(He){return He.scheme+He.netLoc+He.path+He.params+He.query+He.fragment}},Pi=Number.isFinite||function(He){return"number"==typeof He&&isFinite(He)},Mi=Number.isSafeInteger||function(He){return"number"==typeof He&&Math.abs(He)<=Fi},Fi=Number.MAX_SAFE_INTEGER||9007199254740991,Oi=function(He){return He.MEDIA_ATTACHING="hlsMediaAttaching",He.MEDIA_ATTACHED="hlsMediaAttached",He.MEDIA_DETACHING="hlsMediaDetaching",He.MEDIA_DETACHED="hlsMediaDetached",He.BUFFER_RESET="hlsBufferReset",He.BUFFER_CODECS="hlsBufferCodecs",He.BUFFER_CREATED="hlsBufferCreated",He.BUFFER_APPENDING="hlsBufferAppending",He.BUFFER_APPENDED="hlsBufferAppended",He.BUFFER_EOS="hlsBufferEos",He.BUFFER_FLUSHING="hlsBufferFlushing",He.BUFFER_FLUSHED="hlsBufferFlushed",He.MANIFEST_LOADING="hlsManifestLoading",He.MANIFEST_LOADED="hlsManifestLoaded",He.MANIFEST_PARSED="hlsManifestParsed",He.LEVEL_SWITCHING="hlsLevelSwitching",He.LEVEL_SWITCHED="hlsLevelSwitched",He.LEVEL_LOADING="hlsLevelLoading",He.LEVEL_LOADED="hlsLevelLoaded",He.LEVEL_UPDATED="hlsLevelUpdated",He.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",He.LEVELS_UPDATED="hlsLevelsUpdated",He.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",He.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",He.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",He.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",He.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",He.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",He.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",He.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",He.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",He.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",He.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",He.CUES_PARSED="hlsCuesParsed",He.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",He.INIT_PTS_FOUND="hlsInitPtsFound",He.FRAG_LOADING="hlsFragLoading",He.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",He.FRAG_LOADED="hlsFragLoaded",He.FRAG_DECRYPTED="hlsFragDecrypted",He.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",He.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",He.FRAG_PARSING_METADATA="hlsFragParsingMetadata",He.FRAG_PARSED="hlsFragParsed",He.FRAG_BUFFERED="hlsFragBuffered",He.FRAG_CHANGED="hlsFragChanged",He.FPS_DROP="hlsFpsDrop",He.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",He.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",He.ERROR="hlsError",He.DESTROYING="hlsDestroying",He.KEY_LOADING="hlsKeyLoading",He.KEY_LOADED="hlsKeyLoaded",He.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",He.BACK_BUFFER_REACHED="hlsBackBufferReached",He.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",He}({}),Ni=function(He){return He.NETWORK_ERROR="networkError",He.MEDIA_ERROR="mediaError",He.KEY_SYSTEM_ERROR="keySystemError",He.MUX_ERROR="muxError",He.OTHER_ERROR="otherError",He}({}),Ui=function(He){return He.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",He.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",He.KEY_SYSTEM_NO_SESSION="keySystemNoSession",He.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",He.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",He.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",He.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",He.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",He.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",He.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",He.MANIFEST_LOAD_ERROR="manifestLoadError",He.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",He.MANIFEST_PARSING_ERROR="manifestParsingError",He.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",He.LEVEL_EMPTY_ERROR="levelEmptyError",He.LEVEL_LOAD_ERROR="levelLoadError",He.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",He.LEVEL_PARSING_ERROR="levelParsingError",He.LEVEL_SWITCH_ERROR="levelSwitchError",He.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",He.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",He.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",He.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",He.FRAG_LOAD_ERROR="fragLoadError",He.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",He.FRAG_DECRYPT_ERROR="fragDecryptError",He.FRAG_PARSING_ERROR="fragParsingError",He.FRAG_GAP="fragGap",He.REMUX_ALLOC_ERROR="remuxAllocError",He.KEY_LOAD_ERROR="keyLoadError",He.KEY_LOAD_TIMEOUT="keyLoadTimeOut",He.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",He.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",He.BUFFER_APPEND_ERROR="bufferAppendError",He.BUFFER_APPENDING_ERROR="bufferAppendingError",He.BUFFER_STALLED_ERROR="bufferStalledError",He.BUFFER_FULL_ERROR="bufferFullError",He.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",He.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",He.INTERNAL_EXCEPTION="internalException",He.INTERNAL_ABORTED="aborted",He.UNKNOWN="unknown",He}({}),Q=function(){},Gi={trace:Q,debug:Q,log:Q,warn:Q,info:Q,error:Q},Vi=Gi;function D(He,$e){if("object"==typeof console&&!0===He||"object"==typeof He){!function(He){for(var $e=arguments.length,je=new Array($e>1?$e-1:0),Ye=1;Ye<$e;Ye++)je[Ye-1]=arguments[Ye];je.forEach((function($e){var je,Ye;Vi[$e]=He[$e]?He[$e].bind(He):(je=$e,(Ye=self.console[je])?Ye.bind(self.console,"["+je+"] >"):Q)}))}(He,"debug","log","info","warn","error");try{Vi.log('Debug logs enabled for "'+$e+'" in hls.js version 1.5.1')}catch(He){Vi=Gi}}else Vi=Gi}var Hi=Vi,zi=/^(\d+)x(\d+)$/,Ki=/(.+?)=(".*?"|.*?)(?:,|$)/g,ji=function(){function t(He){"string"==typeof He&&(He=t.parseAttrList(He)),o(this,He)}var He=t.prototype;return He.decimalInteger=function(He){var $e=parseInt(this[He],10);return $e>Number.MAX_SAFE_INTEGER?1/0:$e},He.hexadecimalInteger=function(He){if(this[He]){var $e=(this[He]||"0x").slice(2);$e=(1&$e.length?"0":"")+$e;for(var je=new Uint8Array($e.length/2),Ye=0;Ye<$e.length/2;Ye++)je[Ye]=parseInt($e.slice(2*Ye,2*Ye+2),16);return je}return null},He.hexadecimalIntegerAsNumber=function(He){var $e=parseInt(this[He],16);return $e>Number.MAX_SAFE_INTEGER?1/0:$e},He.decimalFloatingPoint=function(He){return parseFloat(this[He])},He.optionalFloat=function(He,$e){var je=this[He];return je?parseFloat(je):$e},He.enumeratedString=function(He){return this[He]},He.bool=function(He){return"YES"===this[He]},He.decimalResolution=function(He){var $e=zi.exec(this[He]);if(null!==$e)return{width:parseInt($e[1],10),height:parseInt($e[2],10)}},t.parseAttrList=function(He){var $e,je={};for(Ki.lastIndex=0;null!==($e=Ki.exec(He));){var Ye=$e[2];0===Ye.indexOf('"')&&Ye.lastIndexOf('"')===Ye.length-1&&(Ye=Ye.slice(1,-1)),je[$e[1].trim()]=Ye}return je},n(t,[{key:"clientAttrs",get:function(){return Object.keys(this).filter((function(He){return"X-"===He.substring(0,2)}))}}]),t}();function F(He){return"SCTE35-OUT"===He||"SCTE35-IN"===He}var Yi=function(){function t(He,$e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,$e){var je=$e.attr;for(var Ye in je)if(Object.prototype.hasOwnProperty.call(He,Ye)&&He[Ye]!==je[Ye]){Hi.warn('DATERANGE tag attribute: "'+Ye+'" does not match for tags with ID: "'+He.ID+'"'),this._badValueForSameId=Ye;break}He=o(new ji({}),je,He)}if(this.attr=He,this._startDate=new Date(He["START-DATE"]),"END-DATE"in this.attr){var ti=new Date(this.attr["END-DATE"]);Pi(ti.getTime())&&(this._endDate=ti)}}return n(t,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var He=this.duration;return null!==He?new Date(this._startDate.getTime()+1e3*He):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var He=this.attr.decimalFloatingPoint("DURATION");if(Pi(He))return He}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&Pi(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),t}(),_=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},qi="audio",Xi="video",lr="audiovideo",hr=function(){function t(He){var $e;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(($e={})[qi]=null,$e[Xi]=null,$e[lr]=null,$e),this.baseurl=He}return t.prototype.setByteRange=function(He,$e){var je,Ye=He.split("@",2);je=1===Ye.length?(null==$e?void 0:$e.byteRangeEndOffset)||0:parseInt(Ye[1]),this._byteRange=[je,parseInt(Ye[0])+je]},n(t,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=_i.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(He){this._url=He}}]),t}(),dr=function(He){function e($e,je){var Ye;return(Ye=He.call(this,je)||this)._decryptdata=null,Ye.rawProgramDateTime=null,Ye.programDateTime=null,Ye.tagList=[],Ye.duration=0,Ye.sn=0,Ye.levelkeys=void 0,Ye.type=void 0,Ye.loader=null,Ye.keyLoader=null,Ye.level=-1,Ye.cc=0,Ye.startPTS=void 0,Ye.endPTS=void 0,Ye.startDTS=void 0,Ye.endDTS=void 0,Ye.start=0,Ye.deltaPTS=void 0,Ye.maxStartPTS=void 0,Ye.minEndPTS=void 0,Ye.stats=new _,Ye.data=void 0,Ye.bitrateTest=!1,Ye.title=null,Ye.initSegment=null,Ye.endList=void 0,Ye.gap=void 0,Ye.urlId=0,Ye.type=$e,Ye}h(e,He);var $e=e.prototype;return $e.setKeyFormat=function(He){if(this.levelkeys){var $e=this.levelkeys[He];$e&&!this._decryptdata&&(this._decryptdata=$e.getDecryptData(this.sn))}},$e.abortRequests=function(){var He,$e;null==(He=this.loader)||He.abort(),null==($e=this.keyLoader)||$e.abort()},$e.setElementaryStreamInfo=function(He,$e,je,Ye,ti,mi){void 0===mi&&(mi=!1);var _i=this.elementaryStreams,Pi=_i[He];Pi?(Pi.startPTS=Math.min(Pi.startPTS,$e),Pi.endPTS=Math.max(Pi.endPTS,je),Pi.startDTS=Math.min(Pi.startDTS,Ye),Pi.endDTS=Math.max(Pi.endDTS,ti)):_i[He]={startPTS:$e,endPTS:je,startDTS:Ye,endDTS:ti,partial:mi}},$e.clearElementaryStreamInfo=function(){var He=this.elementaryStreams;He[qi]=null,He[Xi]=null,He[lr]=null},n(e,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var He=this.levelkeys.identity;if(He)this._decryptdata=He.getDecryptData(this.sn);else{var $e=Object.keys(this.levelkeys);if(1===$e.length)return this._decryptdata=this.levelkeys[$e[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Pi(this.programDateTime))return null;var He=Pi(this.duration)?this.duration:0;return this.programDateTime+1e3*He}},{key:"encrypted",get:function(){var He;if(null!=(He=this._decryptdata)&&He.encrypted)return!0;if(this.levelkeys){var $e=Object.keys(this.levelkeys),je=$e.length;if(je>1||1===je&&this.levelkeys[$e[0]].encrypted)return!0}return!1}}]),e}(hr),ur=function(He){function e($e,je,Ye,ti,mi){var _i;(_i=He.call(this,Ye)||this).fragOffset=0,_i.duration=0,_i.gap=!1,_i.independent=!1,_i.relurl=void 0,_i.fragment=void 0,_i.index=void 0,_i.stats=new _,_i.duration=$e.decimalFloatingPoint("DURATION"),_i.gap=$e.bool("GAP"),_i.independent=$e.bool("INDEPENDENT"),_i.relurl=$e.enumeratedString("URI"),_i.fragment=je,_i.index=ti;var Pi=$e.enumeratedString("BYTERANGE");return Pi&&_i.setByteRange(Pi,mi),mi&&(_i.fragOffset=mi.fragOffset+mi.duration),_i}return h(e,He),n(e,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var He=this.elementaryStreams;return!!(He.audio||He.video||He.audiovideo)}}]),e}(hr),vr=function(){function t(He){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=He}return t.prototype.reloaded=function(He){if(!He)return this.advanced=!0,void(this.updated=!0);var $e=this.lastPartSn-He.lastPartSn,je=this.lastPartIndex-He.lastPartIndex;this.updated=this.endSN!==He.endSN||!!je||!!$e||!this.live,this.advanced=this.endSN>He.endSN||$e>0||0===$e&&je>0,this.updated||this.advanced?this.misses=Math.floor(.6*He.misses):this.misses=He.misses+1,this.availabilityDelay=He.availabilityDelay},n(t,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Pi(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var He=this.driftEndTime-this.driftStartTime;return He>0?1e3*(this.driftEnd-this.driftStart)/He:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var He;return null!=(He=this.partList)&&He.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var He;return null!=(He=this.fragments)&&He.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var He;return null!=(He=this.partList)&&He.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var He;return null!=(He=this.partList)&&He.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),t}(),yr=c(void 0);function K(He,$e,je){return Uint8Array.prototype.slice?He.slice($e,je):new Uint8Array(Array.prototype.slice.call(He,$e,je))}var xr,q=function(He,$e){return $e+10<=He.length&&73===He[$e]&&68===He[$e+1]&&51===He[$e+2]&&He[$e+3]<255&&He[$e+4]<255&&He[$e+6]<128&&He[$e+7]<128&&He[$e+8]<128&&He[$e+9]<128},W=function(He,$e){return $e+10<=He.length&&51===He[$e]&&68===He[$e+1]&&73===He[$e+2]&&He[$e+3]<255&&He[$e+4]<255&&He[$e+6]<128&&He[$e+7]<128&&He[$e+8]<128&&He[$e+9]<128},J=function(He,$e){for(var je=$e,Ye=0;q(He,$e);)Ye+=10,Ye+=Z(He,$e+6),W(He,$e+10)&&(Ye+=10),$e+=Ye;if(Ye>0)return He.subarray(je,je+Ye)},Z=function(He,$e){var je=0;return je=(127&He[$e])<<21,je|=(127&He[$e+1])<<14,(je|=(127&He[$e+2])<<7)|127&He[$e+3]},X=function(He,$e){return q(He,$e)&&Z(He,$e+6)+10<=He.length-$e},$=function(He){for(var $e=it(He),je=0;je<$e.length;je++){var Ye=$e[je];if(tt(Ye))return ot(Ye)}},tt=function(He){return He&&"PRIV"===He.key&&"com.apple.streaming.transportStreamTimestamp"===He.info},et=function(He){var $e=String.fromCharCode(He[0],He[1],He[2],He[3]),je=Z(He,4);return{type:$e,size:je,data:He.subarray(10,10+je)}},it=function(He){for(var $e=0,je=[];q(He,$e);){for(var Ye=Z(He,$e+6),ti=($e+=10)+Ye;$e+8<ti;){var mi=et(He.subarray($e)),_i=rt(mi);_i&&je.push(_i),$e+=mi.size+10}W(He,$e)&&($e+=10)}return je},rt=function(He){return"PRIV"===He.type?at(He):"W"===He.type[0]?nt(He):st(He)},at=function(He){if(!(He.size<2)){var $e=ht(He.data,!0),je=new Uint8Array(He.data.subarray($e.length+1));return{key:He.type,info:$e,data:je.buffer}}},st=function(He){if(!(He.size<2)){if("TXXX"===He.type){var $e=1,je=ht(He.data.subarray($e),!0);$e+=je.length+1;var Ye=ht(He.data.subarray($e));return{key:He.type,info:je,data:Ye}}var ti=ht(He.data.subarray(1));return{key:He.type,data:ti}}},nt=function(He){if("WXXX"===He.type){if(He.size<2)return;var $e=1,je=ht(He.data.subarray($e),!0);$e+=je.length+1;var Ye=ht(He.data.subarray($e));return{key:He.type,info:je,data:Ye}}var ti=ht(He.data);return{key:He.type,data:ti}},ot=function(He){if(8===He.data.byteLength){var $e=new Uint8Array(He.data),je=1&$e[3],Ye=($e[4]<<23)+($e[5]<<15)+($e[6]<<7)+$e[7];return Ye/=45,je&&(Ye+=47721858.84),Math.round(Ye)}},ht=function(He,$e){void 0===$e&&($e=!1);var je=function(){if(!navigator.userAgent.includes("PlayStation 4"))return xr||void 0===self.TextDecoder||(xr=new self.TextDecoder("utf-8")),xr}();if(je){var Ye=je.decode(He);if($e){var ti=Ye.indexOf("\0");return-1!==ti?Ye.substring(0,ti):Ye}return Ye.replace(/\0/g,"")}for(var mi,_i,Pi,Mi=He.length,Fi="",Oi=0;Oi<Mi;){if(0===(mi=He[Oi++])&&$e)return Fi;if(0!==mi&&3!==mi)switch(mi>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:Fi+=String.fromCharCode(mi);break;case 12:case 13:_i=He[Oi++],Fi+=String.fromCharCode((31&mi)<<6|63&_i);break;case 14:_i=He[Oi++],Pi=He[Oi++],Fi+=String.fromCharCode((15&mi)<<12|(63&_i)<<6|(63&Pi)<<0)}}return Fi},lt=function(He){for(var $e="",je=0;je<He.length;je++){var Ye=He[je].toString(16);Ye.length<2&&(Ye="0"+Ye),$e+=Ye}return $e},kr=Math.pow(2,32)-1,Er=[].push,Tr={video:1,audio:2,id3:3,text:4};function ct(He){return String.fromCharCode.apply(null,He)}function gt(He,$e){var je=He[$e]<<8|He[$e+1];return je<0?65536+je:je}function ft(He,$e){var je=pt(He,$e);return je<0?4294967296+je:je}function pt(He,$e){return He[$e]<<24|He[$e+1]<<16|He[$e+2]<<8|He[$e+3]}function mt(He,$e,je){He[$e]=je>>24,He[$e+1]=je>>16&255,He[$e+2]=je>>8&255,He[$e+3]=255&je}function vt(He,$e){var je=[];if(!$e.length)return je;for(var Ye=He.byteLength,ti=0;ti<Ye;){var mi=ft(He,ti),_i=mi>1?ti+mi:Ye;if(ct(He.subarray(ti+4,ti+8))===$e[0])if(1===$e.length)je.push(He.subarray(ti+8,_i));else{var Pi=vt(He.subarray(ti+8,_i),$e.slice(1));Pi.length&&Er.apply(je,Pi)}ti=_i}return je}function Et(He){var $e=[],je=He[0],Ye=8,ti=ft(He,Ye);Ye+=4,Ye+=0===je?8:16,Ye+=2;var mi=He.length+0,_i=gt(He,Ye);Ye+=2;for(var Pi=0;Pi<_i;Pi++){var Mi=Ye,Fi=ft(He,Mi);Mi+=4;var Oi=2147483647&Fi;if(1==(2147483648&Fi)>>>31)return Hi.warn("SIDX has hierarchical references (not supported)"),null;var Ni=ft(He,Mi);Mi+=4,$e.push({referenceSize:Oi,subsegmentDuration:Ni,info:{duration:Ni/ti,start:mi,end:mi+Oi-1}}),mi+=Oi,Ye=Mi+=4}return{earliestPresentationTime:0,timescale:ti,version:je,referencesCount:_i,references:$e}}function yt(He){for(var $e=[],je=vt(He,["moov","trak"]),Ye=0;Ye<je.length;Ye++){var ti=je[Ye],mi=vt(ti,["tkhd"])[0];if(mi){var _i=mi[0],Pi=ft(mi,0===_i?12:20),Mi=vt(ti,["mdia","mdhd"])[0];if(Mi){var Fi=ft(Mi,0===(_i=Mi[0])?12:20),Oi=vt(ti,["mdia","hdlr"])[0];if(Oi){var Ni=ct(Oi.subarray(8,12)),Ui={soun:qi,vide:Xi}[Ni];if(Ui){var Gi=It(vt(ti,["mdia","minf","stbl","stsd"])[0]);$e[Pi]={timescale:Fi,type:Ui},$e[Ui]=r({timescale:Fi,id:Pi},Gi)}}}}}return vt(He,["moov","mvex","trex"]).forEach((function(He){var je=ft(He,4),Ye=$e[je];Ye&&(Ye.default={duration:ft(He,12),flags:ft(He,20)})})),$e}function It(He){var $e=He.subarray(8),je=$e.subarray(86),Ye=ct($e.subarray(4,8)),ti=Ye,mi="enca"===Ye||"encv"===Ye;if(mi){var _i=vt($e,[Ye])[0];vt(_i.subarray("enca"===Ye?28:78),["sinf"]).forEach((function(He){var $e=vt(He,["schm"])[0];if($e){var je=ct($e.subarray(4,8));if("cbcs"===je||"cenc"===je){var Ye=vt(He,["frma"])[0];Ye&&(ti=ct(Ye))}}}))}switch(ti){case"avc1":case"avc2":case"avc3":case"avc4":var Pi=vt(je,["avcC"])[0];ti+="."+Bt(Pi[1])+Bt(Pi[2])+Bt(Pi[3]);break;case"mp4a":var Mi=vt($e,[Ye])[0],Fi=vt(Mi.subarray(28),["esds"])[0];if(Fi&&Fi.length>12){var Oi=4;if(3!==Fi[Oi++])break;Oi=Ct(Fi,Oi),Oi+=2;var Ni=Fi[Oi++];if(128&Ni&&(Oi+=2),64&Ni&&(Oi+=Fi[Oi++]),4!==Fi[Oi++])break;Oi=Ct(Fi,Oi);var Ui=Fi[Oi++];if(64!==Ui)break;if(ti+="."+Bt(Ui),Oi+=12,5!==Fi[Oi++])break;Oi=Ct(Fi,Oi);var Gi=Fi[Oi++],Vi=(248&Gi)>>3;31===Vi&&(Vi+=1+((7&Gi)<<3)+((224&Fi[Oi])>>5)),ti+="."+Vi}break;case"hvc1":case"hev1":var Hi=vt(je,["hvcC"])[0],zi=Hi[1],Ki=["","A","B","C"][zi>>6],ji=31&zi,Yi=ft(Hi,2),qi=(32&zi)>>5?"H":"L",Xi=Hi[12],lr=Hi.subarray(6,12);ti+="."+Ki+ji,ti+="."+Yi.toString(16).toUpperCase(),ti+="."+qi+Xi;for(var hr="",dr=lr.length;dr--;){var ur=lr[dr];(ur||hr)&&(hr="."+ur.toString(16).toUpperCase()+hr)}ti+=hr;break;case"dvh1":case"dvhe":var vr=vt(je,["dvcC"])[0],yr=vr[2]>>1&127,xr=vr[2]<<5&32|vr[3]>>3&31;ti+="."+kt(yr)+"."+kt(xr);break;case"vp09":var kr=vt(je,["vpcC"])[0],Er=kr[4],Tr=kr[5],Ar=kr[6]>>4&15;ti+="."+kt(Er)+"."+kt(Tr)+"."+kt(Ar);break;case"av01":var wr=vt(je,["av1C"])[0],Lr=wr[1]>>>5,_r=31&wr[1],Cr=wr[2]>>>7?"H":"M",Ir=(64&wr[2])>>6,Mr=(32&wr[2])>>5,Fr=2===Lr&&Ir?Mr?12:10:Ir?10:8,Br=(16&wr[2])>>4,Nr=(8&wr[2])>>3,Ur=(4&wr[2])>>2,Hr=3&wr[2];ti+="."+Lr+"."+kt(_r)+Cr+"."+kt(Fr)+"."+Br+"."+Nr+Ur+Hr+"."+kt(1)+"."+kt(1)+"."+kt(1)+".0"}return{codec:ti,encrypted:mi}}function Ct(He,$e){for(var je=$e+5;128&He[$e++]&&$e<je;);return $e}function Bt(He){return("0"+He.toString(16).toUpperCase()).slice(-2)}function kt(He){return(He<10?"0":"")+He}function xt(He){var $e=ft(He,0),je=8;1&$e&&(je+=4),4&$e&&(je+=4);for(var Ye=0,ti=ft(He,4),mi=0;mi<ti;mi++)256&$e&&(Ye+=ft(He,je),je+=4),512&$e&&(je+=4),1024&$e&&(je+=4),2048&$e&&(je+=4);return Ye}function wt(He,$e){var je=new Uint8Array(He.length+$e.length);return je.set(He),je.set($e,He.length),je}function Qt(He,$e){var je=[],Ye=$e.samples,ti=$e.timescale,mi=$e.id,_i=!1;return vt(Ye,["moof"]).map((function(Pi){var Mi=Pi.byteOffset-8;vt(Pi,["traf"]).map((function(Pi){var Fi=vt(Pi,["tfdt"]).map((function(He){var $e=He[0],je=ft(He,4);return 1===$e&&(je*=Math.pow(2,32),je+=ft(He,8)),je/ti}))[0];return void 0!==Fi&&(He=Fi),vt(Pi,["tfhd"]).map((function(Fi){var Oi=ft(Fi,4),Ni=16777215&ft(Fi,0),Ui=0,Gi=0!=(16&Ni),Vi=0,Hi=0!=(32&Ni),zi=8;Oi===mi&&(0!=(1&Ni)&&(zi+=8),0!=(2&Ni)&&(zi+=4),0!=(8&Ni)&&(Ui=ft(Fi,zi),zi+=4),Gi&&(Vi=ft(Fi,zi),zi+=4),Hi&&(zi+=4),"video"===$e.type&&(_i=function(He){if(!He)return!1;var $e=He.indexOf("."),je=$e<0?He:He.substring(0,$e);return"hvc1"===je||"hev1"===je||"dvh1"===je||"dvhe"===je}($e.codec)),vt(Pi,["trun"]).map((function(mi){var Pi=mi[0],Fi=16777215&ft(mi,0),Oi=0!=(1&Fi),Ni=0,Gi=0!=(4&Fi),Hi=0!=(256&Fi),zi=0,Ki=0!=(512&Fi),ji=0,Yi=0!=(1024&Fi),qi=0!=(2048&Fi),lr=0,hr=ft(mi,4),dr=8;Oi&&(Ni=ft(mi,dr),dr+=4),Gi&&(dr+=4);for(var ur=Ni+Mi,vr=0;vr<hr;vr++){if(Hi?(zi=ft(mi,dr),dr+=4):zi=Ui,Ki?(ji=ft(mi,dr),dr+=4):ji=Vi,Yi&&(dr+=4),qi&&(lr=0===Pi?ft(mi,dr):pt(mi,dr),dr+=4),$e.type===Xi)for(var yr=0;yr<ji;){var xr=ft(Ye,ur);St(_i,Ye[ur+=4])&&bt(Ye.subarray(ur,ur+xr),_i?2:1,He+lr/ti,je),ur+=xr,yr+=xr+4}He+=zi/ti}})))}))}))})),je}function St(He,$e){if(He){var je=$e>>1&63;return 39===je||40===je}return 6==(31&$e)}function bt(He,$e,je,Ye){var ti=Dt(He),mi=0;mi+=$e;for(var _i=0,Pi=0,Mi=0;mi<ti.length;){_i=0;do{if(mi>=ti.length)break;_i+=Mi=ti[mi++]}while(255===Mi);Pi=0;do{if(mi>=ti.length)break;Pi+=Mi=ti[mi++]}while(255===Mi);var Fi=ti.length-mi,Oi=mi;if(Pi<Fi)mi+=Pi;else if(Pi>Fi){Hi.error("Malformed SEI payload. "+Pi+" is too small, only "+Fi+" bytes left to parse.");break}if(4===_i){if(181===ti[Oi++]){var Ni=gt(ti,Oi);if(Oi+=2,49===Ni){var Ui=ft(ti,Oi);if(Oi+=4,1195456820===Ui){var Gi=ti[Oi++];if(3===Gi){var Vi=ti[Oi++],zi=64&Vi,Ki=zi?2+3*(31&Vi):0,ji=new Uint8Array(Ki);if(zi){ji[0]=Vi;for(var Yi=1;Yi<Ki;Yi++)ji[Yi]=ti[Oi++]}Ye.push({type:Gi,payloadType:_i,pts:je,bytes:ji})}}}}}else if(5===_i&&Pi>16){for(var qi=[],Xi=0;Xi<16;Xi++){var lr=ti[Oi++].toString(16);qi.push(1==lr.length?"0"+lr:lr),3!==Xi&&5!==Xi&&7!==Xi&&9!==Xi||qi.push("-")}for(var hr=Pi-16,dr=new Uint8Array(hr),ur=0;ur<hr;ur++)dr[ur]=ti[Oi++];Ye.push({payloadType:_i,pts:je,uuid:qi.join(""),userData:ht(dr),userDataBytes:dr})}}}function Dt(He){for(var $e=He.byteLength,je=[],Ye=1;Ye<$e-2;)0===He[Ye]&&0===He[Ye+1]&&3===He[Ye+2]?(je.push(Ye+2),Ye+=2):Ye++;if(0===je.length)return He;var ti=$e-je.length,mi=new Uint8Array(ti),_i=0;for(Ye=0;Ye<ti;_i++,Ye++)_i===je[0]&&(_i++,je.shift()),mi[Ye]=He[_i];return mi}var Ar=function(){function t(He,$e,je,Ye,ti){void 0===Ye&&(Ye=[1]),void 0===ti&&(ti=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=He,this.uri=$e,this.keyFormat=je,this.keyFormatVersions=Ye,this.iv=ti,this.encrypted=!!He&&"NONE"!==He,this.isCommonEncryption=this.encrypted&&"AES-128"!==He}t.clearKeyUriToKeyIdMap=function(){};var He=t.prototype;return He.isSupported=function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method}return!1},He.getDecryptData=function(He){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof He&&("AES-128"!==this.method||this.iv||Hi.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),He=0);var $e=function(He){for(var $e=new Uint8Array(16),je=12;je<16;je++)$e[je]=He>>8*(15-je)&255;return $e}(He);return new t(this.method,this.uri,"identity",this.keyFormatVersions,$e)}return this},t}();function Lt(He){if(void 0===He&&(He=!0),"undefined"!=typeof self)return(He||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}var wr={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Mt(He,$e,je){return void 0===je&&(je=!0),!He.split(",").some((function(He){return!Ft(He,$e,je)}))}function Ft(He,$e,je){var Ye;void 0===je&&(je=!0);var ti=Lt(je);return null!=(Ye=null==ti?void 0:ti.isTypeSupported(Pt(He,$e)))&&Ye}function Pt(He,$e){return $e+'/mp4;codecs="'+He+'"'}function _t(He){if(He){var $e=He.substring(0,4);return wr.video[$e]}return 2}function Nt(He){return He.split(",").reduce((function(He,$e){var je=wr.video[$e];return je?(2*je+He)/(He?3:2):(wr.audio[$e]+He)/(He?2:1)}),0)}var Lr={},_r=/flac|opus/i;function Ot(He,$e){return void 0===$e&&($e=!0),He.replace(_r,(function(He){return function(He,$e){if(void 0===$e&&($e=!0),Lr[He])return Lr[He];for(var je={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[He],Ye=0;Ye<je.length;Ye++)if(Ft(je[Ye],"audio",$e))return Lr[He]=je[Ye],je[Ye];return He}(He.toLowerCase(),$e)}))}function jt(He,$e){return He&&"mp4a"!==He?He:$e}var Cr=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Ir=/#EXT-X-MEDIA:(.*)/g,Mr=/^#EXT(?:INF|-X-TARGETDURATION):/m,Fr=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Br=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),Nr=function(){function t(){}return t.findGroup=function(He,$e){for(var je=0;je<He.length;je++){var Ye=He[je];if(Ye.id===$e)return Ye}},t.resolve=function(He,$e){return _i.buildAbsoluteURL($e,He,{alwaysNormalize:!0})},t.isMediaPlaylist=function(He){return Mr.test(He)},t.parseMasterPlaylist=function(He,$e){var je,Ye={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:!1},ti=[];for(Cr.lastIndex=0;null!=(je=Cr.exec(He));)if(je[1]){var mi,_i=new ji(je[1]),Pi=je[2],Mi={attrs:_i,bitrate:_i.decimalInteger("BANDWIDTH")||_i.decimalInteger("AVERAGE-BANDWIDTH"),name:_i.NAME,url:t.resolve(Pi,$e)},Fi=_i.decimalResolution("RESOLUTION");Fi&&(Mi.width=Fi.width,Mi.height=Fi.height),Zt(_i.CODECS,Mi),null!=(mi=Mi.unknownCodecs)&&mi.length||ti.push(Mi),Ye.levels.push(Mi)}else if(je[3]){var Oi=je[3],Ni=je[4];switch(Oi){case"SESSION-DATA":var Ui=new ji(Ni),Gi=Ui["DATA-ID"];Gi&&(null===Ye.sessionData&&(Ye.sessionData={}),Ye.sessionData[Gi]=Ui);break;case"SESSION-KEY":var Vi=Wt(Ni,$e);Vi.encrypted&&Vi.isSupported()?(null===Ye.sessionKeys&&(Ye.sessionKeys=[]),Ye.sessionKeys.push(Vi)):Hi.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+Ni+'"');break;case"DEFINE":break;case"CONTENT-STEERING":var zi=new ji(Ni);Ye.contentSteering={uri:t.resolve(zi["SERVER-URI"],$e),pathwayId:zi["PATHWAY-ID"]||"."};break;case"START":Ye.startTimeOffset=Jt(Ni)}}var Ki=ti.length>0&&ti.length<Ye.levels.length;return Ye.levels=Ki?ti:Ye.levels,0===Ye.levels.length&&(Ye.playlistParsingError=new Error("no levels found in manifest")),Ye},t.parseMasterPlaylistMedia=function(He,$e,je){var Ye,ti={},mi=je.levels,_i={AUDIO:mi.map((function(He){return{id:He.attrs.AUDIO,audioCodec:He.audioCodec}})),SUBTITLES:mi.map((function(He){return{id:He.attrs.SUBTITLES,textCodec:He.textCodec}})),"CLOSED-CAPTIONS":[]},Pi=0;for(Ir.lastIndex=0;null!==(Ye=Ir.exec(He));){var Mi=new ji(Ye[1]),Fi=Mi.TYPE;if(Fi){var Oi=_i[Fi],Ni=ti[Fi]||[];ti[Fi]=Ni;var Ui=Mi.LANGUAGE,Gi=Mi["ASSOC-LANGUAGE"],Vi=Mi.CHANNELS,Hi=Mi.CHARACTERISTICS,zi=Mi["INSTREAM-ID"],Ki={attrs:Mi,bitrate:0,id:Pi++,groupId:Mi["GROUP-ID"]||"",name:Mi.NAME||Ui||"",type:Fi,default:Mi.bool("DEFAULT"),autoselect:Mi.bool("AUTOSELECT"),forced:Mi.bool("FORCED"),lang:Ui,url:Mi.URI?t.resolve(Mi.URI,$e):""};if(Gi&&(Ki.assocLang=Gi),Vi&&(Ki.channels=Vi),Hi&&(Ki.characteristics=Hi),zi&&(Ki.instreamId=zi),null!=Oi&&Oi.length){var Yi=t.findGroup(Oi,Ki.groupId)||Oi[0];Xt(Ki,Yi,"audioCodec"),Xt(Ki,Yi,"textCodec")}Ni.push(Ki)}}return ti},t.parseLevelPlaylist=function(He,$e,je,Ye,ti,mi){var _i,Mi,Fi,Oi=new vr($e),Ni=Oi.fragments,Ui=null,Gi=0,Vi=0,zi=0,Ki=0,qi=null,Xi=new dr(Ye,$e),lr=-1,hr=!1,yr=null;for(Fr.lastIndex=0,Oi.m3u8=He,Oi.hasVariableRefs=!1;null!==(_i=Fr.exec(He));){hr&&(hr=!1,(Xi=new dr(Ye,$e)).start=zi,Xi.sn=Gi,Xi.cc=Ki,Xi.level=je,Ui&&(Xi.initSegment=Ui,Xi.rawProgramDateTime=Ui.rawProgramDateTime,Ui.rawProgramDateTime=null,yr&&(Xi.setByteRange(yr),yr=null)));var xr=_i[1];if(xr){Xi.duration=parseFloat(xr);var kr=(" "+_i[2]).slice(1);Xi.title=kr||null,Xi.tagList.push(kr?["INF",xr,kr]:["INF",xr])}else if(_i[3]){if(Pi(Xi.duration)){Xi.start=zi,Fi&&ee(Xi,Fi,Oi),Xi.sn=Gi,Xi.level=je,Xi.cc=Ki,Ni.push(Xi);var Er=(" "+_i[3]).slice(1);Xi.relurl=Er,$t(Xi,qi),qi=Xi,zi+=Xi.duration,Gi++,Vi=0,hr=!0}}else if(_i[4]){var Tr=(" "+_i[4]).slice(1);qi?Xi.setByteRange(Tr,qi):Xi.setByteRange(Tr)}else if(_i[5])Xi.rawProgramDateTime=(" "+_i[5]).slice(1),Xi.tagList.push(["PROGRAM-DATE-TIME",Xi.rawProgramDateTime]),-1===lr&&(lr=Ni.length);else{if(!(_i=_i[0].match(Br))){Hi.warn("No matches on slow regex match for level playlist!");continue}for(Mi=1;Mi<_i.length&&void 0===_i[Mi];Mi++);var Ar=(" "+_i[Mi]).slice(1),wr=(" "+_i[Mi+1]).slice(1),Lr=_i[Mi+2]?(" "+_i[Mi+2]).slice(1):"";switch(Ar){case"PLAYLIST-TYPE":Oi.type=wr.toUpperCase();break;case"MEDIA-SEQUENCE":Gi=Oi.startSN=parseInt(wr);break;case"SKIP":var _r=new ji(wr),Cr=_r.decimalInteger("SKIPPED-SEGMENTS");if(Pi(Cr)){Oi.skippedSegments=Cr;for(var Ir=Cr;Ir--;)Ni.unshift(null);Gi+=Cr}var Mr=_r.enumeratedString("RECENTLY-REMOVED-DATERANGES");Mr&&(Oi.recentlyRemovedDateranges=Mr.split("\t"));break;case"TARGETDURATION":Oi.targetduration=Math.max(parseInt(wr),1);break;case"VERSION":Oi.version=parseInt(wr);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":case"DEFINE":break;case"ENDLIST":Oi.live=!1;break;case"#":(wr||Lr)&&Xi.tagList.push(Lr?[wr,Lr]:[wr]);break;case"DISCONTINUITY":Ki++,Xi.tagList.push(["DIS"]);break;case"GAP":Xi.gap=!0,Xi.tagList.push([Ar]);break;case"BITRATE":Xi.tagList.push([Ar,wr]);break;case"DATERANGE":var Nr=new ji(wr),Ur=new Yi(Nr,Oi.dateRanges[Nr.ID]);Ur.isValid||Oi.skippedSegments?Oi.dateRanges[Ur.id]=Ur:Hi.warn('Ignoring invalid DATERANGE tag: "'+wr+'"'),Xi.tagList.push(["EXT-X-DATERANGE",wr]);break;case"DISCONTINUITY-SEQUENCE":Ki=parseInt(wr);break;case"KEY":var Hr=Wt(wr,$e);if(Hr.isSupported()){if("NONE"===Hr.method){Fi=void 0;break}Fi||(Fi={}),Fi[Hr.keyFormat]&&(Fi=o({},Fi)),Fi[Hr.keyFormat]=Hr}else Hi.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+wr+'"');break;case"START":Oi.startTimeOffset=Jt(wr);break;case"MAP":var Wr=new ji(wr);if(Xi.duration){var zr=new dr(Ye,$e);te(zr,Wr,je,Fi),Ui=zr,Xi.initSegment=Ui,Ui.rawProgramDateTime&&!Xi.rawProgramDateTime&&(Xi.rawProgramDateTime=Ui.rawProgramDateTime)}else{var Kr=Xi.byteRangeEndOffset;if(Kr){var qr=Xi.byteRangeStartOffset;yr=Kr-qr+"@"+qr}else yr=null;te(Xi,Wr,je,Fi),Ui=Xi,hr=!0}break;case"SERVER-CONTROL":var ta=new ji(wr);Oi.canBlockReload=ta.bool("CAN-BLOCK-RELOAD"),Oi.canSkipUntil=ta.optionalFloat("CAN-SKIP-UNTIL",0),Oi.canSkipDateRanges=Oi.canSkipUntil>0&&ta.bool("CAN-SKIP-DATERANGES"),Oi.partHoldBack=ta.optionalFloat("PART-HOLD-BACK",0),Oi.holdBack=ta.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var ea=new ji(wr);Oi.partTarget=ea.decimalFloatingPoint("PART-TARGET");break;case"PART":var sa=Oi.partList;sa||(sa=Oi.partList=[]);var na=Vi>0?sa[sa.length-1]:void 0,oa=Vi++,la=new ji(wr),ha=new ur(la,Xi,$e,oa,na);sa.push(ha),Xi.duration+=ha.duration;break;case"PRELOAD-HINT":var da=new ji(wr);Oi.preloadHint=da;break;case"RENDITION-REPORT":var ua=new ji(wr);Oi.renditionReports=Oi.renditionReports||[],Oi.renditionReports.push(ua);break;default:Hi.warn("line parsed but not handled: "+_i)}}}qi&&!qi.relurl?(Ni.pop(),zi-=qi.duration,Oi.partList&&(Oi.fragmentHint=qi)):Oi.partList&&($t(Xi,qi),Xi.cc=Ki,Oi.fragmentHint=Xi,Fi&&ee(Xi,Fi,Oi));var ca=Ni.length,fa=Ni[0],pa=Ni[ca-1];if((zi+=Oi.skippedSegments*Oi.targetduration)>0&&ca&&pa){Oi.averagetargetduration=zi/ca;var ma=pa.sn;Oi.endSN="initSegment"!==ma?ma:0,Oi.live||(pa.endList=!0),fa&&(Oi.startCC=fa.cc)}else Oi.endSN=0,Oi.startCC=0;return Oi.fragmentHint&&(zi+=Oi.fragmentHint.duration),Oi.totalduration=zi,Oi.endCC=Ki,lr>0&&function(He,$e){for(var je=He[$e],Ye=$e;Ye--;){var ti=He[Ye];if(!ti)return;ti.programDateTime=je.programDateTime-1e3*ti.duration,je=ti}}(Ni,lr),Oi},t}();function Wt(He,$e,je){var Ye,ti,mi=new ji(He),_i=null!=(Ye=mi.METHOD)?Ye:"",Pi=mi.URI,Mi=mi.hexadecimalInteger("IV"),Fi=mi.KEYFORMATVERSIONS,Oi=null!=(ti=mi.KEYFORMAT)?ti:"identity";Pi&&mi.IV&&!Mi&&Hi.error("Invalid IV: "+mi.IV);var Ni=Pi?Nr.resolve(Pi,$e):"",Ui=(Fi||"1").split("/").map(Number).filter(Number.isFinite);return new Ar(_i,Ni,Oi,Ui,Mi)}function Jt(He){var $e=new ji(He).decimalFloatingPoint("TIME-OFFSET");return Pi($e)?$e:null}function Zt(He,$e){var je=(He||"").split(/[ ,]+/).filter((function(He){return He}));["video","audio","text"].forEach((function(He){var Ye=je.filter((function($e){return!!(je=wr[He])&&!!je[$e.slice(0,4)];var je}));Ye.length&&($e[He+"Codec"]=Ye.join(","),je=je.filter((function(He){return-1===Ye.indexOf(He)})))})),$e.unknownCodecs=je}function Xt(He,$e,je){var Ye=$e[je];Ye&&(He[je]=Ye)}function $t(He,$e){He.rawProgramDateTime?He.programDateTime=Date.parse(He.rawProgramDateTime):null!=$e&&$e.programDateTime&&(He.programDateTime=$e.endProgramDateTime),Pi(He.programDateTime)||(He.programDateTime=null,He.rawProgramDateTime=null)}function te(He,$e,je,Ye){He.relurl=$e.URI,$e.BYTERANGE&&He.setByteRange($e.BYTERANGE),He.level=je,He.sn="initSegment",Ye&&(He.levelkeys=Ye),He.initSegment=null}function ee(He,$e,je){He.levelkeys=$e;var Ye=je.encryptedFragments;Ye.length&&Ye[Ye.length-1].levelkeys===$e||!Object.keys($e).some((function(He){return $e[He].isCommonEncryption}))||Ye.push(He)}var Ur="manifest",Hr="level",Wr="audioTrack",zr="subtitleTrack",Kr="main",qr="audio",ta="subtitle";function le(He){switch(He.type){case Wr:return qr;case zr:return ta;default:return Kr}}function Ae(He,$e){var je=He.url;return void 0!==je&&0!==je.indexOf("data:")||(je=$e.url),je}var ea=function(){function t(He){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=He,this.registerListeners()}var He=t.prototype;return He.startLoad=function(He){},He.stopLoad=function(){this.destroyInternalLoaders()},He.registerListeners=function(){var He=this.hls;He.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.on(Oi.LEVEL_LOADING,this.onLevelLoading,this),He.on(Oi.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),He.on(Oi.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},He.unregisterListeners=function(){var He=this.hls;He.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.off(Oi.LEVEL_LOADING,this.onLevelLoading,this),He.off(Oi.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),He.off(Oi.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},He.createInternalLoader=function(He){var $e=this.hls.config,je=$e.pLoader,Ye=$e.loader,ti=new(je||Ye)($e);return this.loaders[He.type]=ti,ti},He.getInternalLoader=function(He){return this.loaders[He.type]},He.resetInternalLoader=function(He){this.loaders[He]&&delete this.loaders[He]},He.destroyInternalLoaders=function(){for(var He in this.loaders){var $e=this.loaders[He];$e&&$e.destroy(),this.resetInternalLoader(He)}},He.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},He.onManifestLoading=function(He,$e){var je=$e.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Ur,url:je,deliveryDirectives:null})},He.onLevelLoading=function(He,$e){var je=$e.id,Ye=$e.level,ti=$e.pathwayId,mi=$e.url,_i=$e.deliveryDirectives;this.load({id:je,level:Ye,pathwayId:ti,responseType:"text",type:Hr,url:mi,deliveryDirectives:_i})},He.onAudioTrackLoading=function(He,$e){var je=$e.id,Ye=$e.groupId,ti=$e.url,mi=$e.deliveryDirectives;this.load({id:je,groupId:Ye,level:null,responseType:"text",type:Wr,url:ti,deliveryDirectives:mi})},He.onSubtitleTrackLoading=function(He,$e){var je=$e.id,Ye=$e.groupId,ti=$e.url,mi=$e.deliveryDirectives;this.load({id:je,groupId:Ye,level:null,responseType:"text",type:zr,url:ti,deliveryDirectives:mi})},He.load=function(He){var $e,je,Ye,ti=this,mi=this.hls.config,_i=this.getInternalLoader(He);if(_i){var Mi=_i.context;if(Mi&&Mi.url===He.url&&Mi.level===He.level)return void Hi.trace("[playlist-loader]: playlist request ongoing");Hi.log("[playlist-loader]: aborting previous loader for type: "+He.type),_i.abort()}if(je=He.type===Ur?mi.manifestLoadPolicy.default:o({},mi.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),_i=this.createInternalLoader(He),Pi(null==($e=He.deliveryDirectives)?void 0:$e.part)&&(He.type===Hr&&null!==He.level?Ye=this.hls.levels[He.level].details:He.type===Wr&&null!==He.id?Ye=this.hls.audioTracks[He.id].details:He.type===zr&&null!==He.id&&(Ye=this.hls.subtitleTracks[He.id].details),Ye)){var Fi=Ye.partTarget,Oi=Ye.targetduration;if(Fi&&Oi){var Ni=1e3*Math.max(3*Fi,.8*Oi);je=o({},je,{maxTimeToFirstByteMs:Math.min(Ni,je.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Ni,je.maxTimeToFirstByteMs)})}}var Ui=je.errorRetry||je.timeoutRetry||{},Gi={loadPolicy:je,timeout:je.maxLoadTimeMs,maxRetry:Ui.maxNumRetry||0,retryDelay:Ui.retryDelayMs||0,maxRetryDelay:Ui.maxRetryDelayMs||0},Vi={onSuccess:function(He,$e,je,Ye){var mi=ti.getInternalLoader(je);ti.resetInternalLoader(je.type);var _i=He.data;0===_i.indexOf("#EXTM3U")?($e.parsing.start=performance.now(),Nr.isMediaPlaylist(_i)?ti.handleTrackOrLevelPlaylist(He,$e,je,Ye||null,mi):ti.handleMasterPlaylist(He,$e,je,Ye)):ti.handleManifestParsingError(He,je,new Error("no EXTM3U delimiter"),Ye||null,$e)},onError:function(He,$e,je,Ye){ti.handleNetworkError($e,je,!1,He,Ye)},onTimeout:function(He,$e,je){ti.handleNetworkError($e,je,!0,void 0,He)}};_i.load(He,Gi,Vi)},He.handleMasterPlaylist=function(He,$e,je,Ye){var ti=this.hls,mi=He.data,_i=Ae(He,je),Pi=Nr.parseMasterPlaylist(mi,_i);if(Pi.playlistParsingError)this.handleManifestParsingError(He,je,Pi.playlistParsingError,Ye,$e);else{var Mi=Pi.contentSteering,Fi=Pi.levels,Ni=Pi.sessionData,Ui=Pi.sessionKeys,Gi=Pi.startTimeOffset,Vi=Pi.variableList;this.variableList=Vi;var zi=Nr.parseMasterPlaylistMedia(mi,_i,Pi),Ki=zi.AUDIO,Yi=void 0===Ki?[]:Ki,qi=zi.SUBTITLES,Xi=zi["CLOSED-CAPTIONS"];Yi.length&&(Yi.some((function(He){return!He.url}))||!Fi[0].audioCodec||Fi[0].attrs.AUDIO||(Hi.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),Yi.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ji({}),bitrate:0,url:""}))),ti.trigger(Oi.MANIFEST_LOADED,{levels:Fi,audioTracks:Yi,subtitles:qi,captions:Xi,contentSteering:Mi,url:_i,stats:$e,networkDetails:Ye,sessionData:Ni,sessionKeys:Ui,startTimeOffset:Gi,variableList:Vi})}},He.handleTrackOrLevelPlaylist=function(He,$e,je,Ye,ti){var mi=this.hls,_i=je.id,Mi=je.level,Fi=je.type,Ni=Ae(He,je),Ui=Pi(Mi)?Mi:Pi(_i)?_i:0,Gi=le(je),Vi=Nr.parseLevelPlaylist(He.data,Ni,Ui,Gi,0,this.variableList);if(Fi===Ur){var Hi={attrs:new ji({}),bitrate:0,details:Vi,name:"",url:Ni};mi.trigger(Oi.MANIFEST_LOADED,{levels:[Hi],audioTracks:[],url:Ni,stats:$e,networkDetails:Ye,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}$e.parsing.end=performance.now(),je.levelDetails=Vi,this.handlePlaylistLoaded(Vi,He,$e,je,Ye,ti)},He.handleManifestParsingError=function(He,$e,je,Ye,ti){this.hls.trigger(Oi.ERROR,{type:Ni.NETWORK_ERROR,details:Ui.MANIFEST_PARSING_ERROR,fatal:$e.type===Ur,url:He.url,err:je,error:je,reason:je.message,response:He,context:$e,networkDetails:Ye,stats:ti})},He.handleNetworkError=function(He,$e,je,Ye,ti){void 0===je&&(je=!1);var mi="A network "+(je?"timeout":"error"+(Ye?" (status "+Ye.code+")":""))+" occurred while loading "+He.type;He.type===Hr?mi+=": "+He.level+" id: "+He.id:He.type!==Wr&&He.type!==zr||(mi+=" id: "+He.id+' group-id: "'+He.groupId+'"');var _i=new Error(mi);Hi.warn("[playlist-loader]: "+mi);var Pi=Ui.UNKNOWN,Mi=!1,Fi=this.getInternalLoader(He);switch(He.type){case Ur:Pi=je?Ui.MANIFEST_LOAD_TIMEOUT:Ui.MANIFEST_LOAD_ERROR,Mi=!0;break;case Hr:Pi=je?Ui.LEVEL_LOAD_TIMEOUT:Ui.LEVEL_LOAD_ERROR,Mi=!1;break;case Wr:Pi=je?Ui.AUDIO_TRACK_LOAD_TIMEOUT:Ui.AUDIO_TRACK_LOAD_ERROR,Mi=!1;break;case zr:Pi=je?Ui.SUBTITLE_TRACK_LOAD_TIMEOUT:Ui.SUBTITLE_LOAD_ERROR,Mi=!1}Fi&&this.resetInternalLoader(He.type);var Gi={type:Ni.NETWORK_ERROR,details:Pi,fatal:Mi,url:He.url,loader:Fi,context:He,error:_i,networkDetails:$e,stats:ti};if(Ye){var Vi=(null==$e?void 0:$e.url)||He.url;Gi.response=r({url:Vi,data:void 0},Ye)}this.hls.trigger(Oi.ERROR,Gi)},He.handlePlaylistLoaded=function(He,$e,je,Ye,ti,mi){var _i=this.hls,Pi=Ye.type,Mi=Ye.level,Fi=Ye.id,Gi=Ye.groupId,Vi=Ye.deliveryDirectives,Hi=Ae($e,Ye),zi=le(Ye),Ki="number"==typeof Ye.level&&zi===Kr?Mi:void 0;if(He.fragments.length){He.targetduration||(He.playlistParsingError=new Error("Missing Target Duration"));var ji=He.playlistParsingError;if(ji)_i.trigger(Oi.ERROR,{type:Ni.NETWORK_ERROR,details:Ui.LEVEL_PARSING_ERROR,fatal:!1,url:Hi,error:ji,reason:ji.message,response:$e,context:Ye,level:Ki,parent:zi,networkDetails:ti,stats:je});else switch(He.live&&mi&&(mi.getCacheAge&&(He.ageHeader=mi.getCacheAge()||0),mi.getCacheAge&&!isNaN(He.ageHeader)||(He.ageHeader=0)),Pi){case Ur:case Hr:_i.trigger(Oi.LEVEL_LOADED,{details:He,level:Ki||0,id:Fi||0,stats:je,networkDetails:ti,deliveryDirectives:Vi});break;case Wr:_i.trigger(Oi.AUDIO_TRACK_LOADED,{details:He,id:Fi||0,groupId:Gi||"",stats:je,networkDetails:ti,deliveryDirectives:Vi});break;case zr:_i.trigger(Oi.SUBTITLE_TRACK_LOADED,{details:He,id:Fi||0,groupId:Gi||"",stats:je,networkDetails:ti,deliveryDirectives:Vi})}}else{var Yi=new Error("No Segments found in Playlist");_i.trigger(Oi.ERROR,{type:Ni.NETWORK_ERROR,details:Ui.LEVEL_EMPTY_ERROR,fatal:!1,url:Hi,error:Yi,reason:Yi.message,response:$e,context:Ye,level:Ki,parent:zi,networkDetails:ti,stats:je})}},t}();function ue(He,$e){var je;try{je=new Event("addtrack")}catch(He){(je=document.createEvent("Event")).initEvent("addtrack",!1,!1)}je.track=He,$e.dispatchEvent(je)}var sa="org.id3",na="https://aomedia.org/emsg/ID3";function fe(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function pe(He,$e,je,Ye,ti){var mi=new He($e,je,"");try{mi.value=Ye,ti&&(mi.type=ti)}catch(_i){mi=new He($e,je,JSON.stringify(ti?r({type:ti},Ye):Ye))}return mi}var oa=function(){var He=fe();try{He&&new He(0,Number.POSITIVE_INFINITY,"")}catch(He){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function ve(He,$e){return He.getTime()/1e3-$e}var la=function(){function t(He){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=He,this._registerListeners()}var He=t.prototype;return He.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},He._registerListeners=function(){var He=this.hls;He.on(Oi.MEDIA_ATTACHED,this.onMediaAttached,this),He.on(Oi.MEDIA_DETACHING,this.onMediaDetaching,this),He.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.on(Oi.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),He.on(Oi.BUFFER_FLUSHING,this.onBufferFlushing,this),He.on(Oi.LEVEL_UPDATED,this.onLevelUpdated,this)},He._unregisterListeners=function(){var He=this.hls;He.off(Oi.MEDIA_ATTACHED,this.onMediaAttached,this),He.off(Oi.MEDIA_DETACHING,this.onMediaDetaching,this),He.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.off(Oi.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),He.off(Oi.BUFFER_FLUSHING,this.onBufferFlushing,this),He.off(Oi.LEVEL_UPDATED,this.onLevelUpdated,this)},He.onMediaAttached=function(He,$e){this.media=$e.media},He.onMediaDetaching=function(){this.id3Track&&(function(He){var $e=He.mode;if("disabled"===$e&&(He.mode="hidden"),He.cues)for(var je=He.cues.length;je--;)He.removeCue(He.cues[je]);"disabled"===$e&&(He.mode=$e)}(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},He.onManifestLoading=function(){this.dateRangeCuesAppended={}},He.createTrack=function(He){var $e=this.getID3Track(He.textTracks);return $e.mode="hidden",$e},He.getID3Track=function(He){if(this.media){for(var $e=0;$e<He.length;$e++){var je=He[$e];if("metadata"===je.kind&&"id3"===je.label)return ue(je,this.media),je}return this.media.addTextTrack("metadata","id3")}},He.onFragParsingMetadata=function(He,$e){if(this.media){var je=this.hls.config,Ye=je.enableEmsgMetadataCues,ti=je.enableID3MetadataCues;if(Ye||ti){var mi=$e.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));var _i=fe();if(_i)for(var Pi=0;Pi<mi.length;Pi++){var Mi=mi[Pi].type;if((Mi!==na||Ye)&&ti){var Fi=it(mi[Pi].data);if(Fi){var Oi=mi[Pi].pts,Ni=Oi+mi[Pi].duration;Ni>oa&&(Ni=oa),Ni-Oi<=0&&(Ni=Oi+.25);for(var Ui=0;Ui<Fi.length;Ui++){var Gi=Fi[Ui];if(!tt(Gi)){this.updateId3CueEnds(Oi,Mi);var Vi=pe(_i,Oi,Ni,Gi,Mi);Vi&&this.id3Track.addCue(Vi)}}}}}}}},He.updateId3CueEnds=function(He,$e){var je,Ye=null==(je=this.id3Track)?void 0:je.cues;if(Ye)for(var ti=Ye.length;ti--;){var mi=Ye[ti];mi.type===$e&&mi.startTime<He&&mi.endTime===oa&&(mi.endTime=He)}},He.onBufferFlushing=function(He,$e){var je=$e.startOffset,Ye=$e.endOffset,ti=$e.type,mi=this.id3Track,_i=this.hls;if(_i){var Pi=_i.config,Mi=Pi.enableEmsgMetadataCues,Fi=Pi.enableID3MetadataCues;mi&&(Mi||Fi)&&function(He,$e,je,Ye){var ti=He.mode;if("disabled"===ti&&(He.mode="hidden"),He.cues&&He.cues.length>0)for(var mi=function(He,$e,je){var Ye=[],ti=function(He,$e){if($e<He[0].startTime)return 0;var je=He.length-1;if($e>He[je].endTime)return-1;for(var Ye=0,ti=je;Ye<=ti;){var mi=Math.floor((ti+Ye)/2);if($e<He[mi].startTime)ti=mi-1;else{if(!($e>He[mi].startTime&&Ye<je))return mi;Ye=mi+1}}return He[Ye].startTime-$e<$e-He[ti].startTime?Ye:ti}(He,$e);if(ti>-1)for(var mi=ti,_i=He.length;mi<_i;mi++){var Pi=He[mi];if(Pi.startTime>=$e&&Pi.endTime<=je)Ye.push(Pi);else if(Pi.startTime>je)return Ye}return Ye}(He.cues,$e,je),_i=0;_i<mi.length;_i++)Ye&&!Ye(mi[_i])||He.removeCue(mi[_i]);"disabled"===ti&&(He.mode=ti)}(mi,je,Ye,"audio"===ti?function(He){return He.type===sa&&Fi}:"video"===ti?function(He){return He.type===na&&Mi}:function(He){return He.type===sa&&Fi||He.type===na&&Mi})}},He.onLevelUpdated=function(He,$e){var je=this,Ye=$e.details;if(this.media&&Ye.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var ti=this.dateRangeCuesAppended,mi=this.id3Track,_i=Ye.dateRanges,Mi=Object.keys(_i);if(mi)for(var Fi=Object.keys(ti).filter((function(He){return!Mi.includes(He)})),l=function(){var He=Fi[Oi];Object.keys(ti[He].cues).forEach((function($e){mi.removeCue(ti[He].cues[$e])})),delete ti[He]},Oi=Fi.length;Oi--;)l();var Ni=Ye.fragments[Ye.fragments.length-1];if(0!==Mi.length&&Pi(null==Ni?void 0:Ni.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var Ui=Ni.programDateTime/1e3-Ni.start,Gi=fe(),g=function(){var He=Mi[Vi],$e=_i[He],Ye=ve($e.startDate,Ui),mi=ti[He],Pi=(null==mi?void 0:mi.cues)||{},Fi=(null==mi?void 0:mi.durationKnown)||!1,Oi=oa,Ni=$e.endDate;if(Ni)Oi=ve(Ni,Ui),Fi=!0;else if($e.endOnNext&&!Fi){var Hi=Mi.reduce((function(He,je){if(je!==$e.id){var Ye=_i[je];if(Ye.class===$e.class&&Ye.startDate>$e.startDate&&(!He||$e.startDate<He.startDate))return Ye}return He}),null);Hi&&(Oi=ve(Hi.startDate,Ui),Fi=!0)}for(var zi,Ki,ji=Object.keys($e.attr),Yi=0;Yi<ji.length;Yi++){var qi=ji[Yi];if("ID"!==(Ki=qi)&&"CLASS"!==Ki&&"START-DATE"!==Ki&&"DURATION"!==Ki&&"END-DATE"!==Ki&&"END-ON-NEXT"!==Ki){var Xi=Pi[qi];if(Xi)Fi&&!mi.durationKnown&&(Xi.endTime=Oi);else if(Gi){var lr=$e.attr[qi];F(qi)&&(zi=lr,lr=Uint8Array.from(zi.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);var hr=pe(Gi,Ye,Oi,{key:qi,data:lr},"com.apple.quicktime.HLS");hr&&(hr.id=He,je.id3Track.addCue(hr),Pi[qi]=hr)}}}ti[He]={cues:Pi,dateRange:$e,durationKnown:Fi}},Vi=0;Vi<Mi.length;Vi++)g()}}},t}(),ha=function(){function t(He){var $e=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return $e.timeupdate()},this.hls=He,this.config=He.config,this.registerListeners()}var He=t.prototype;return He.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},He.registerListeners=function(){this.hls.on(Oi.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Oi.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Oi.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Oi.ERROR,this.onError,this)},He.unregisterListeners=function(){this.hls.off(Oi.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Oi.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Oi.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Oi.ERROR,this.onError,this)},He.onMediaAttached=function(He,$e){this.media=$e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},He.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},He.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},He.onLevelUpdated=function(He,$e){var je=$e.details;this.levelDetails=je,je.advanced&&this.timeupdate(),!je.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},He.onError=function(He,$e){var je;$e.details===Ui.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(je=this.levelDetails)&&je.live&&Hi.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},He.timeupdate=function(){var He=this.media,$e=this.levelDetails;if(He&&$e){this.currentTime=He.currentTime;var je=this.computeLatency();if(null!==je){this._latency=je;var Ye=this.config,ti=Ye.lowLatencyMode,mi=Ye.maxLiveSyncPlaybackRate;if(ti&&1!==mi&&$e.live){var _i=this.targetLatency;if(null!==_i){var Pi=je-_i;if(Pi<Math.min(this.maxLatency,_i+$e.targetduration)&&Pi>.05&&this.forwardBufferLength>1){var Mi=Math.min(2,Math.max(1,mi)),Fi=Math.round(2/(1+Math.exp(-.75*Pi-this.edgeStalled))*20)/20;He.playbackRate=Math.min(Mi,Math.max(1,Fi))}else 1!==He.playbackRate&&0!==He.playbackRate&&(He.playbackRate=1)}}}}},He.estimateLiveEdge=function(){var He=this.levelDetails;return null===He?null:He.edge+He.age},He.computeLatency=function(){var He=this.estimateLiveEdge();return null===He?null:He-this.currentTime},n(t,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var He=this.config,$e=this.levelDetails;return void 0!==He.liveMaxLatencyDuration?He.liveMaxLatencyDuration:$e?He.liveMaxLatencyDurationCount*$e.targetduration:0}},{key:"targetLatency",get:function(){var He=this.levelDetails;if(null===He)return null;var $e=He.holdBack,je=He.partHoldBack,Ye=He.targetduration,ti=this.config,mi=ti.liveSyncDuration,_i=ti.liveSyncDurationCount,Pi=ti.lowLatencyMode,Mi=this.hls.userConfig,Fi=Pi&&je||$e;(Mi.liveSyncDuration||Mi.liveSyncDurationCount||0===Fi)&&(Fi=void 0!==mi?mi:_i*Ye);var Oi=Ye;return Fi+Math.min(1*this.stallCount,Oi)}},{key:"liveSyncPosition",get:function(){var He=this.estimateLiveEdge(),$e=this.targetLatency,je=this.levelDetails;if(null===He||null===$e||null===je)return null;var Ye=je.edge,ti=He-$e-this.edgeStalled,mi=Ye-je.totalduration,_i=Ye-(this.config.lowLatencyMode&&je.partTarget||je.targetduration);return Math.min(Math.max(mi,ti),_i)}},{key:"drift",get:function(){var He=this.levelDetails;return null===He?1:He.drift}},{key:"edgeStalled",get:function(){var He=this.levelDetails;if(null===He)return 0;var $e=3*(this.config.lowLatencyMode&&He.partTarget||He.targetduration);return Math.max(He.age-$e,0)}},{key:"forwardBufferLength",get:function(){var He=this.media,$e=this.levelDetails;if(!He||!$e)return 0;var je=He.buffered.length;return(je?He.buffered.end(je-1):$e.edge)-this.currentTime}}]),t}(),da=["NONE","TYPE-0","TYPE-1",null],ua=["SDR","PQ","HLG"],ca=function(){function t(He,$e,je){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=He,this.part=$e,this.skip=je}return t.prototype.addDirectives=function(He){var $e=new self.URL(He);return void 0!==this.msn&&$e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&$e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&$e.searchParams.set("_HLS_skip",this.skip),$e.href},t}(),fa=function(){function t(He){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[He.url],this._attrs=[He.attrs],this.bitrate=He.bitrate,He.details&&(this.details=He.details),this.id=He.id||0,this.name=He.name,this.width=He.width||0,this.height=He.height||0,this.frameRate=He.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=He.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=He.audioCodec,this.videoCodec=He.videoCodec,this.codecSet=[He.videoCodec,He.audioCodec].filter((function(He){return!!He})).map((function(He){return He.substring(0,4)})).join(","),this.addGroupId("audio",He.attrs.AUDIO),this.addGroupId("text",He.attrs.SUBTITLES)}var He=t.prototype;return He.hasAudioGroup=function(He){return xe(this._audioGroups,He)},He.hasSubtitleGroup=function(He){return xe(this._subtitleGroups,He)},He.addGroupId=function(He,$e){if($e)if("audio"===He){var je=this._audioGroups;je||(je=this._audioGroups=[]),-1===je.indexOf($e)&&je.push($e)}else if("text"===He){var Ye=this._subtitleGroups;Ye||(Ye=this._subtitleGroups=[]),-1===Ye.indexOf($e)&&Ye.push($e)}},He.addFallback=function(){},n(t,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"averageBitrate",get:function(){return this._avgBitrate||this.realBitrate||this.bitrate}},{key:"attrs",get:function(){return this._attrs[0]}},{key:"codecs",get:function(){return this.attrs.CODECS||""}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"videoRange",get:function(){return this.attrs["VIDEO-RANGE"]||"SDR"}},{key:"score",get:function(){return this.attrs.optionalFloat("SCORE",0)}},{key:"uri",get:function(){return this.url[0]||""}},{key:"audioGroups",get:function(){return this._audioGroups}},{key:"subtitleGroups",get:function(){return this._subtitleGroups}},{key:"urlId",get:function(){return 0},set:function(He){}},{key:"audioGroupIds",get:function(){return this.audioGroups?[this.audioGroupId]:void 0}},{key:"textGroupIds",get:function(){return this.subtitleGroups?[this.textGroupId]:void 0}},{key:"audioGroupId",get:function(){var He;return null==(He=this.audioGroups)?void 0:He[0]}},{key:"textGroupId",get:function(){var He;return null==(He=this.subtitleGroups)?void 0:He[0]}}]),t}();function xe(He,$e){return!(!$e||!He)&&-1!==He.indexOf($e)}function we(He,$e){var je=$e.startPTS;if(Pi(je)){var Ye,ti=0;$e.sn>He.sn?(ti=je-He.start,Ye=He):(ti=He.start-je,Ye=$e),Ye.duration!==ti&&(Ye.duration=ti)}else $e.sn>He.sn?He.cc===$e.cc&&He.minEndPTS?$e.start=He.start+(He.minEndPTS-He.start):$e.start=He.start+He.duration:$e.start=Math.max(He.start-$e.duration,0)}function Qe(He,$e,je,Ye,ti,mi){Ye-je<=0&&(Hi.warn("Fragment should have a positive duration",$e),Ye=je+$e.duration,mi=ti+$e.duration);var _i=je,Mi=Ye,Fi=$e.startPTS,Oi=$e.endPTS;if(Pi(Fi)){var Ni=Math.abs(Fi-je);Pi($e.deltaPTS)?$e.deltaPTS=Math.max(Ni,$e.deltaPTS):$e.deltaPTS=Ni,_i=Math.max(je,Fi),je=Math.min(je,Fi),ti=Math.min(ti,$e.startDTS),Mi=Math.min(Ye,Oi),Ye=Math.max(Ye,Oi),mi=Math.max(mi,$e.endDTS)}var Ui=je-$e.start;0!==$e.start&&($e.start=je),$e.duration=Ye-$e.start,$e.startPTS=je,$e.maxStartPTS=_i,$e.startDTS=ti,$e.endPTS=Ye,$e.minEndPTS=Mi,$e.endDTS=mi;var Gi,Vi=$e.sn;if(!He||Vi<He.startSN||Vi>He.endSN)return 0;var zi=Vi-He.startSN,Ki=He.fragments;for(Ki[zi]=$e,Gi=zi;Gi>0;Gi--)we(Ki[Gi],Ki[Gi-1]);for(Gi=zi;Gi<Ki.length-1;Gi++)we(Ki[Gi],Ki[Gi+1]);return He.fragmentHint&&we(Ki[Ki.length-1],He.fragmentHint),He.PTSKnown=He.alignedSliding=!0,Ui}function Se(He,$e){var je=$e.startSN+$e.skippedSegments-He.startSN,Ye=He.fragments;je<0||je>=Ye.length||function(He,$e){if($e){for(var je=He.fragments,Ye=He.skippedSegments;Ye<je.length;Ye++)je[Ye].start+=$e;He.fragmentHint&&(He.fragmentHint.start+=$e)}}($e,Ye[je].start)}function be(He,$e,je){var Ye;return null!=He&&He.details?De(null==(Ye=He.details)?void 0:Ye.partList,$e,je):null}function De(He,$e,je){if(He)for(var Ye=He.length;Ye--;){var ti=He[Ye];if(ti.index===je&&ti.fragment.sn===$e)return ti}return null}function Re(He){He.forEach((function(He,$e){var je=He.details;null!=je&&je.fragments&&je.fragments.forEach((function(He){He.level=$e}))}))}function Le(He){switch(He.details){case Ui.FRAG_LOAD_TIMEOUT:case Ui.KEY_LOAD_TIMEOUT:case Ui.LEVEL_LOAD_TIMEOUT:case Ui.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Te(He,$e){var je=Le($e);return He.default[(je?"timeout":"error")+"Retry"]}function Me(He,$e){var je="linear"===He.backoff?1:Math.pow(2,$e);return Math.min(je*He.retryDelayMs,He.maxRetryDelayMs)}function Fe(He){return r(r({},He),{errorRetry:null,timeoutRetry:null})}function Pe(He,$e,je,Ye){if(!He)return!1;var ti,mi=null==Ye?void 0:Ye.code,_i=$e<He.maxNumRetry&&(0===(ti=mi)&&!1===navigator.onLine||!!ti&&(ti<400||ti>499)||!!je);return He.shouldRetry?He.shouldRetry(He,$e,je,Ye,_i):_i}var _e=function(He,$e){for(var je=0,Ye=He.length-1,ti=null,mi=null;je<=Ye;){var _i=$e(mi=He[ti=(je+Ye)/2|0]);if(_i>0)je=ti+1;else{if(!(_i<0))return mi;Ye=ti-1}}return null};function Ne(He,$e,je,Ye){void 0===je&&(je=0),void 0===Ye&&(Ye=0);var ti=null;if(He){ti=$e[He.sn-$e[0].sn+1]||null;var mi=He.endDTS-je;mi>0&&mi<15e-7&&(je+=15e-7)}else 0===je&&0===$e[0].start&&(ti=$e[0]);if(ti&&(!He||He.level===ti.level)&&0===Ue(je,Ye,ti))return ti;var _i=_e($e,Ue.bind(null,je,Ye));return!_i||_i===He&&ti?ti:_i}function Ue(He,$e,je){if(void 0===He&&(He=0),void 0===$e&&($e=0),je.start<=He&&je.start+je.duration>He)return 0;var Ye=Math.min($e,je.duration+(je.deltaPTS?je.deltaPTS:0));return je.start+je.duration-Ye<=He?1:je.start-Ye>He&&je.start?-1:0}function Ge(He,$e,je){var Ye=1e3*Math.min($e,je.duration+(je.deltaPTS?je.deltaPTS:0));return(je.endProgramDateTime||0)-Ye>He}var pa=function(){function t(He){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=He,this.log=Hi.log.bind(Hi,"[info]:"),this.warn=Hi.warn.bind(Hi,"[warning]:"),this.error=Hi.error.bind(Hi,"[error]:"),this.registerListeners()}var He=t.prototype;return He.registerListeners=function(){var He=this.hls;He.on(Oi.ERROR,this.onError,this),He.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.on(Oi.LEVEL_UPDATED,this.onLevelUpdated,this)},He.unregisterListeners=function(){var He=this.hls;He&&(He.off(Oi.ERROR,this.onError,this),He.off(Oi.ERROR,this.onErrorOut,this),He.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.off(Oi.LEVEL_UPDATED,this.onLevelUpdated,this))},He.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},He.startLoad=function(He){},He.stopLoad=function(){this.playlistError=0},He.getVariantLevelIndex=function(He){return(null==He?void 0:He.type)===Kr?He.level:this.hls.loadLevel},He.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},He.onLevelUpdated=function(){this.playlistError=0},He.onError=function(He,$e){var je,Ye;if(!$e.fatal){var ti=this.hls,mi=$e.context;switch($e.details){case Ui.FRAG_LOAD_ERROR:case Ui.FRAG_LOAD_TIMEOUT:case Ui.KEY_LOAD_ERROR:case Ui.KEY_LOAD_TIMEOUT:return void($e.errorAction=this.getFragRetryOrSwitchAction($e));case Ui.FRAG_PARSING_ERROR:if(null!=(je=$e.frag)&&je.gap)return void($e.errorAction={action:0,flags:0});case Ui.FRAG_GAP:case Ui.FRAG_DECRYPT_ERROR:return $e.errorAction=this.getFragRetryOrSwitchAction($e),void($e.errorAction.action=2);case Ui.LEVEL_EMPTY_ERROR:case Ui.LEVEL_PARSING_ERROR:var _i,Pi,Mi=$e.parent===Kr?$e.level:ti.loadLevel;return void($e.details===Ui.LEVEL_EMPTY_ERROR&&null!=(_i=$e.context)&&null!=(Pi=_i.levelDetails)&&Pi.live?$e.errorAction=this.getPlaylistRetryOrSwitchAction($e,Mi):($e.levelRetry=!1,$e.errorAction=this.getLevelSwitchAction($e,Mi)));case Ui.LEVEL_LOAD_ERROR:case Ui.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==mi?void 0:mi.level)&&($e.errorAction=this.getPlaylistRetryOrSwitchAction($e,mi.level)));case Ui.AUDIO_TRACK_LOAD_ERROR:case Ui.AUDIO_TRACK_LOAD_TIMEOUT:case Ui.SUBTITLE_LOAD_ERROR:case Ui.SUBTITLE_TRACK_LOAD_TIMEOUT:if(mi){var Fi=ti.levels[ti.loadLevel];if(Fi&&(mi.type===Wr&&Fi.hasAudioGroup(mi.groupId)||mi.type===zr&&Fi.hasSubtitleGroup(mi.groupId)))return $e.errorAction=this.getPlaylistRetryOrSwitchAction($e,ti.loadLevel),$e.errorAction.action=2,void($e.errorAction.flags=1)}return;case Ui.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var Oi=ti.levels[ti.loadLevel],Gi=null==Oi?void 0:Oi.attrs["HDCP-LEVEL"];return void(Gi?$e.errorAction={action:2,flags:2,hdcpLevel:Gi}:this.keySystemError($e));case Ui.BUFFER_ADD_CODEC_ERROR:case Ui.REMUX_ALLOC_ERROR:case Ui.BUFFER_APPEND_ERROR:return void($e.errorAction=this.getLevelSwitchAction($e,null!=(Ye=$e.level)?Ye:ti.loadLevel));case Ui.INTERNAL_EXCEPTION:case Ui.BUFFER_APPENDING_ERROR:case Ui.BUFFER_FULL_ERROR:case Ui.LEVEL_SWITCH_ERROR:case Ui.BUFFER_STALLED_ERROR:case Ui.BUFFER_SEEK_OVER_HOLE:case Ui.BUFFER_NUDGE_ON_STALL:return void($e.errorAction={action:0,flags:0})}$e.type===Ni.KEY_SYSTEM_ERROR&&this.keySystemError($e)}},He.keySystemError=function(He){var $e=this.getVariantLevelIndex(He.frag);He.levelRetry=!1,He.errorAction=this.getLevelSwitchAction(He,$e)},He.getPlaylistRetryOrSwitchAction=function(He,$e){var je=Te(this.hls.config.playlistLoadPolicy,He),Ye=this.playlistError++;if(Pe(je,Ye,Le(He),He.response))return{action:5,flags:0,retryConfig:je,retryCount:Ye};var ti=this.getLevelSwitchAction(He,$e);return je&&(ti.retryConfig=je,ti.retryCount=Ye),ti},He.getFragRetryOrSwitchAction=function(He){var $e=this.hls,je=this.getVariantLevelIndex(He.frag),Ye=$e.levels[je],ti=$e.config,mi=ti.fragLoadPolicy,_i=ti.keyLoadPolicy,Pi=Te(He.details.startsWith("key")?_i:mi,He),Mi=$e.levels.reduce((function(He,$e){return He+$e.fragmentError}),0);if(Ye&&(He.details!==Ui.FRAG_GAP&&Ye.fragmentError++,Pe(Pi,Mi,Le(He),He.response)))return{action:5,flags:0,retryConfig:Pi,retryCount:Mi};var Fi=this.getLevelSwitchAction(He,je);return Pi&&(Fi.retryConfig=Pi,Fi.retryCount=Mi),Fi},He.getLevelSwitchAction=function(He,$e){var je=this.hls;null==$e&&($e=je.loadLevel);var Ye=this.hls.levels[$e];if(Ye){var ti,mi,_i=He.details;Ye.loadError++,_i===Ui.BUFFER_APPEND_ERROR&&Ye.fragmentError++;var Pi=-1,Mi=je.levels,Fi=je.loadLevel,Oi=je.minAutoLevel,Ni=je.maxAutoLevel;je.autoLevelEnabled||(je.loadLevel=-1);for(var Gi,Vi=null==(ti=He.frag)?void 0:ti.type,Hi=(Vi===qr&&_i===Ui.FRAG_PARSING_ERROR||"audio"===He.sourceBufferName&&(_i===Ui.BUFFER_ADD_CODEC_ERROR||_i===Ui.BUFFER_APPEND_ERROR))&&Mi.some((function(He){var $e=He.audioCodec;return Ye.audioCodec!==$e})),zi="video"===He.sourceBufferName&&(_i===Ui.BUFFER_ADD_CODEC_ERROR||_i===Ui.BUFFER_APPEND_ERROR)&&Mi.some((function(He){var $e=He.codecSet,je=He.audioCodec;return Ye.codecSet!==$e&&Ye.audioCodec===je})),Ki=null!=(mi=He.context)?mi:{},ji=Ki.type,Yi=Ki.groupId,E=function(){var $e=(qi+Fi)%Mi.length;if($e!==Fi&&$e>=Oi&&$e<=Ni&&0===Mi[$e].loadError){var je,ti,mi=Mi[$e];if(_i===Ui.FRAG_GAP&&He.frag){var Gi=Mi[$e].details;if(Gi){var Ki=Ne(He.frag,Gi.fragments,He.frag.start);if(null!=Ki&&Ki.gap)return 0}}else{if(ji===Wr&&mi.hasAudioGroup(Yi)||ji===zr&&mi.hasSubtitleGroup(Yi))return 0;if(Vi===qr&&null!=(je=Ye.audioGroups)&&je.some((function(He){return mi.hasAudioGroup(He)}))||Vi===ta&&null!=(ti=Ye.subtitleGroups)&&ti.some((function(He){return mi.hasSubtitleGroup(He)}))||Hi&&Ye.audioCodec===mi.audioCodec||!Hi&&Ye.audioCodec!==mi.audioCodec||zi&&Ye.codecSet===mi.codecSet)return 0}return Pi=$e,1}},qi=Mi.length;qi--&&(0===(Gi=E())||1!==Gi););if(Pi>-1&&je.loadLevel!==Pi)return He.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:Pi}}return{action:2,flags:1}},He.onErrorOut=function(He,$e){var je;switch(null==(je=$e.errorAction)?void 0:je.action){case 0:break;case 2:this.sendAlternateToPenaltyBox($e),$e.errorAction.resolved||$e.details===Ui.FRAG_GAP?/MediaSource readyState: ended/.test($e.error.message)&&(this.warn('MediaSource ended after "'+$e.sourceBufferName+'" sourceBuffer append error. Attempting to recover from media error.'),this.hls.recoverMediaError()):$e.fatal=!0}$e.fatal&&this.hls.stopLoad()},He.sendAlternateToPenaltyBox=function(He){var $e=this.hls,je=He.errorAction;if(je){var Ye=je.flags,ti=je.hdcpLevel,mi=je.nextAutoLevel;switch(Ye){case 0:this.switchLevel(He,mi);break;case 2:ti&&($e.maxHdcpLevel=da[da.indexOf(ti)-1],je.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+$e.maxHdcpLevel+'" or lower')}je.resolved||this.switchLevel(He,mi)}},He.switchLevel=function(He,$e){void 0!==$e&&He.errorAction&&(this.warn("switching to level "+$e+" after "+He.details),this.hls.nextAutoLevel=$e,He.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},t}(),ma=function(){function t(He,$e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Hi.log.bind(Hi,$e+":"),this.warn=Hi.warn.bind(Hi,$e+":"),this.hls=He}var He=t.prototype;return He.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},He.clearTimer=function(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)},He.startLoad=function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()},He.stopLoad=function(){this.canLoad=!1,this.clearTimer()},He.switchParams=function(He,$e){var je=null==$e?void 0:$e.renditionReports;if(je){for(var Ye=-1,ti=0;ti<je.length;ti++){var mi=je[ti],_i=void 0;try{_i=new self.URL(mi.URI,$e.url).href}catch(He){Hi.warn("Could not construct new URL for Rendition Report: "+He),_i=mi.URI||""}if(_i===He){Ye=ti;break}_i===He.substring(0,_i.length)&&(Ye=ti)}if(-1!==Ye){var Pi=je[Ye],Mi=parseInt(Pi["LAST-MSN"])||(null==$e?void 0:$e.lastPartSn),Fi=parseInt(Pi["LAST-PART"])||(null==$e?void 0:$e.lastPartIndex);if(this.hls.config.lowLatencyMode){var Oi=Math.min($e.age-$e.partTarget,$e.targetduration);Fi>=0&&Oi>$e.partTarget&&(Fi+=1)}return new ca(Mi,Fi>=0?Fi:void 0,"")}}},He.loadPlaylist=function(He){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())},He.shouldLoadPlaylist=function(He){return this.canLoad&&!!He&&!!He.url&&(!He.details||He.details.live)},He.shouldReloadPlaylist=function(He){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(He)},He.playlistLoaded=function(He,$e,je){var Ye=this,ti=$e.details,mi=$e.stats,_i=self.performance.now(),Mi=mi.loading.first?Math.max(0,_i-mi.loading.first):0;if(ti.advancedDateTime=Date.now()-Mi,ti.live||null!=je&&je.live){if(ti.reloaded(je),je&&this.log("live playlist "+He+" "+(ti.advanced?"REFRESHED "+ti.lastPartSn+"-"+ti.lastPartIndex:ti.updated?"UPDATED":"MISSED")),je&&ti.fragments.length>0&&function(He,$e){for(var je=null,Ye=He.fragments,ti=Ye.length-1;ti>=0;ti--){var mi=Ye[ti].initSegment;if(mi){je=mi;break}}He.fragmentHint&&delete He.fragmentHint.endPTS;var _i,Mi,Fi,Oi,Ni,Ui=0;if(function(He,$e,je){for(var Ye=$e.skippedSegments,ti=Math.max(He.startSN,$e.startSN)-$e.startSN,mi=(He.fragmentHint?1:0)+(Ye?$e.endSN:Math.min(He.endSN,$e.endSN))-$e.startSN,_i=$e.startSN-He.startSN,Pi=$e.fragmentHint?$e.fragments.concat($e.fragmentHint):$e.fragments,Mi=He.fragmentHint?He.fragments.concat(He.fragmentHint):He.fragments,Fi=ti;Fi<=mi;Fi++){var Oi=Mi[_i+Fi],Ni=Pi[Fi];Ye&&!Ni&&Fi<Ye&&(Ni=$e.fragments[Fi]=Oi),Oi&&Ni&&je(Oi,Ni)}}(He,$e,(function(He,Ye){He.relurl&&(Ui=He.cc-Ye.cc),Pi(He.startPTS)&&Pi(He.endPTS)&&(Ye.start=Ye.startPTS=He.startPTS,Ye.startDTS=He.startDTS,Ye.maxStartPTS=He.maxStartPTS,Ye.endPTS=He.endPTS,Ye.endDTS=He.endDTS,Ye.minEndPTS=He.minEndPTS,Ye.duration=He.endPTS-He.startPTS,Ye.duration&&(_i=Ye),$e.PTSKnown=$e.alignedSliding=!0),Ye.elementaryStreams=He.elementaryStreams,Ye.loader=He.loader,Ye.stats=He.stats,He.initSegment&&(Ye.initSegment=He.initSegment,je=He.initSegment)})),je&&($e.fragmentHint?$e.fragments.concat($e.fragmentHint):$e.fragments).forEach((function(He){var $e;!He||He.initSegment&&He.initSegment.relurl!==(null==($e=je)?void 0:$e.relurl)||(He.initSegment=je)})),$e.skippedSegments)if($e.deltaUpdateFailed=$e.fragments.some((function(He){return!He})),$e.deltaUpdateFailed){Hi.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var Gi=$e.skippedSegments;Gi--;)$e.fragments.shift();$e.startSN=$e.fragments[0].sn,$e.startCC=$e.fragments[0].cc}else $e.canSkipDateRanges&&($e.dateRanges=(Mi=He.dateRanges,Fi=$e.dateRanges,Oi=$e.recentlyRemovedDateranges,Ni=o({},Mi),Oi&&Oi.forEach((function(He){delete Ni[He]})),Object.keys(Fi).forEach((function(He){var $e=new Yi(Fi[He].attr,Ni[He]);$e.isValid?Ni[He]=$e:Hi.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(Fi[He].attr)+'"')})),Ni));var Vi=$e.fragments;if(Ui){Hi.warn("discontinuity sliding from playlist, take drift into account");for(var zi=0;zi<Vi.length;zi++)Vi[zi].cc+=Ui}$e.skippedSegments&&($e.startCC=$e.fragments[0].cc),function(He,$e,je){if(He&&$e)for(var Ye=0,ti=0,mi=He.length;ti<=mi;ti++){var _i=He[ti],Pi=$e[ti+Ye];_i&&Pi&&_i.index===Pi.index&&_i.fragment.sn===Pi.fragment.sn?je(_i,Pi):Ye--}}(He.partList,$e.partList,(function(He,$e){$e.elementaryStreams=He.elementaryStreams,$e.stats=He.stats})),_i?Qe($e,_i,_i.startPTS,_i.endPTS,_i.startDTS,_i.endDTS):Se(He,$e),Vi.length&&($e.totalduration=$e.edge-Vi[0].start),$e.driftStartTime=He.driftStartTime,$e.driftStart=He.driftStart;var Ki=$e.advancedDateTime;if($e.advanced&&Ki){var ji=$e.edge;$e.driftStart||($e.driftStartTime=Ki,$e.driftStart=ji),$e.driftEndTime=Ki,$e.driftEnd=ji}else $e.driftEndTime=He.driftEndTime,$e.driftEnd=He.driftEnd,$e.advancedDateTime=He.advancedDateTime}(je,ti),!this.canLoad||!ti.live)return;var Fi,Oi=void 0,Ni=void 0;if(ti.canBlockReload&&ti.endSN&&ti.advanced){var Ui=this.hls.config.lowLatencyMode,Gi=ti.lastPartSn,Vi=ti.endSN,zi=ti.lastPartIndex,Ki=Gi===Vi;-1!==zi?(Oi=Ki?Vi+1:Gi,Ni=Ki?Ui?0:zi:zi+1):Oi=Vi+1;var ji=ti.age,qi=ji+ti.ageHeader,Xi=Math.min(qi-ti.partTarget,1.5*ti.targetduration);if(Xi>0){if(je&&Xi>je.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+je.tuneInGoal+" to: "+Xi+" with playlist age: "+ti.age),Xi=0;else{var lr=Math.floor(Xi/ti.targetduration);Oi+=lr,void 0!==Ni&&(Ni+=Math.round(Xi%ti.targetduration/ti.partTarget)),this.log("CDN Tune-in age: "+ti.ageHeader+"s last advanced "+ji.toFixed(2)+"s goal: "+Xi+" skip sn "+lr+" to part "+Ni)}ti.tuneInGoal=Xi}if(Fi=this.getDeliveryDirectives(ti,$e.deliveryDirectives,Oi,Ni),Ui||!Ki)return void this.loadPlaylist(Fi)}else(ti.canBlockReload||ti.canSkipUntil)&&(Fi=this.getDeliveryDirectives(ti,$e.deliveryDirectives,Oi,Ni));var hr=this.hls.mainForwardBufferInfo,dr=hr?hr.end-hr.len:0,ur=function(He,$e){void 0===$e&&($e=1/0);var je=1e3*He.targetduration;if(He.updated){var Ye=He.fragments;if(Ye.length&&4*je>$e){var ti=1e3*Ye[Ye.length-1].duration;ti<je&&(je=ti)}}else je/=2;return Math.round(je)}(ti,1e3*(ti.edge-dr));ti.updated&&_i>this.requestScheduled+ur&&(this.requestScheduled=mi.loading.start),void 0!==Oi&&ti.canBlockReload?this.requestScheduled=mi.loading.first+ur-(1e3*ti.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+ur<_i?this.requestScheduled=_i:this.requestScheduled-_i<=0&&(this.requestScheduled+=ur);var vr=this.requestScheduled-_i;vr=Math.max(0,vr),this.log("reload live playlist "+He+" in "+Math.round(vr)+" ms"),this.timer=self.setTimeout((function(){return Ye.loadPlaylist(Fi)}),vr)}else this.clearTimer()},He.getDeliveryDirectives=function(He,$e,je,Ye){var ti,mi,_i,Pi,Mi,Fi=(mi=je,_i=(ti=He).canSkipUntil,Pi=ti.canSkipDateRanges,Mi=ti.endSN,_i&&(void 0!==mi?mi-Mi:0)<_i?Pi?"v2":"YES":"");return null!=$e&&$e.skip&&He.deltaUpdateFailed&&(je=$e.msn,Ye=$e.part,Fi=""),new ca(je,Ye,Fi)},He.checkRetry=function(He){var $e=this,je=He.details,Ye=Le(He),ti=He.errorAction,mi=ti||{},_i=mi.action,Pi=mi.retryCount,Mi=void 0===Pi?0:Pi,Fi=mi.retryConfig,Oi=!!ti&&!!Fi&&(5===_i||!ti.resolved&&2===_i);if(Oi){var Ni;if(this.requestScheduled=-1,Mi>=Fi.maxNumRetry)return!1;if(Ye&&null!=(Ni=He.context)&&Ni.deliveryDirectives)this.warn("Retrying playlist loading "+(Mi+1)+"/"+Fi.maxNumRetry+' after "'+je+'" without delivery-directives'),this.loadPlaylist();else{var Ui=Me(Fi,Mi);this.timer=self.setTimeout((function(){return $e.loadPlaylist()}),Ui),this.warn("Retrying playlist loading "+(Mi+1)+"/"+Fi.maxNumRetry+' after "'+je+'" in '+Ui+"ms")}He.levelRetry=!0,ti.resolved=!0}return Oi},t}(),ga=function(){function t(He,$e,je){void 0===$e&&($e=0),void 0===je&&(je=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=He,this.alpha_=He?Math.exp(Math.log(.5)/He):0,this.estimate_=$e,this.totalWeight_=je}var He=t.prototype;return He.sample=function(He,$e){var je=Math.pow(this.alpha_,He);this.estimate_=$e*(1-je)+je*this.estimate_,this.totalWeight_+=He},He.getTotalWeight=function(){return this.totalWeight_},He.getEstimate=function(){if(this.alpha_){var He=1-Math.pow(this.alpha_,this.totalWeight_);if(He)return this.estimate_/He}return this.estimate_},t}(),va=function(){function t(He,$e,je,Ye){void 0===Ye&&(Ye=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=je,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new ga(He),this.fast_=new ga($e),this.defaultTTFB_=Ye,this.ttfb_=new ga(He)}var He=t.prototype;return He.update=function(He,$e){var je=this.slow_,Ye=this.fast_,ti=this.ttfb_;je.halfLife!==He&&(this.slow_=new ga(He,je.getEstimate(),je.getTotalWeight())),Ye.halfLife!==$e&&(this.fast_=new ga($e,Ye.getEstimate(),Ye.getTotalWeight())),ti.halfLife!==He&&(this.ttfb_=new ga(He,ti.getEstimate(),ti.getTotalWeight()))},He.sample=function(He,$e){var je=(He=Math.max(He,this.minDelayMs_))/1e3,Ye=8*$e/je;this.fast_.sample(je,Ye),this.slow_.sample(je,Ye)},He.sampleTTFB=function(He){var $e=He/1e3,je=Math.sqrt(2)*Math.exp(-Math.pow($e,2)/2);this.ttfb_.sample(je,Math.max(He,5))},He.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},He.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},He.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},He.destroy=function(){},t}();function Ve(He,$e){Hi.log('[abr] start candidates with "'+He+'" ignored because '+$e)}var ya=function(){function t(He){var $e=this;this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=function(){var He=$e.fragCurrent,je=$e.partCurrent,Ye=$e.hls,ti=Ye.autoLevelEnabled,mi=Ye.media;if(He&&mi){var _i=performance.now(),Mi=je?je.stats:He.stats,Fi=je?je.duration:He.duration,Ni=_i-Mi.loading.start,Ui=Ye.minAutoLevel;if(Mi.aborted||Mi.loaded&&Mi.loaded===Mi.total||He.level<=Ui)return $e.clearTimer(),void($e._nextAutoLevel=-1);if(ti&&!mi.paused&&mi.playbackRate&&mi.readyState){var Gi=Ye.mainForwardBufferInfo;if(null!==Gi){var Vi=$e.bwEstimator.getEstimateTTFB(),zi=Math.abs(mi.playbackRate);if(!(Ni<=Math.max(Vi,Fi/(2*zi)*1e3))){var Ki=Gi.len/zi,ji=Mi.loading.first?Mi.loading.first-Mi.loading.start:-1,Yi=Mi.loaded&&ji>-1,qi=$e.getBwEstimate(),Xi=Ye.levels,lr=Xi[He.level],hr=Mi.total||Math.max(Mi.loaded,Math.round(Fi*lr.maxBitrate/8)),dr=Yi?Ni-ji:Ni;dr<1&&Yi&&(dr=Math.min(Ni,8*Mi.loaded/qi));var ur=Yi?1e3*Mi.loaded/dr:0,vr=ur?(hr-Mi.loaded)/ur:8*hr/qi+Vi/1e3;if(!(vr<=Ki)){var yr,xr=ur?8*ur:qi,kr=Number.POSITIVE_INFINITY;for(yr=He.level-1;yr>Ui;yr--){var Er=Xi[yr].maxBitrate;if((kr=$e.getTimeToLoadFrag(Vi/1e3,xr,Fi*Er,!Xi[yr].details))<Ki)break}if(!(kr>=vr||kr>10*Fi)){Ye.nextLoadLevel=Ye.nextAutoLevel=yr,Yi?$e.bwEstimator.sample(Ni-Math.min(Vi,ji),Mi.loaded):$e.bwEstimator.sampleTTFB(Ni);var Tr=Xi[yr].bitrate;$e.getBwEstimate()*$e.hls.config.abrBandWidthUpFactor>Tr&&$e.resetEstimator(Tr),$e.clearTimer(),Hi.warn("[abr] Fragment "+He.sn+(je?" part "+je.index:"")+" of level "+He.level+" is loading too slowly;\n      Time to underbuffer: "+Ki.toFixed(3)+" s\n      Estimated load time for current fragment: "+vr.toFixed(3)+" s\n      Estimated load time for down switch fragment: "+kr.toFixed(3)+" s\n      TTFB estimate: "+(0|ji)+" ms\n      Current BW estimate: "+(Pi(qi)?0|qi:"Unknown")+" bps\n      New BW estimate: "+(0|$e.getBwEstimate())+" bps\n      Switching to level "+yr+" @ "+(0|Tr)+" bps"),Ye.trigger(Oi.FRAG_LOAD_EMERGENCY_ABORTED,{frag:He,part:je,stats:Mi})}}}}}}},this.hls=He,this.bwEstimator=this.initEstimator(),this.registerListeners()}var He=t.prototype;return He.resetEstimator=function(He){He&&(Hi.log("setting initial bwe to "+He),this.hls.config.abrEwmaDefaultEstimate=He),this.firstSelection=-1,this.bwEstimator=this.initEstimator()},He.initEstimator=function(){var He=this.hls.config;return new va(He.abrEwmaSlowVoD,He.abrEwmaFastVoD,He.abrEwmaDefaultEstimate)},He.registerListeners=function(){var He=this.hls;He.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.on(Oi.FRAG_LOADING,this.onFragLoading,this),He.on(Oi.FRAG_LOADED,this.onFragLoaded,this),He.on(Oi.FRAG_BUFFERED,this.onFragBuffered,this),He.on(Oi.LEVEL_SWITCHING,this.onLevelSwitching,this),He.on(Oi.LEVEL_LOADED,this.onLevelLoaded,this),He.on(Oi.LEVELS_UPDATED,this.onLevelsUpdated,this),He.on(Oi.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),He.on(Oi.ERROR,this.onError,this)},He.unregisterListeners=function(){var He=this.hls;He&&(He.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.off(Oi.FRAG_LOADING,this.onFragLoading,this),He.off(Oi.FRAG_LOADED,this.onFragLoaded,this),He.off(Oi.FRAG_BUFFERED,this.onFragBuffered,this),He.off(Oi.LEVEL_SWITCHING,this.onLevelSwitching,this),He.off(Oi.LEVEL_LOADED,this.onLevelLoaded,this),He.off(Oi.LEVELS_UPDATED,this.onLevelsUpdated,this),He.off(Oi.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),He.off(Oi.ERROR,this.onError,this))},He.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null},He.onManifestLoading=function(He,$e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()},He.onLevelsUpdated=function(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null},He.onMaxAutoLevelUpdated=function(){this.firstSelection=-1,this.nextAutoLevelKey=""},He.onFragLoading=function(He,$e){var je,Ye=$e.frag;this.ignoreFragment(Ye)||(Ye.bitrateTest||(this.fragCurrent=Ye,this.partCurrent=null!=(je=$e.part)?je:null),this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100))},He.onLevelSwitching=function(He,$e){this.clearTimer()},He.onError=function(He,$e){if(!$e.fatal)switch($e.details){case Ui.BUFFER_ADD_CODEC_ERROR:case Ui.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Ui.FRAG_LOAD_TIMEOUT:var je=$e.frag,Ye=this.fragCurrent,ti=this.partCurrent;if(je&&Ye&&je.sn===Ye.sn&&je.level===Ye.level){var mi=performance.now(),_i=ti?ti.stats:je.stats,Pi=mi-_i.loading.start,Mi=_i.loading.first?_i.loading.first-_i.loading.start:-1;if(_i.loaded&&Mi>-1){var Fi=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(Pi-Math.min(Fi,Mi),_i.loaded)}else this.bwEstimator.sampleTTFB(Pi)}}},He.getTimeToLoadFrag=function(He,$e,je,Ye){return He+je/$e+(Ye?this.lastLevelLoadSec:0)},He.onLevelLoaded=function(He,$e){var je=this.hls.config,Ye=$e.stats.loading,ti=Ye.end-Ye.start;Pi(ti)&&(this.lastLevelLoadSec=ti/1e3),$e.details.live?this.bwEstimator.update(je.abrEwmaSlowLive,je.abrEwmaFastLive):this.bwEstimator.update(je.abrEwmaSlowVoD,je.abrEwmaFastVoD)},He.onFragLoaded=function(He,$e){var je=$e.frag,Ye=$e.part,ti=Ye?Ye.stats:je.stats;if(je.type===Kr&&this.bwEstimator.sampleTTFB(ti.loading.first-ti.loading.start),!this.ignoreFragment(je)){if(this.clearTimer(),je.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){var mi=Ye?Ye.duration:je.duration,_i=this.hls.levels[je.level],Pi=(_i.loaded?_i.loaded.bytes:0)+ti.loaded,Mi=(_i.loaded?_i.loaded.duration:0)+mi;_i.loaded={bytes:Pi,duration:Mi},_i.realBitrate=Math.round(8*Pi/Mi)}if(je.bitrateTest){var Fi={stats:ti,frag:je,part:Ye,id:je.type};this.onFragBuffered(Oi.FRAG_BUFFERED,Fi),je.bitrateTest=!1}else this.lastLoadedFragLevel=je.level}},He.onFragBuffered=function(He,$e){var je=$e.frag,Ye=$e.part,ti=null!=Ye&&Ye.stats.loaded?Ye.stats:je.stats;if(!ti.aborted&&!this.ignoreFragment(je)){var mi=ti.parsing.end-ti.loading.start-Math.min(ti.loading.first-ti.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(mi,ti.loaded),ti.bwEstimate=this.getBwEstimate(),je.bitrateTest?this.bitrateTestDelay=mi/1e3:this.bitrateTestDelay=0}},He.ignoreFragment=function(He){return He.type!==Kr||"initSegment"===He.sn},He.clearTimer=function(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)},He.getAutoLevelKey=function(){var He;return this.getBwEstimate()+"_"+(null==(He=this.hls.mainForwardBufferInfo)?void 0:He.len)},He.getNextABRAutoLevel=function(){var He=this.fragCurrent,$e=this.partCurrent,je=this.hls,Ye=je.maxAutoLevel,ti=je.config,mi=je.minAutoLevel,_i=je.media,Pi=$e?$e.duration:He?He.duration:0,Mi=_i&&0!==_i.playbackRate?Math.abs(_i.playbackRate):1,Fi=this.getBwEstimate(),Oi=je.mainForwardBufferInfo,Ni=(Oi?Oi.len:0)/Mi,Ui=ti.abrBandWidthFactor,Gi=ti.abrBandWidthUpFactor;if(Ni){var Vi=this.findBestLevel(Fi,mi,Ye,Ni,0,Ui,Gi);if(Vi>=0)return Vi}var zi=Pi?Math.min(Pi,ti.maxStarvationDelay):ti.maxStarvationDelay;if(!Ni){var Ki=this.bitrateTestDelay;Ki&&(zi=(Pi?Math.min(Pi,ti.maxLoadingDelay):ti.maxLoadingDelay)-Ki,Hi.info("[abr] bitrate test took "+Math.round(1e3*Ki)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*zi)+" ms"),Ui=Gi=1)}var ji=this.findBestLevel(Fi,mi,Ye,Ni,zi,Ui,Gi);if(Hi.info("[abr] "+(Ni?"rebuffering expected":"buffer is empty")+", optimal quality level "+ji),ji>-1)return ji;var Yi=je.levels[mi],qi=je.levels[je.loadLevel];return(null==Yi?void 0:Yi.bitrate)<(null==qi?void 0:qi.bitrate)?mi:je.loadLevel},He.getBwEstimate=function(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate},He.findBestLevel=function(He,$e,je,Ye,ti,mi,_i){var Mi,Fi=this,Oi=Ye+ti,Ni=this.lastLoadedFragLevel,Ui=-1===Ni?this.hls.firstLevel:Ni,Gi=this.fragCurrent,Vi=this.partCurrent,zi=this.hls,Ki=zi.levels,ji=zi.allAudioTracks,Yi=zi.loadLevel,qi=zi.config;if(1===Ki.length)return 0;var Xi,lr=Ki[Ui],hr=!(null==lr||null==(Mi=lr.details)||!Mi.live),dr=-1===Yi||-1===Ni,ur="SDR",vr=(null==lr?void 0:lr.frameRate)||0,yr=qi.audioPreference,xr=qi.videoPreference,kr=this.audioTracksByGroup||(this.audioTracksByGroup=ji.reduce((function(He,$e){var je=He.groups[$e.groupId];je||(je=He.groups[$e.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),je.tracks.push($e);var Ye=$e.channels||"2";return je.channels[Ye]=(je.channels[Ye]||0)+1,je.hasDefault=je.hasDefault||$e.default,je.hasAutoSelect=je.hasAutoSelect||$e.autoselect,je.hasDefault&&(He.hasDefaultAudio=!0),je.hasAutoSelect&&(He.hasAutoSelectAudio=!0),He}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}}));if(dr){if(-1!==this.firstSelection)return this.firstSelection;var Er=this.codecTiers||(this.codecTiers=function(He,$e,je,Ye){return He.slice(je,Ye+1).reduce((function(He,je){if(!je.codecSet)return He;var Ye=je.audioGroups,ti=He[je.codecSet];ti||(He[je.codecSet]=ti={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!Ye,fragmentError:0}),ti.minBitrate=Math.min(ti.minBitrate,je.bitrate);var mi=Math.min(je.height,je.width);return ti.minHeight=Math.min(ti.minHeight,mi),ti.minFramerate=Math.min(ti.minFramerate,je.frameRate),ti.maxScore=Math.max(ti.maxScore,je.score),ti.fragmentError+=je.fragmentError,ti.videoRanges[je.videoRange]=(ti.videoRanges[je.videoRange]||0)+1,Ye&&Ye.forEach((function(He){if(He){var je=$e.groups[He];ti.hasDefaultAudio=ti.hasDefaultAudio||$e.hasDefaultAudio?je.hasDefault:je.hasAutoSelect||!$e.hasDefaultAudio&&!$e.hasAutoSelectAudio,Object.keys(je.channels).forEach((function(He){ti.channels[He]=(ti.channels[He]||0)+je.channels[He]}))}})),He}),{})}(Ki,kr,$e,je)),Tr=function(He,$e,je,Ye,ti){for(var mi=Object.keys(He),_i=null==Ye?void 0:Ye.channels,Mi=null==Ye?void 0:Ye.audioCodec,Fi=_i&&2===parseInt(_i),Oi=!0,Ni=!1,Ui=1/0,Gi=1/0,Vi=1/0,Hi=0,zi=[],Ki=function(He,$e){var je=!1,Ye=[];return He&&(je="SDR"!==He,Ye=[He]),$e&&(Ye=$e.allowedVideoRanges||ua.slice(0),Ye=(je=void 0!==$e.preferHDR?$e.preferHDR:function(){if("function"==typeof matchMedia){var He=matchMedia("(dynamic-range: high)"),$e=matchMedia("bad query");if(He.media!==$e.media)return!0===He.matches}return!1}())?Ye.filter((function(He){return"SDR"!==He})):["SDR"]),{preferHDR:je,allowedVideoRanges:Ye}}($e,ti),ji=Ki.preferHDR,Yi=Ki.allowedVideoRanges,E=function(){var $e=He[mi[qi]];Oi=$e.channels[2]>0,Ui=Math.min(Ui,$e.minHeight),Gi=Math.min(Gi,$e.minFramerate),Vi=Math.min(Vi,$e.minBitrate);var je=Yi.filter((function(He){return $e.videoRanges[He]>0}));je.length>0&&(Ni=!0,zi=je)},qi=mi.length;qi--;)E();Ui=Pi(Ui)?Ui:0,Gi=Pi(Gi)?Gi:0;var Xi=Math.max(1080,Ui),lr=Math.max(30,Gi);return Vi=Pi(Vi)?Vi:je,je=Math.max(Vi,je),Ni||($e=void 0,zi=[]),{codecSet:mi.reduce((function($e,Ye){var ti=He[Ye];if(Ye===$e)return $e;if(ti.minBitrate>je)return Ve(Ye,"min bitrate of "+ti.minBitrate+" > current estimate of "+je),$e;if(!ti.hasDefaultAudio)return Ve(Ye,"no renditions with default or auto-select sound found"),$e;if(Mi&&Ye.indexOf(Mi.substring(0,4))%5!=0)return Ve(Ye,'audio codec preference "'+Mi+'" not found'),$e;if(_i&&!Fi){if(!ti.channels[_i])return Ve(Ye,"no renditions with "+_i+" channel sound found (channels options: "+Object.keys(ti.channels)+")"),$e}else if((!Mi||Fi)&&Oi&&0===ti.channels[2])return Ve(Ye,"no renditions with stereo sound found"),$e;return ti.minHeight>Xi?(Ve(Ye,"min resolution of "+ti.minHeight+" > maximum of "+Xi),$e):ti.minFramerate>lr?(Ve(Ye,"min framerate of "+ti.minFramerate+" > maximum of "+lr),$e):zi.some((function(He){return ti.videoRanges[He]>0}))?ti.maxScore<Hi?(Ve(Ye,"max score of "+ti.maxScore+" < selected max of "+Hi),$e):$e&&(Nt(Ye)>=Nt($e)||ti.fragmentError>He[$e].fragmentError)?$e:(Hi=ti.maxScore,Ye):(Ve(Ye,"no variants with VIDEO-RANGE of "+JSON.stringify(zi)+" found"),$e)}),void 0),videoRanges:zi,preferHDR:ji,minFramerate:Gi,minBitrate:Vi}}(Er,ur,He,yr,xr),Ar=Tr.codecSet,wr=Tr.videoRanges,Lr=Tr.minFramerate,_r=Tr.minBitrate,Cr=Tr.preferHDR;Xi=Ar,ur=Cr?wr[wr.length-1]:wr[0],vr=Lr,He=Math.max(He,_r),Hi.log("[abr] picked start tier "+JSON.stringify(Tr))}else Xi=null==lr?void 0:lr.codecSet,ur=null==lr?void 0:lr.videoRange;for(var Ir,Mr=Vi?Vi.duration:Gi?Gi.duration:0,Fr=this.bwEstimator.getEstimateTTFB()/1e3,Br=[],O=function(){var $e,Mi,Gi=Ki[Nr],zi=Nr>Ui;if(!Gi)return 0;if(Xi&&Gi.codecSet!==Xi||ur&&Gi.videoRange!==ur||zi&&vr>Gi.frameRate||!zi&&vr>0&&vr<Gi.frameRate||null==($e=Gi.supportedResult)||null==(Mi=$e.decodingInfoResults)||!Mi[0].smooth)return Br.push(Nr),0;var ji,qi=Gi.details,yr=(Vi?null==qi?void 0:qi.partTarget:null==qi?void 0:qi.averagetargetduration)||Mr;ji=zi?_i*He:mi*He;var xr=Mr&&Ye>=2*Mr&&0===ti?Ki[Nr].averageBitrate:Ki[Nr].maxBitrate,kr=Fi.getTimeToLoadFrag(Fr,ji,xr*yr,void 0===qi);if(ji>=xr&&(Nr===Ni||0===Gi.loadError&&0===Gi.fragmentError)&&(kr<=Fr||!Pi(kr)||hr&&!Fi.bitrateTestDelay||kr<Oi)){var Er=Fi.forcedAutoLevel;return Nr===Yi||-1!==Er&&Er===Yi||(Br.length&&Hi.trace("[abr] Skipped level(s) "+Br.join(",")+" of "+je+' max with CODECS and VIDEO-RANGE:"'+Ki[Br[0]].codecs+'" '+Ki[Br[0]].videoRange+'; not compatible with "'+lr.codecs+'" '+ur),Hi.info("[abr] switch candidate:"+Ui+"->"+Nr+" adjustedbw("+Math.round(ji)+")-bitrate="+Math.round(ji-xr)+" ttfb:"+Fr.toFixed(1)+" avgDuration:"+yr.toFixed(1)+" maxFetchDuration:"+Oi.toFixed(1)+" fetchDuration:"+kr.toFixed(1)+" firstSelection:"+dr+" codecSet:"+Xi+" videoRange:"+ur+" hls.loadLevel:"+Yi)),dr&&(Fi.firstSelection=Nr),{v:Nr}}},Nr=je;Nr>=$e;Nr--)if(0!==(Ir=O())&&Ir)return Ir.v;return-1},n(t,[{key:"firstAutoLevel",get:function(){var He=this.hls,$e=He.maxAutoLevel,je=He.minAutoLevel,Ye=this.getBwEstimate(),ti=this.hls.config.maxStarvationDelay,mi=this.findBestLevel(Ye,je,$e,0,ti,1,1);if(mi>-1)return mi;var _i=this.hls.firstLevel,Pi=Math.min(Math.max(_i,je),$e);return Hi.warn("[abr] Could not find best starting auto level. Defaulting to first in playlist "+_i+" clamped to "+Pi),Pi}},{key:"forcedAutoLevel",get:function(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}},{key:"nextAutoLevel",get:function(){var He=this.forcedAutoLevel,$e=this.bwEstimator.canEstimate(),je=this.lastLoadedFragLevel>-1;if(!(-1===He||$e&&je&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return He;var Ye=$e&&je?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==He){var ti=this.hls.levels;if(ti.length>Math.max(He,Ye)&&ti[He].loadError<=ti[Ye].loadError)return He}return this._nextAutoLevel=Ye,this.nextAutoLevelKey=this.getAutoLevelKey(),Ye},set:function(He){var $e=Math.max(this.hls.minAutoLevel,He);this._nextAutoLevel!=$e&&(this.nextAutoLevelKey="",this._nextAutoLevel=$e)}}]),t}(),xa={length:0,start:function(){return 0},end:function(){return 0}},ka=function(){function t(){}return t.isBuffered=function(He,$e){try{if(He)for(var je=t.getBuffered(He),Ye=0;Ye<je.length;Ye++)if($e>=je.start(Ye)&&$e<=je.end(Ye))return!0}catch(He){}return!1},t.bufferInfo=function(He,$e,je){try{if(He){var Ye,ti=t.getBuffered(He),mi=[];for(Ye=0;Ye<ti.length;Ye++)mi.push({start:ti.start(Ye),end:ti.end(Ye)});return this.bufferedInfo(mi,$e,je)}}catch(He){}return{len:0,start:$e,end:$e,nextStart:void 0}},t.bufferedInfo=function(He,$e,je){$e=Math.max(0,$e),He.sort((function(He,$e){return He.start-$e.start||$e.end-He.end}));var Ye=[];if(je)for(var ti=0;ti<He.length;ti++){var mi=Ye.length;if(mi){var _i=Ye[mi-1].end;He[ti].start-_i<je?He[ti].end>_i&&(Ye[mi-1].end=He[ti].end):Ye.push(He[ti])}else Ye.push(He[ti])}else Ye=He;for(var Pi,Mi=0,Fi=$e,Oi=$e,Ni=0;Ni<Ye.length;Ni++){var Ui=Ye[Ni].start,Gi=Ye[Ni].end;if($e+je>=Ui&&$e<Gi)Fi=Ui,Mi=(Oi=Gi)-$e;else if($e+je<Ui){Pi=Ui;break}}return{len:Mi,start:Fi||0,end:Oi||0,nextStart:Pi}},t.getBuffered=function(He){try{return He.buffered}catch(He){return Hi.log("failed to get media.buffered",He),xa}},t}(),Ea=function(){function t(He){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=He}var He=t.prototype;return He.append=function(He,$e,je){var Ye=this.queues[$e];Ye.push(He),1!==Ye.length||je||this.executeNext($e)},He.insertAbort=function(He,$e){this.queues[$e].unshift(He),this.executeNext($e)},He.appendBlocker=function(He){var $e,je=new Promise((function(He){$e=He})),Ye={execute:$e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(Ye,He),je},He.executeNext=function(He){var $e=this.queues[He];if($e.length){var je=$e[0];try{je.execute()}catch($e){Hi.warn('[buffer-operation-queue]: Exception executing "'+He+'" SourceBuffer operation: '+$e),je.onError($e);var Ye=this.buffers[He];null!=Ye&&Ye.updating||this.shiftAndExecuteNext(He)}}},He.shiftAndExecuteNext=function(He){this.queues[He].shift(),this.executeNext(He)},He.current=function(He){return this.queues[He][0]},t}(),ba=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Ta=function(){function t(He){var $e=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=function(He){$e.hls&&$e.hls.pauseBuffering()},this._onStartStreaming=function(He){$e.hls&&$e.hls.resumeBuffering()},this._onMediaSourceOpen=function(){var He=$e.media,je=$e.mediaSource;$e.log("Media source opened"),He&&(He.removeEventListener("emptied",$e._onMediaEmptied),$e.updateMediaElementDuration(),$e.hls.trigger(Oi.MEDIA_ATTACHED,{media:He,mediaSource:je})),je&&je.removeEventListener("sourceopen",$e._onMediaSourceOpen),$e.checkPendingTracks()},this._onMediaSourceClose=function(){$e.log("Media source closed")},this._onMediaSourceEnded=function(){$e.log("Media source ended")},this._onMediaEmptied=function(){var He=$e.mediaSrc,je=$e._objectUrl;He!==je&&Hi.error("Media element src was set while attaching MediaSource ("+je+" > "+He+")")},this.hls=He;var je="[buffer-controller]";this.appendSource=He.config.preferManagedMediaSource,this.log=Hi.log.bind(Hi,je),this.warn=Hi.warn.bind(Hi,je),this.error=Hi.error.bind(Hi,je),this._initSourceBuffer(),this.registerListeners()}var He=t.prototype;return He.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},He.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null},He.registerListeners=function(){var He=this.hls;He.on(Oi.MEDIA_ATTACHING,this.onMediaAttaching,this),He.on(Oi.MEDIA_DETACHING,this.onMediaDetaching,this),He.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.on(Oi.MANIFEST_PARSED,this.onManifestParsed,this),He.on(Oi.BUFFER_RESET,this.onBufferReset,this),He.on(Oi.BUFFER_APPENDING,this.onBufferAppending,this),He.on(Oi.BUFFER_CODECS,this.onBufferCodecs,this),He.on(Oi.BUFFER_EOS,this.onBufferEos,this),He.on(Oi.BUFFER_FLUSHING,this.onBufferFlushing,this),He.on(Oi.LEVEL_UPDATED,this.onLevelUpdated,this),He.on(Oi.FRAG_PARSED,this.onFragParsed,this),He.on(Oi.FRAG_CHANGED,this.onFragChanged,this)},He.unregisterListeners=function(){var He=this.hls;He.off(Oi.MEDIA_ATTACHING,this.onMediaAttaching,this),He.off(Oi.MEDIA_DETACHING,this.onMediaDetaching,this),He.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.off(Oi.MANIFEST_PARSED,this.onManifestParsed,this),He.off(Oi.BUFFER_RESET,this.onBufferReset,this),He.off(Oi.BUFFER_APPENDING,this.onBufferAppending,this),He.off(Oi.BUFFER_CODECS,this.onBufferCodecs,this),He.off(Oi.BUFFER_EOS,this.onBufferEos,this),He.off(Oi.BUFFER_FLUSHING,this.onBufferFlushing,this),He.off(Oi.LEVEL_UPDATED,this.onLevelUpdated,this),He.off(Oi.FRAG_PARSED,this.onFragParsed,this),He.off(Oi.FRAG_CHANGED,this.onFragChanged,this)},He._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new Ea(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null},He.onManifestLoading=function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null},He.onManifestParsed=function(He,$e){$e.audio&&!$e.video||$e.altAudio,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=1,this.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},He.onMediaAttaching=function(He,$e){var je,Ye,ti,mi=this.media=$e.media,_i=Lt(this.appendSource);if(mi&&_i){var Pi,Mi=this.mediaSource=new _i;this.log("created media source: "+(null==(Pi=Mi.constructor)?void 0:Pi.name)),Mi.addEventListener("sourceopen",this._onMediaSourceOpen),Mi.addEventListener("sourceended",this._onMediaSourceEnded),Mi.addEventListener("sourceclose",this._onMediaSourceClose),Mi.addEventListener("startstreaming",this._onStartStreaming),Mi.addEventListener("endstreaming",this._onEndStreaming);var Fi=this._objectUrl=self.URL.createObjectURL(Mi);if(this.appendSource)try{mi.removeAttribute("src");var Oi=self.ManagedMediaSource;mi.disableRemotePlayback=mi.disableRemotePlayback||Oi&&Mi instanceof Oi,Xe(mi),je=mi,Ye=Fi,(ti=self.document.createElement("source")).type="video/mp4",ti.src=Ye,je.appendChild(ti),mi.load()}catch(je){mi.src=Fi}else mi.src=Fi;mi.addEventListener("emptied",this._onMediaEmptied)}},He.onMediaDetaching=function(){var He=this.media,$e=this.mediaSource,je=this._objectUrl;if($e){if(this.log("media source detaching"),"open"===$e.readyState)try{$e.endOfStream()}catch(He){this.warn("onMediaDetaching: "+He.message+" while calling endOfStream")}this.onBufferReset(),$e.removeEventListener("sourceopen",this._onMediaSourceOpen),$e.removeEventListener("sourceended",this._onMediaSourceEnded),$e.removeEventListener("sourceclose",this._onMediaSourceClose),$e.removeEventListener("startstreaming",this._onStartStreaming),$e.removeEventListener("endstreaming",this._onEndStreaming),He&&(He.removeEventListener("emptied",this._onMediaEmptied),je&&self.URL.revokeObjectURL(je),this.mediaSrc===je?(He.removeAttribute("src"),this.appendSource&&Xe(He),He.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Oi.MEDIA_DETACHED,void 0)},He.onBufferReset=function(){var He=this;this.getSourceBufferTypes().forEach((function($e){He.resetBuffer($e)})),this._initSourceBuffer()},He.resetBuffer=function(He){var $e=this.sourceBuffer[He];try{var je;$e&&(this.removeBufferListeners(He),this.sourceBuffer[He]=void 0,null!=(je=this.mediaSource)&&je.sourceBuffers.length&&this.mediaSource.removeSourceBuffer($e))}catch($e){this.warn("onBufferReset "+He,$e)}},He.onBufferCodecs=function(He,$e){var je=this,Ye=this.getSourceBufferTypes().length,ti=Object.keys($e);if(ti.forEach((function(He){if(Ye){var ti=je.tracks[He];if(ti&&"function"==typeof ti.buffer.changeType){var mi,_i=$e[He],Pi=_i.id,Mi=_i.codec,Fi=_i.levelCodec,Oi=_i.container,Ni=_i.metadata,Ui=jt(ti.codec,ti.levelCodec),Gi=null==Ui?void 0:Ui.replace(ba,"$1"),Vi=jt(Mi,Fi),Hi=null==(mi=Vi)?void 0:mi.replace(ba,"$1");if(Vi&&Gi!==Hi){"audio"===He.slice(0,5)&&(Vi=Ot(Vi,je.hls.config.preferManagedMediaSource));var zi=Oi+";codecs="+Vi;je.appendChangeType(He,zi),je.log("switching codec "+Ui+" to "+Vi),je.tracks[He]={buffer:ti.buffer,codec:Mi,container:Oi,levelCodec:Fi,metadata:Ni,id:Pi}}}}else je.pendingTracks[He]=$e[He]})),!Ye){var mi=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==mi&&(this.log(mi+" bufferCodec event(s) expected "+ti.join(",")),this.bufferCodecEventsExpected=mi),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}},He.appendChangeType=function(He,$e){var je=this,Ye=this.operationQueue,ti={execute:function(){var ti=je.sourceBuffer[He];ti&&(je.log("changing "+He+" sourceBuffer type to "+$e),ti.changeType($e)),Ye.shiftAndExecuteNext(He)},onStart:function(){},onComplete:function(){},onError:function($e){je.warn("Failed to change "+He+" SourceBuffer type",$e)}};Ye.append(ti,He,!!this.pendingTracks[He])},He.onBufferAppending=function(He,$e){var je=this,Ye=this.hls,ti=this.operationQueue,mi=this.tracks,_i=$e.data,Pi=$e.type,Mi=$e.frag,Fi=$e.part,Gi=$e.chunkMeta,Vi=Gi.buffering[Pi],Hi=self.performance.now();Vi.start=Hi;var zi=Mi.stats.buffering,Ki=Fi?Fi.stats.buffering:null;0===zi.start&&(zi.start=Hi),Ki&&0===Ki.start&&(Ki.start=Hi);var ji=mi.audio,Yi=!1;"audio"===Pi&&"audio/mpeg"===(null==ji?void 0:ji.container)&&(Yi=!this.lastMpegAudioChunk||1===Gi.id||this.lastMpegAudioChunk.sn!==Gi.sn,this.lastMpegAudioChunk=Gi);var qi=Mi.start,Xi={execute:function(){if(Vi.executeStart=self.performance.now(),Yi){var He=je.sourceBuffer[Pi];if(He){var $e=qi-He.timestampOffset;Math.abs($e)>=.1&&(je.log("Updating audio SourceBuffer timestampOffset to "+qi+" (delta: "+$e+") sn: "+Mi.sn+")"),He.timestampOffset=qi)}}je.appendExecutor(_i,Pi)},onStart:function(){},onComplete:function(){var He=self.performance.now();Vi.executeEnd=Vi.end=He,0===zi.first&&(zi.first=He),Ki&&0===Ki.first&&(Ki.first=He);var $e=je.sourceBuffer,Ye={};for(var ti in $e)Ye[ti]=ka.getBuffered($e[ti]);je.appendErrors[Pi]=0,"audio"===Pi||"video"===Pi?je.appendErrors.audiovideo=0:(je.appendErrors.audio=0,je.appendErrors.video=0),je.hls.trigger(Oi.BUFFER_APPENDED,{type:Pi,frag:Mi,part:Fi,chunkMeta:Gi,parent:Mi.type,timeRanges:Ye})},onError:function(He){var $e={type:Ni.MEDIA_ERROR,parent:Mi.type,details:Ui.BUFFER_APPEND_ERROR,sourceBufferName:Pi,frag:Mi,part:Fi,chunkMeta:Gi,error:He,err:He,fatal:!1};if(He.code===DOMException.QUOTA_EXCEEDED_ERR)$e.details=Ui.BUFFER_FULL_ERROR;else{var ti=++je.appendErrors[Pi];$e.details=Ui.BUFFER_APPEND_ERROR,je.warn("Failed "+ti+"/"+Ye.config.appendErrorMaxRetry+' times to append segment in "'+Pi+'" sourceBuffer'),ti>=Ye.config.appendErrorMaxRetry&&($e.fatal=!0)}Ye.trigger(Oi.ERROR,$e)}};ti.append(Xi,Pi,!!this.pendingTracks[Pi])},He.onBufferFlushing=function(He,$e){var je=this,Ye=this.operationQueue,a=function(He){return{execute:je.removeExecutor.bind(je,He,$e.startOffset,$e.endOffset),onStart:function(){},onComplete:function(){je.hls.trigger(Oi.BUFFER_FLUSHED,{type:He})},onError:function($e){je.warn("Failed to remove from "+He+" SourceBuffer",$e)}}};$e.type?Ye.append(a($e.type),$e.type):this.getSourceBufferTypes().forEach((function(He){Ye.append(a(He),He)}))},He.onFragParsed=function(He,$e){var je=this,Ye=$e.frag,ti=$e.part,mi=[],_i=ti?ti.elementaryStreams:Ye.elementaryStreams;_i[lr]?mi.push("audiovideo"):(_i[qi]&&mi.push("audio"),_i[Xi]&&mi.push("video")),0===mi.length&&this.warn("Fragments must have at least one ElementaryStreamType set. type: "+Ye.type+" level: "+Ye.level+" sn: "+Ye.sn),this.blockBuffers((function(){var He=self.performance.now();Ye.stats.buffering.end=He,ti&&(ti.stats.buffering.end=He);var $e=ti?ti.stats:Ye.stats;je.hls.trigger(Oi.FRAG_BUFFERED,{frag:Ye,part:ti,stats:$e,id:Ye.type})}),mi)},He.onFragChanged=function(He,$e){this.trimBuffers()},He.onBufferEos=function(He,$e){var je=this;this.getSourceBufferTypes().reduce((function(He,Ye){var ti=je.sourceBuffer[Ye];return!ti||$e.type&&$e.type!==Ye||(ti.ending=!0,ti.ended||(ti.ended=!0,je.log(Ye+" sourceBuffer now EOS"))),He&&!(ti&&!ti.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){je.getSourceBufferTypes().forEach((function(He){var $e=je.sourceBuffer[He];$e&&($e.ending=!1)}));var He=je.mediaSource;He&&"open"===He.readyState?(je.log("Calling mediaSource.endOfStream()"),He.endOfStream()):He&&je.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: "+He.readyState)})))},He.onLevelUpdated=function(He,$e){var je=$e.details;je.fragments.length&&(this.details=je,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},He.trimBuffers=function(){var He=this.hls,$e=this.details,je=this.media;if(je&&null!==$e&&this.getSourceBufferTypes().length){var Ye=He.config,ti=je.currentTime,mi=$e.levelTargetDuration,_i=$e.live&&null!==Ye.liveBackBufferLength?Ye.liveBackBufferLength:Ye.backBufferLength;if(Pi(_i)&&_i>0){var Mi=Math.max(_i,mi),Fi=Math.floor(ti/mi)*mi-Mi;this.flushBackBuffer(ti,mi,Fi)}if(Pi(Ye.frontBufferFlushThreshold)&&Ye.frontBufferFlushThreshold>0){var Oi=Math.max(Ye.maxBufferLength,Ye.frontBufferFlushThreshold),Ni=Math.max(Oi,mi),Ui=Math.floor(ti/mi)*mi+Ni;this.flushFrontBuffer(ti,mi,Ui)}}},He.flushBackBuffer=function(He,$e,je){var Ye=this,ti=this.details,mi=this.sourceBuffer;this.getSourceBufferTypes().forEach((function(_i){var Pi=mi[_i];if(Pi){var Mi=ka.getBuffered(Pi);if(Mi.length>0&&je>Mi.start(0)){if(Ye.hls.trigger(Oi.BACK_BUFFER_REACHED,{bufferEnd:je}),null!=ti&&ti.live)Ye.hls.trigger(Oi.LIVE_BACK_BUFFER_REACHED,{bufferEnd:je});else if(Pi.ended&&Mi.end(Mi.length-1)-He<2*$e)return void Ye.log("Cannot flush "+_i+" back buffer while SourceBuffer is in ended state");Ye.hls.trigger(Oi.BUFFER_FLUSHING,{startOffset:0,endOffset:je,type:_i})}}}))},He.flushFrontBuffer=function(He,$e,je){var Ye=this,ti=this.sourceBuffer;this.getSourceBufferTypes().forEach((function(mi){var _i=ti[mi];if(_i){var Pi=ka.getBuffered(_i),Mi=Pi.length;if(Mi<2)return;var Fi=Pi.start(Mi-1),Ni=Pi.end(Mi-1);if(je>Fi||He>=Fi&&He<=Ni)return;if(_i.ended&&He-Ni<2*$e)return void Ye.log("Cannot flush "+mi+" front buffer while SourceBuffer is in ended state");Ye.hls.trigger(Oi.BUFFER_FLUSHING,{startOffset:Fi,endOffset:1/0,type:mi})}}))},He.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var He=this.details,$e=this.hls,je=this.media,Ye=this.mediaSource,ti=He.fragments[0].start+He.totalduration,mi=je.duration,_i=Pi(Ye.duration)?Ye.duration:0;He.live&&$e.config.liveDurationInfinity?(Ye.duration=1/0,this.updateSeekableRange(He)):(ti>_i&&ti>mi||!Pi(mi))&&(this.log("Updating Media Source duration to "+ti.toFixed(3)),Ye.duration=ti)}},He.updateSeekableRange=function(He){var $e=this.mediaSource,je=He.fragments;if(je.length&&He.live&&null!=$e&&$e.setLiveSeekableRange){var Ye=Math.max(0,je[0].start),ti=Math.max(Ye,Ye+He.totalduration);this.log("Media Source duration is set to "+$e.duration+". Setting seekable range to "+Ye+"-"+ti+"."),$e.setLiveSeekableRange(Ye,ti)}},He.checkPendingTracks=function(){var He=this.bufferCodecEventsExpected,$e=this.operationQueue,je=this.pendingTracks,Ye=Object.keys(je).length;if(Ye&&(!He||2===Ye||"audiovideo"in je)){this.createSourceBuffers(je),this.pendingTracks={};var ti=this.getSourceBufferTypes();if(ti.length)this.hls.trigger(Oi.BUFFER_CREATED,{tracks:this.tracks}),ti.forEach((function(He){$e.executeNext(He)}));else{var mi=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:mi,reason:mi.message})}}},He.createSourceBuffers=function(He){var $e=this,je=this.sourceBuffer,Ye=this.mediaSource;if(!Ye)throw Error("createSourceBuffers called when mediaSource was null");var a=function(ti){if(!je[ti]){var mi=He[ti];if(!mi)throw Error("source buffer exists for track "+ti+", however track does not");var _i=mi.levelCodec||mi.codec;_i&&"audio"===ti.slice(0,5)&&(_i=Ot(_i,$e.hls.config.preferManagedMediaSource));var Pi=mi.container+";codecs="+_i;$e.log("creating sourceBuffer("+Pi+")");try{var Mi=je[ti]=Ye.addSourceBuffer(Pi),Fi=ti;$e.addBufferListener(Fi,"updatestart",$e._onSBUpdateStart),$e.addBufferListener(Fi,"updateend",$e._onSBUpdateEnd),$e.addBufferListener(Fi,"error",$e._onSBUpdateError),$e.addBufferListener(Fi,"bufferedchange",(function(He,je){var Ye=je.removedRanges;null!=Ye&&Ye.length&&$e.hls.trigger(Oi.BUFFER_FLUSHED,{type:ti})})),$e.tracks[ti]={buffer:Mi,codec:_i,container:mi.container,levelCodec:mi.levelCodec,metadata:mi.metadata,id:mi.id}}catch(He){$e.error("error while trying to add sourceBuffer: "+He.message),$e.hls.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:He,sourceBufferName:ti,mimeType:Pi})}}};for(var ti in He)a(ti)},He._onSBUpdateStart=function(He){this.operationQueue.current(He).onStart()},He._onSBUpdateEnd=function(He){var $e;if("closed"!==(null==($e=this.mediaSource)?void 0:$e.readyState)){var je=this.operationQueue;je.current(He).onComplete(),je.shiftAndExecuteNext(He)}else this.resetBuffer(He)},He._onSBUpdateError=function(He,$e){var je,Ye=new Error(He+" SourceBuffer error. MediaSource readyState: "+(null==(je=this.mediaSource)?void 0:je.readyState));this.error(""+Ye,$e),this.hls.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.BUFFER_APPENDING_ERROR,sourceBufferName:He,error:Ye,fatal:!1});var ti=this.operationQueue.current(He);ti&&ti.onError(Ye)},He.removeExecutor=function(He,$e,je){var Ye=this.media,ti=this.mediaSource,mi=this.operationQueue,_i=this.sourceBuffer[He];if(!Ye||!ti||!_i)return this.warn("Attempting to remove from the "+He+" SourceBuffer, but it does not exist"),void mi.shiftAndExecuteNext(He);var Mi=Pi(Ye.duration)?Ye.duration:1/0,Fi=Pi(ti.duration)?ti.duration:1/0,Oi=Math.max(0,$e),Ni=Math.min(je,Mi,Fi);Ni>Oi&&(!_i.ending||_i.ended)?(_i.ended=!1,this.log("Removing ["+Oi+","+Ni+"] from the "+He+" SourceBuffer"),_i.remove(Oi,Ni)):mi.shiftAndExecuteNext(He)},He.appendExecutor=function(He,$e){var je=this.sourceBuffer[$e];if(je)je.ended=!1,je.appendBuffer(He);else if(!this.pendingTracks[$e])throw new Error("Attempting to append to the "+$e+" SourceBuffer, but it does not exist")},He.blockBuffers=function(He,$e){var je=this;if(void 0===$e&&($e=this.getSourceBufferTypes()),!$e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(He);var Ye=this.operationQueue,ti=$e.map((function(He){return Ye.appendBlocker(He)}));Promise.all(ti).then((function(){He(),$e.forEach((function(He){var $e=je.sourceBuffer[He];null!=$e&&$e.updating||Ye.shiftAndExecuteNext(He)}))}))},He.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},He.addBufferListener=function(He,$e,je){var Ye=this.sourceBuffer[He];if(Ye){var ti=je.bind(this,He);this.listeners[He].push({event:$e,listener:ti}),Ye.addEventListener($e,ti)}},He.removeBufferListeners=function(He){var $e=this.sourceBuffer[He];$e&&this.listeners[He].forEach((function(He){$e.removeEventListener(He.event,He.listener)}))},n(t,[{key:"mediaSrc",get:function(){var He,$e=(null==(He=this.media)?void 0:He.firstChild)||this.media;return null==$e?void 0:$e.src}}]),t}();function Xe(He){var $e=He.querySelectorAll("source");[].slice.call($e).forEach((function($e){He.removeChild($e)}))}var Sa=function(){function t(He){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=He,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var He=t.prototype;return He.setStreamController=function(He){this.streamController=He},He.destroy=function(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},He.registerListeners=function(){var He=this.hls;He.on(Oi.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),He.on(Oi.MEDIA_ATTACHING,this.onMediaAttaching,this),He.on(Oi.MANIFEST_PARSED,this.onManifestParsed,this),He.on(Oi.LEVELS_UPDATED,this.onLevelsUpdated,this),He.on(Oi.BUFFER_CODECS,this.onBufferCodecs,this),He.on(Oi.MEDIA_DETACHING,this.onMediaDetaching,this)},He.unregisterListener=function(){var He=this.hls;He.off(Oi.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),He.off(Oi.MEDIA_ATTACHING,this.onMediaAttaching,this),He.off(Oi.MANIFEST_PARSED,this.onManifestParsed,this),He.off(Oi.LEVELS_UPDATED,this.onLevelsUpdated,this),He.off(Oi.BUFFER_CODECS,this.onBufferCodecs,this),He.off(Oi.MEDIA_DETACHING,this.onMediaDetaching,this)},He.onFpsDropLevelCapping=function(He,$e){var je=this.hls.levels[$e.droppedLevel];this.isLevelAllowed(je)&&this.restrictedLevels.push({bitrate:je.bitrate,height:je.height,width:je.width})},He.onMediaAttaching=function(He,$e){this.media=$e.media instanceof HTMLVideoElement?$e.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()},He.onManifestParsed=function(He,$e){var je=this.hls;this.restrictedLevels=[],this.firstLevel=$e.firstLevel,je.config.capLevelToPlayerSize&&$e.video&&this.startCapping()},He.onLevelsUpdated=function(He,$e){this.timer&&Pi(this.autoLevelCapping)&&this.detectPlayerSize()},He.onBufferCodecs=function(He,$e){this.hls.config.capLevelToPlayerSize&&$e.video&&this.startCapping()},He.onMediaDetaching=function(){this.stopCapping()},He.detectPlayerSize=function(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);var He=this.hls.levels;if(He.length){var $e=this.hls,je=this.getMaxLevel(He.length-1);je!==this.autoLevelCapping&&Hi.log("Setting autoLevelCapping to "+je+": "+He[je].height+"p@"+He[je].bitrate+" for media "+this.mediaWidth+"x"+this.mediaHeight),$e.autoLevelCapping=je,$e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=$e.autoLevelCapping}}},He.getMaxLevel=function(He){var $e=this,je=this.hls.levels;if(!je.length)return-1;var Ye=je.filter((function(je,Ye){return $e.isLevelAllowed(je)&&Ye<=He}));return this.clientRect=null,t.getMaxLevelByMediaSize(Ye,this.mediaWidth,this.mediaHeight)},He.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},He.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},He.getDimensions=function(){if(this.clientRect)return this.clientRect;var He=this.media,$e={width:0,height:0};if(He){var je=He.getBoundingClientRect();$e.width=je.width,$e.height=je.height,$e.width||$e.height||($e.width=je.right-je.left||He.width||0,$e.height=je.bottom-je.top||He.height||0)}return this.clientRect=$e,$e},He.isLevelAllowed=function(He){return!this.restrictedLevels.some((function($e){return He.bitrate===$e.bitrate&&He.width===$e.width&&He.height===$e.height}))},t.getMaxLevelByMediaSize=function(He,$e,je){if(null==He||!He.length)return-1;for(var Ye,ti,mi=He.length-1,_i=Math.max($e,je),Pi=0;Pi<He.length;Pi+=1){var Mi=He[Pi];if((Mi.width>=_i||Mi.height>=_i)&&(Ye=Mi,!(ti=He[Pi+1])||Ye.width!==ti.width||Ye.height!==ti.height)){mi=Pi;break}}return mi},n(t,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var He=1;if(!this.hls.config.ignoreDevicePixelRatio)try{He=self.devicePixelRatio}catch(He){}return He}}]),t}(),Aa=function(){function t(He){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=He,this.registerListeners()}var He=t.prototype;return He.setStreamController=function(He){this.streamController=He},He.registerListeners=function(){this.hls.on(Oi.MEDIA_ATTACHING,this.onMediaAttaching,this)},He.unregisterListeners=function(){this.hls.off(Oi.MEDIA_ATTACHING,this.onMediaAttaching,this)},He.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},He.onMediaAttaching=function(He,$e){var je=this.hls.config;if(je.capLevelOnFPSDrop){var Ye=$e.media instanceof self.HTMLVideoElement?$e.media:null;this.media=Ye,Ye&&"function"==typeof Ye.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),je.fpsDroppedMonitoringPeriod)}},He.checkFPS=function(He,$e,je){var Ye=performance.now();if($e){if(this.lastTime){var ti=Ye-this.lastTime,mi=je-this.lastDroppedFrames,_i=$e-this.lastDecodedFrames,Pi=1e3*mi/ti,Mi=this.hls;if(Mi.trigger(Oi.FPS_DROP,{currentDropped:mi,currentDecoded:_i,totalDroppedFrames:je}),Pi>0&&mi>Mi.config.fpsDroppedMonitoringThreshold*_i){var Fi=Mi.currentLevel;Hi.warn("drop FPS ratio greater than max allowed value for currentLevel: "+Fi),Fi>0&&(-1===Mi.autoLevelCapping||Mi.autoLevelCapping>=Fi)&&(Fi-=1,Mi.trigger(Oi.FPS_DROP_LEVEL_CAPPING,{level:Fi,droppedLevel:Mi.currentLevel}),Mi.autoLevelCapping=Fi,this.streamController.nextLevelSwitch())}}this.lastTime=Ye,this.lastDroppedFrames=je,this.lastDecodedFrames=$e}},He.checkFPSInterval=function(){var He=this.media;if(He)if(this.isVideoPlaybackQualityAvailable){var $e=He.getVideoPlaybackQuality();this.checkFPS(He,$e.totalVideoFrames,$e.droppedVideoFrames)}else this.checkFPS(He,He.webkitDecodedFrameCount,He.webkitDroppedFrameCount)},t}(),wa=function(){function t(He){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=He,this.log=Hi.log.bind(Hi,"[content-steering]:"),this.registerListeners()}var He=t.prototype;return He.registerListeners=function(){var He=this.hls;He.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.on(Oi.MANIFEST_LOADED,this.onManifestLoaded,this),He.on(Oi.MANIFEST_PARSED,this.onManifestParsed,this),He.on(Oi.ERROR,this.onError,this)},He.unregisterListeners=function(){var He=this.hls;He&&(He.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.off(Oi.MANIFEST_LOADED,this.onManifestLoaded,this),He.off(Oi.MANIFEST_PARSED,this.onManifestParsed,this),He.off(Oi.ERROR,this.onError,this))},He.startLoad=function(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){var He=1e3*this.timeToLoad-(performance.now()-this.updated);if(He>0)return void this.scheduleRefresh(this.uri,He)}this.loadSteeringManifest(this.uri)}},He.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()},He.clearTimeout=function(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)},He.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},He.removeLevel=function(He){var $e=this.levels;$e&&(this.levels=$e.filter((function($e){return $e!==He})))},He.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null},He.onManifestLoaded=function(He,$e){var je=$e.contentSteering;null!==je&&(this.pathwayId=je.pathwayId,this.uri=je.uri,this.started&&this.startLoad())},He.onManifestParsed=function(He,$e){this.audioTracks=$e.audioTracks,this.subtitleTracks=$e.subtitleTracks},He.onError=function(He,$e){var je=$e.errorAction;if(2===(null==je?void 0:je.action)&&1===je.flags){var Ye=this.levels,ti=this.pathwayPriority,mi=this.pathwayId;if($e.context){var _i=$e.context,Pi=_i.groupId,Mi=_i.pathwayId,Fi=_i.type;Pi&&Ye?mi=this.getPathwayForGroupId(Pi,Fi,mi):Mi&&(mi=Mi)}mi in this.penalizedPathways||(this.penalizedPathways[mi]=performance.now()),!ti&&Ye&&(ti=Ye.reduce((function(He,$e){return-1===He.indexOf($e.pathwayId)&&He.push($e.pathwayId),He}),[])),ti&&ti.length>1&&(this.updatePathwayPriority(ti),je.resolved=this.pathwayId!==mi),je.resolved||Hi.warn("Could not resolve "+$e.details+' ("'+$e.error.message+'") with content-steering for Pathway: '+mi+" levels: "+(Ye?Ye.length:Ye)+" priorities: "+JSON.stringify(ti)+" penalized: "+JSON.stringify(this.penalizedPathways))}},He.filterParsedLevels=function(He){this.levels=He;var $e=this.getLevelsForPathway(this.pathwayId);if(0===$e.length){var je=He[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+je+'"'),$e=this.getLevelsForPathway(je),this.pathwayId=je}return $e.length!==He.length?(this.log("Found "+$e.length+"/"+He.length+' levels in Pathway "'+this.pathwayId+'"'),$e):He},He.getLevelsForPathway=function(He){return null===this.levels?[]:this.levels.filter((function($e){return He===$e.pathwayId}))},He.updatePathwayPriority=function(He){var $e;this.pathwayPriority=He;var je=this.penalizedPathways,Ye=performance.now();Object.keys(je).forEach((function(He){Ye-je[He]>3e5&&delete je[He]}));for(var ti=0;ti<He.length;ti++){var mi=He[ti];if(!(mi in je)){if(mi===this.pathwayId)return;var _i=this.hls.nextLoadLevel,Pi=this.hls.levels[_i];if(($e=this.getLevelsForPathway(mi)).length>0){this.log('Setting Pathway to "'+mi+'"'),this.pathwayId=mi,Re($e),this.hls.trigger(Oi.LEVELS_UPDATED,{levels:$e});var Mi=this.hls.levels[_i];Pi&&Mi&&this.levels&&(Mi.attrs["STABLE-VARIANT-ID"]!==Pi.attrs["STABLE-VARIANT-ID"]&&Mi.bitrate!==Pi.bitrate&&this.log("Unstable Pathways change from bitrate "+Pi.bitrate+" to "+Mi.bitrate),this.hls.nextLoadLevel=_i);break}}}},He.getPathwayForGroupId=function(He,$e,je){for(var Ye=this.getLevelsForPathway(je).concat(this.levels||[]),ti=0;ti<Ye.length;ti++)if($e===Wr&&Ye[ti].hasAudioGroup(He)||$e===zr&&Ye[ti].hasSubtitleGroup(He))return Ye[ti].pathwayId;return je},He.clonePathways=function(He){var $e=this,je=this.levels;if(je){var Ye={},ti={};He.forEach((function(He){var mi=He.ID,_i=He["BASE-ID"],Pi=He["URI-REPLACEMENT"];if(!je.some((function(He){return He.pathwayId===mi}))){var Mi=$e.getLevelsForPathway(_i).map((function(He){var $e=new ji(He.attrs);$e["PATHWAY-ID"]=mi;var je=$e.AUDIO&&$e.AUDIO+"_clone_"+mi,_i=$e.SUBTITLES&&$e.SUBTITLES+"_clone_"+mi;je&&(Ye[$e.AUDIO]=je,$e.AUDIO=je),_i&&(ti[$e.SUBTITLES]=_i,$e.SUBTITLES=_i);var Mi=ri(He.uri,$e["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",Pi),Fi=new fa({attrs:$e,audioCodec:He.audioCodec,bitrate:He.bitrate,height:He.height,name:He.name,url:Mi,videoCodec:He.videoCodec,width:He.width});if(He.audioGroups)for(var Oi=1;Oi<He.audioGroups.length;Oi++)Fi.addGroupId("audio",He.audioGroups[Oi]+"_clone_"+mi);if(He.subtitleGroups)for(var Ni=1;Ni<He.subtitleGroups.length;Ni++)Fi.addGroupId("text",He.subtitleGroups[Ni]+"_clone_"+mi);return Fi}));je.push.apply(je,Mi),ii($e.audioTracks,Ye,Pi,mi),ii($e.subtitleTracks,ti,Pi,mi)}}))}},He.loadSteeringManifest=function(He){var $e,je=this,Ye=this.hls.config,ti=Ye.loader;this.loader&&this.loader.destroy(),this.loader=new ti(Ye);try{$e=new self.URL(He)}catch($e){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+He)}if("data:"!==$e.protocol){var mi=0|(this.hls.bandwidthEstimate||Ye.abrEwmaDefaultEstimate);$e.searchParams.set("_HLS_pathway",this.pathwayId),$e.searchParams.set("_HLS_throughput",""+mi)}var _i={responseType:"json",url:$e.href},Pi=Ye.steeringManifestLoadPolicy.default,Mi=Pi.errorRetry||Pi.timeoutRetry||{},Fi={loadPolicy:Pi,timeout:Pi.maxLoadTimeMs,maxRetry:Mi.maxNumRetry||0,retryDelay:Mi.retryDelayMs||0,maxRetryDelay:Mi.maxRetryDelayMs||0},Ni={onSuccess:function(He,Ye,ti,mi){je.log('Loaded steering manifest: "'+$e+'"');var _i=He.data;if(1===_i.VERSION){je.updated=performance.now(),je.timeToLoad=_i.TTL;var Pi=_i["RELOAD-URI"],Mi=_i["PATHWAY-CLONES"],Fi=_i["PATHWAY-PRIORITY"];if(Pi)try{je.uri=new self.URL(Pi,$e).href}catch(He){return je.enabled=!1,void je.log("Failed to parse Steering Manifest RELOAD-URI: "+Pi)}je.scheduleRefresh(je.uri||ti.url),Mi&&je.clonePathways(Mi);var Ni={steeringManifest:_i,url:$e.toString()};je.hls.trigger(Oi.STEERING_MANIFEST_LOADED,Ni),Fi&&je.updatePathwayPriority(Fi)}else je.log("Steering VERSION "+_i.VERSION+" not supported!")},onError:function(He,$e,Ye,ti){if(je.log("Error loading steering manifest: "+He.code+" "+He.text+" ("+$e.url+")"),je.stopLoad(),410===He.code)return je.enabled=!1,void je.log("Steering manifest "+$e.url+" no longer available");var mi=1e3*je.timeToLoad;if(429!==He.code)je.scheduleRefresh(je.uri||$e.url,mi);else{var _i=je.loader;if("function"==typeof(null==_i?void 0:_i.getResponseHeader)){var Pi=_i.getResponseHeader("Retry-After");Pi&&(mi=1e3*parseFloat(Pi))}je.log("Steering manifest "+$e.url+" rate limited")}},onTimeout:function(He,$e,Ye){je.log("Timeout loading steering manifest ("+$e.url+")"),je.scheduleRefresh(je.uri||$e.url)}};this.log("Requesting steering manifest: "+$e),this.loader.load(_i,Fi,Ni)},He.scheduleRefresh=function(He,$e){var je=this;void 0===$e&&($e=1e3*this.timeToLoad),this.clearTimeout(),this.reloadTimer=self.setTimeout((function(){var $e,Ye=null==($e=je.hls)?void 0:$e.media;!Ye||Ye.ended?je.scheduleRefresh(He,1e3*je.timeToLoad):je.loadSteeringManifest(He)}),$e)},t}();function ii(He,$e,je,Ye){He&&Object.keys($e).forEach((function(ti){var mi=He.filter((function(He){return He.groupId===ti})).map((function(He){var mi=o({},He);return mi.details=void 0,mi.attrs=new ji(mi.attrs),mi.url=mi.attrs.URI=ri(He.url,He.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",je),mi.groupId=mi.attrs["GROUP-ID"]=$e[ti],mi.attrs["PATHWAY-ID"]=Ye,mi}));He.push.apply(He,mi)}))}function ri(He,$e,je,Ye){var ti,mi=Ye.HOST,_i=Ye.PARAMS,Pi=Ye[je];$e&&(ti=null==Pi?void 0:Pi[$e])&&(He=ti);var Mi=new self.URL(He);return mi&&!ti&&(Mi.host=mi),_i&&Object.keys(_i).sort().forEach((function(He){He&&Mi.searchParams.set(He,_i[He])})),Mi.href}var La=/^age:\s*[\d.]+\s*$/im,Da=function(){function t(He){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=He&&He.xhrSetup||null,this.stats=new _,this.retryDelay=0}var He=t.prototype;return He.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null,this.stats=null},He.abortInternal=function(){var He=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),He&&(He.onreadystatechange=null,He.onprogress=null,4!==He.readyState&&(this.stats.aborted=!0,He.abort()))},He.abort=function(){var He;this.abortInternal(),null!=(He=this.callbacks)&&He.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},He.load=function(He,$e,je){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=He,this.config=$e,this.callbacks=je,this.loadInternal()},He.loadInternal=function(){var He=this,$e=this.config,je=this.context;if($e&&je){var Ye=this.loader=new self.XMLHttpRequest,ti=this.stats;ti.loading.first=0,ti.loaded=0,ti.aborted=!1;var mi=this.xhrSetup;mi?Promise.resolve().then((function(){if(!He.stats.aborted)return mi(Ye,je.url)})).catch((function(He){return Ye.open("GET",je.url,!0),mi(Ye,je.url)})).then((function(){He.stats.aborted||He.openAndSendXhr(Ye,je,$e)})).catch((function($e){He.callbacks.onError({code:Ye.status,text:$e.message},je,Ye,ti)})):this.openAndSendXhr(Ye,je,$e)}},He.openAndSendXhr=function(He,$e,je){He.readyState||He.open("GET",$e.url,!0);var Ye=$e.headers,ti=je.loadPolicy,mi=ti.maxTimeToFirstByteMs,_i=ti.maxLoadTimeMs;if(Ye)for(var Mi in Ye)He.setRequestHeader(Mi,Ye[Mi]);$e.rangeEnd&&He.setRequestHeader("Range","bytes="+$e.rangeStart+"-"+($e.rangeEnd-1)),He.onreadystatechange=this.readystatechange.bind(this),He.onprogress=this.loadprogress.bind(this),He.responseType=$e.responseType,self.clearTimeout(this.requestTimeout),je.timeout=mi&&Pi(mi)?mi:_i,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),je.timeout),He.send()},He.readystatechange=function(){var He=this.context,$e=this.loader,je=this.stats;if(He&&$e){var Ye=$e.readyState,ti=this.config;if(!je.aborted&&Ye>=2&&(0===je.loading.first&&(je.loading.first=Math.max(self.performance.now(),je.loading.start),ti.timeout!==ti.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),ti.timeout=ti.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),ti.loadPolicy.maxLoadTimeMs-(je.loading.first-je.loading.start)))),4===Ye)){self.clearTimeout(this.requestTimeout),$e.onreadystatechange=null,$e.onprogress=null;var mi=$e.status,_i="text"!==$e.responseType;if(mi>=200&&mi<300&&(_i&&$e.response||null!==$e.responseText)){je.loading.end=Math.max(self.performance.now(),je.loading.first);var Pi=_i?$e.response:$e.responseText,Mi="arraybuffer"===$e.responseType?Pi.byteLength:Pi.length;if(je.loaded=je.total=Mi,je.bwEstimate=8e3*je.total/(je.loading.end-je.loading.first),!this.callbacks)return;var Fi=this.callbacks.onProgress;if(Fi&&Fi(je,He,Pi,$e),!this.callbacks)return;var Oi={url:$e.responseURL,data:Pi,code:mi};this.callbacks.onSuccess(Oi,je,He,$e)}else{var Ni=ti.loadPolicy.errorRetry;Pe(Ni,je.retry,!1,{url:He.url,data:void 0,code:mi})?this.retry(Ni):(Hi.error(mi+" while loading "+He.url),this.callbacks.onError({code:mi,text:$e.statusText},He,$e,je))}}}},He.loadtimeout=function(){var He,$e=null==(He=this.config)?void 0:He.loadPolicy.timeoutRetry;if(Pe($e,this.stats.retry,!0))this.retry($e);else{var je;Hi.warn("timeout while loading "+(null==(je=this.context)?void 0:je.url));var Ye=this.callbacks;Ye&&(this.abortInternal(),Ye.onTimeout(this.stats,this.context,this.loader))}},He.retry=function(He){var $e=this.context,je=this.stats;this.retryDelay=Me(He,je.retry),je.retry++,Hi.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+(null==$e?void 0:$e.url)+", retrying "+je.retry+"/"+He.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},He.loadprogress=function(He){var $e=this.stats;$e.loaded=He.loaded,He.lengthComputable&&($e.total=He.total)},He.getCacheAge=function(){var He=null;if(this.loader&&La.test(this.loader.getAllResponseHeaders())){var $e=this.loader.getResponseHeader("age");He=$e?parseFloat($e):null}return He},He.getResponseHeader=function(He){return this.loader&&new RegExp("^"+He+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(He):null},t}(),_a=function(){function t(){this.chunks=[],this.dataLength=0}var He=t.prototype;return He.push=function(He){this.chunks.push(He),this.dataLength+=He.length},He.flush=function(){var He,$e=this.chunks,je=this.dataLength;return $e.length?(He=1===$e.length?$e[0]:function(He,$e){for(var je=new Uint8Array($e),Ye=0,ti=0;ti<He.length;ti++){var mi=He[ti];je.set(mi,Ye),Ye+=mi.length}return je}($e,je),this.reset(),He):new Uint8Array(0)},He.reset=function(){this.chunks.length=0,this.dataLength=0},t}(),Ra=/(\d+)-(\d+)\/(\d+)/,Pa=function(){function t(He){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=He.fetchSetup||li,this.controller=new self.AbortController,this.stats=new _}var He=t.prototype;return He.destroy=function(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null},He.abortInternal=function(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())},He.abort=function(){var He;this.abortInternal(),null!=(He=this.callbacks)&&He.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},He.load=function(He,$e,je){var Ye=this,ti=this.stats;if(ti.loading.start)throw new Error("Loader can only be used once.");ti.loading.start=self.performance.now();var mi,_i,Mi=(mi=He,_i={method:"GET",mode:"cors",credentials:"same-origin",signal:this.controller.signal,headers:new self.Headers(o({},mi.headers))},mi.rangeEnd&&_i.headers.set("Range","bytes="+mi.rangeStart+"-"+String(mi.rangeEnd-1)),_i),Fi=je.onProgress,Oi="arraybuffer"===He.responseType,Ni=Oi?"byteLength":"length",Ui=$e.loadPolicy,Gi=Ui.maxTimeToFirstByteMs,Vi=Ui.maxLoadTimeMs;this.context=He,this.config=$e,this.callbacks=je,this.request=this.fetchSetup(He,Mi),self.clearTimeout(this.requestTimeout),$e.timeout=Gi&&Pi(Gi)?Gi:Vi,this.requestTimeout=self.setTimeout((function(){Ye.abortInternal(),je.onTimeout(ti,He,Ye.response)}),$e.timeout),self.fetch(this.request).then((function(mi){Ye.response=Ye.loader=mi;var _i=Math.max(self.performance.now(),ti.loading.start);if(self.clearTimeout(Ye.requestTimeout),$e.timeout=Vi,Ye.requestTimeout=self.setTimeout((function(){Ye.abortInternal(),je.onTimeout(ti,He,Ye.response)}),Vi-(_i-ti.loading.start)),!mi.ok){var Mi=mi.status,Ni=mi.statusText;throw new Ia(Ni||"fetch, bad network response",Mi,mi)}return ti.loading.first=_i,ti.total=function(He){var $e=He.get("Content-Range");if($e){var je=function(He){var $e=Ra.exec(He);if($e)return parseInt($e[2])-parseInt($e[1])+1}($e);if(Pi(je))return je}var Ye=He.get("Content-Length");if(Ye)return parseInt(Ye)}(mi.headers)||ti.total,Fi&&Pi($e.highWaterMark)?Ye.loadProgressively(mi,ti,He,$e.highWaterMark,Fi):Oi?mi.arrayBuffer():"json"===He.responseType?mi.json():mi.text()})).then((function(mi){var _i=Ye.response;if(!_i)throw new Error("loader destroyed");self.clearTimeout(Ye.requestTimeout),ti.loading.end=Math.max(self.performance.now(),ti.loading.first);var Mi=mi[Ni];Mi&&(ti.loaded=ti.total=Mi);var Oi={url:_i.url,data:mi,code:_i.status};Fi&&!Pi($e.highWaterMark)&&Fi(ti,He,mi,_i),je.onSuccess(Oi,ti,He,_i)})).catch((function($e){if(self.clearTimeout(Ye.requestTimeout),!ti.aborted){var mi=$e&&$e.code||0,_i=$e?$e.message:null;je.onError({code:mi,text:_i},He,$e?$e.details:null,ti)}}))},He.getCacheAge=function(){var He=null;if(this.response){var $e=this.response.headers.get("age");He=$e?parseFloat($e):null}return He},He.getResponseHeader=function(He){return this.response?this.response.headers.get(He):null},He.loadProgressively=function(He,$e,je,Ye,ti){void 0===Ye&&(Ye=0);var mi=new _a,_i=He.body.getReader();return function o(){return _i.read().then((function(_i){if(_i.done)return mi.dataLength&&ti($e,je,mi.flush(),He),Promise.resolve(new ArrayBuffer(0));var Pi=_i.value,Mi=Pi.length;return $e.loaded+=Mi,Mi<Ye||mi.dataLength?(mi.push(Pi),mi.dataLength>=Ye&&ti($e,je,mi.flush(),He)):ti($e,je,Pi,He),o()})).catch((function(){return Promise.reject()}))}()},t}();function li(He,$e){return new self.Request(He.url,$e)}var Ca,Ia=function(He){function e($e,je,Ye){var ti;return(ti=He.call(this,$e)||this).code=void 0,ti.details=void 0,ti.code=je,ti.details=Ye,ti}return h(e,He),e}(u(Error)),Ma=r(r({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Da,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:ya,bufferController:Ta,capLevelController:Sa,errorController:pa,fpsController:Aa,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:null,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!1,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:yr,enableWebVTT:!1,enableIMSC1:!1,enableCEA708Captions:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0,cmcdController:void 0,contentSteeringController:wa});function ci(He){return He&&"object"==typeof He?Array.isArray(He)?He.map(ci):Object.keys(He).reduce((function($e,je){return $e[je]=ci(He[je]),$e}),{}):He}var Fa=function(He){function e($e,je){var Ye;return(Ye=He.call(this,$e,"[level-controller]")||this)._levels=[],Ye._firstLevel=-1,Ye._maxAutoLevel=-1,Ye._startLevel=void 0,Ye.currentLevel=null,Ye.currentLevelIndex=-1,Ye.manualLevelIndex=-1,Ye.steering=void 0,Ye.onParsedComplete=void 0,Ye.steering=je,Ye._registerListeners(),Ye}h(e,He);var $e=e.prototype;return $e._registerListeners=function(){var He=this.hls;He.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.on(Oi.MANIFEST_LOADED,this.onManifestLoaded,this),He.on(Oi.LEVEL_LOADED,this.onLevelLoaded,this),He.on(Oi.LEVELS_UPDATED,this.onLevelsUpdated,this),He.on(Oi.FRAG_BUFFERED,this.onFragBuffered,this),He.on(Oi.ERROR,this.onError,this)},$e._unregisterListeners=function(){var He=this.hls;He.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.off(Oi.MANIFEST_LOADED,this.onManifestLoaded,this),He.off(Oi.LEVEL_LOADED,this.onLevelLoaded,this),He.off(Oi.LEVELS_UPDATED,this.onLevelsUpdated,this),He.off(Oi.FRAG_BUFFERED,this.onFragBuffered,this),He.off(Oi.ERROR,this.onError,this)},$e.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),He.prototype.destroy.call(this)},$e.stopLoad=function(){this._levels.forEach((function(He){He.loadError=0,He.fragmentError=0})),He.prototype.stopLoad.call(this)},$e.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1},$e.onManifestLoading=function(He,$e){this.resetLevels()},$e.onManifestLoaded=function(He,$e){var je=this.hls.config.preferManagedMediaSource,Ye=[],ti={},mi={},_i=!1,Pi=!1,Mi=!1;$e.levels.forEach((function(He){var $e,Fi,Oi=He.attrs,Ni=He.audioCodec,Ui=He.videoCodec;-1!==(null==($e=Ni)?void 0:$e.indexOf("mp4a.40.34"))&&(Ca||(Ca=/chrome|firefox/i.test(navigator.userAgent)),Ca&&(He.audioCodec=Ni=void 0)),Ni&&(He.audioCodec=Ni=Ot(Ni,je)),0===(null==(Fi=Ui)?void 0:Fi.indexOf("avc1"))&&(Ui=He.videoCodec=function(He){var $e=He.split(".");if($e.length>2){var je=$e.shift()+".";return(je+=parseInt($e.shift()).toString(16))+("000"+parseInt($e.shift()).toString(16)).slice(-4)}return He}(Ui));var Gi=He.width,Vi=He.height,Hi=He.unknownCodecs;if(_i||(_i=!(!Gi||!Vi)),Pi||(Pi=!!Ui),Mi||(Mi=!!Ni),!(null!=Hi&&Hi.length||Ni&&!Mt(Ni,"audio",je)||Ui&&!Mt(Ui,"video",je))){var zi=Oi.CODECS,Ki=Oi["FRAME-RATE"],ji=Oi["HDCP-LEVEL"],Yi=Oi["PATHWAY-ID"],qi=Oi.RESOLUTION,Xi=Oi["VIDEO-RANGE"],lr=(Yi||".")+"-"+He.bitrate+"-"+qi+"-"+Ki+"-"+zi+"-"+Xi+"-"+ji;if(ti[lr])if(ti[lr].uri===He.url||He.attrs["PATHWAY-ID"])ti[lr].addGroupId("audio",Oi.AUDIO),ti[lr].addGroupId("text",Oi.SUBTITLES);else{var hr=mi[lr]+=1;He.attrs["PATHWAY-ID"]=new Array(hr+1).join(".");var dr=new fa(He);ti[lr]=dr,Ye.push(dr)}else{var ur=new fa(He);ti[lr]=ur,mi[lr]=1,Ye.push(ur)}}})),this.filterAndSortMediaOptions(Ye,$e,_i,Pi,Mi)},$e.filterAndSortMediaOptions=function(He,$e,je,Ye,ti){var mi=this,_i=[],Pi=[],Mi=He;if((je||Ye)&&ti&&(Mi=Mi.filter((function(He){var $e,je=He.videoCodec,Ye=He.videoRange,ti=He.width,mi=He.height;return(!!je||!(!ti||!mi))&&!!($e=Ye)&&ua.indexOf($e)>-1}))),0!==Mi.length){if($e.audioTracks){var Fi=this.hls.config.preferManagedMediaSource;fi(_i=$e.audioTracks.filter((function(He){return!He.audioCodec||Mt(He.audioCodec,"audio",Fi)})))}$e.subtitles&&fi(Pi=$e.subtitles);var Gi=Mi.slice(0);Mi.sort((function(He,$e){if(He.attrs["HDCP-LEVEL"]!==$e.attrs["HDCP-LEVEL"])return(He.attrs["HDCP-LEVEL"]||"")>($e.attrs["HDCP-LEVEL"]||"")?1:-1;if(je&&He.height!==$e.height)return He.height-$e.height;if(He.frameRate!==$e.frameRate)return He.frameRate-$e.frameRate;if(He.videoRange!==$e.videoRange)return ua.indexOf(He.videoRange)-ua.indexOf($e.videoRange);if(He.videoCodec!==$e.videoCodec){var Ye=_t(He.videoCodec),ti=_t($e.videoCodec);if(Ye!==ti)return ti-Ye}if(He.uri===$e.uri&&He.codecSet!==$e.codecSet){var mi=Nt(He.codecSet),_i=Nt($e.codecSet);if(mi!==_i)return _i-mi}return He.bitrate!==$e.bitrate?He.bitrate-$e.bitrate:0}));var Vi=Gi[0];if(this.steering&&(Mi=this.steering.filterParsedLevels(Mi)).length!==Gi.length)for(var Hi=0;Hi<Gi.length;Hi++)if(Gi[Hi].pathwayId===Mi[0].pathwayId){Vi=Gi[Hi];break}this._levels=Mi;for(var zi=0;zi<Mi.length;zi++)if(Mi[zi]===Vi){var Ki;this._firstLevel=zi;var ji=Vi.bitrate,Yi=this.hls.bandwidthEstimate;if(this.log("manifest loaded, "+Mi.length+" level(s) found, first bitrate: "+ji),void 0===(null==(Ki=this.hls.userConfig)?void 0:Ki.abrEwmaDefaultEstimate)){var qi=Math.min(ji,this.hls.config.abrEwmaDefaultEstimateMax);qi>Yi&&Yi===Ma.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=qi)}break}var Xi=ti&&!Ye,lr={levels:Mi,audioTracks:_i,subtitleTracks:Pi,sessionData:$e.sessionData,sessionKeys:$e.sessionKeys,firstLevel:this._firstLevel,stats:$e.stats,audio:ti,video:Ye,altAudio:!Xi&&_i.some((function(He){return!!He.url}))};this.hls.trigger(Oi.MANIFEST_PARSED,lr),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(mi.hls){$e.levels.length&&mi.warn("One or more CODECS in variant not supported: "+JSON.stringify($e.levels[0].attrs));var He=new Error("no level with compatible codecs found in manifest");mi.hls.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:$e.url,error:He,reason:He.message})}}))},$e.onError=function(He,$e){!$e.fatal&&$e.context&&$e.context.type===Hr&&$e.context.level===this.level&&this.checkRetry($e)},$e.onFragBuffered=function(He,$e){var je=$e.frag;if(void 0!==je&&je.type===Kr){var Ye=je.elementaryStreams;if(!Object.keys(Ye).some((function(He){return!!Ye[He]})))return;var ti=this._levels[je.level];null!=ti&&ti.loadError&&(this.log("Resetting level error count of "+ti.loadError+" on frag buffered"),ti.loadError=0)}},$e.onLevelLoaded=function(He,$e){var je,Ye,ti=$e.level,mi=$e.details,_i=this._levels[ti];if(!_i)return this.warn("Invalid level index "+ti),void(null!=(Ye=$e.deliveryDirectives)&&Ye.skip&&(mi.deltaUpdateFailed=!0));ti===this.currentLevelIndex?(0===_i.fragmentError&&(_i.loadError=0),this.playlistLoaded(ti,$e,_i.details)):null!=(je=$e.deliveryDirectives)&&je.skip&&(mi.deltaUpdateFailed=!0)},$e.loadPlaylist=function($e){He.prototype.loadPlaylist.call(this);var je=this.currentLevelIndex,Ye=this.currentLevel;if(Ye&&this.shouldLoadPlaylist(Ye)){var ti=Ye.uri;if($e)try{ti=$e.addDirectives(ti)}catch(He){this.warn("Could not construct new URL with HLS Delivery Directives: "+He)}var mi=Ye.attrs["PATHWAY-ID"];this.log("Loading level index "+je+(void 0!==(null==$e?void 0:$e.msn)?" at sn "+$e.msn+" part "+$e.part:"")+" with"+(mi?" Pathway "+mi:"")+" "+ti),this.clearTimer(),this.hls.trigger(Oi.LEVEL_LOADING,{url:ti,level:je,pathwayId:Ye.attrs["PATHWAY-ID"],id:0,deliveryDirectives:$e||null})}},$e.removeLevel=function(He){var $e,je=this,Ye=this._levels.filter((function($e,Ye){return Ye!==He||(je.steering&&je.steering.removeLevel($e),$e===je.currentLevel&&(je.currentLevel=null,je.currentLevelIndex=-1,$e.details&&$e.details.fragments.forEach((function(He){return He.level=-1}))),!1)}));Re(Ye),this._levels=Ye,this.currentLevelIndex>-1&&null!=($e=this.currentLevel)&&$e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(Oi.LEVELS_UPDATED,{levels:Ye})},$e.onLevelsUpdated=function(He,$e){var je=$e.levels;this._levels=je},$e.checkMaxAutoUpdated=function(){var He=this.hls,$e=He.autoLevelCapping,je=He.maxAutoLevel,Ye=He.maxHdcpLevel;this._maxAutoLevel!==je&&(this._maxAutoLevel=je,this.hls.trigger(Oi.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:$e,levels:this.levels,maxAutoLevel:je,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:Ye}))},n(e,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(He){var $e=this._levels;if(0!==$e.length){if(He<0||He>=$e.length){var je=new Error("invalid level idx"),Ye=He<0;if(this.hls.trigger(Oi.ERROR,{type:Ni.OTHER_ERROR,details:Ui.LEVEL_SWITCH_ERROR,level:He,fatal:Ye,error:je,reason:je.message}),Ye)return;He=Math.min(He,$e.length-1)}var ti=this.currentLevelIndex,mi=this.currentLevel,_i=mi?mi.attrs["PATHWAY-ID"]:void 0,Pi=$e[He],Mi=Pi.attrs["PATHWAY-ID"];if(this.currentLevelIndex=He,this.currentLevel=Pi,ti!==He||!Pi.details||!mi||_i!==Mi){this.log("Switching to level "+He+" ("+(Pi.height?Pi.height+"p ":"")+(Pi.videoRange?Pi.videoRange+" ":"")+(Pi.codecSet?Pi.codecSet+" ":"")+"@"+Pi.bitrate+")"+(Mi?" with Pathway "+Mi:"")+" from level "+ti+(_i?" with Pathway "+_i:""));var Fi={level:He,attrs:Pi.attrs,details:Pi.details,bitrate:Pi.bitrate,averageBitrate:Pi.averageBitrate,maxBitrate:Pi.maxBitrate,realBitrate:Pi.realBitrate,width:Pi.width,height:Pi.height,codecSet:Pi.codecSet,audioCodec:Pi.audioCodec,videoCodec:Pi.videoCodec,audioGroups:Pi.audioGroups,subtitleGroups:Pi.subtitleGroups,loaded:Pi.loaded,loadError:Pi.loadError,fragmentError:Pi.fragmentError,name:Pi.name,id:Pi.id,uri:Pi.uri,url:Pi.url,urlId:0,audioGroupIds:Pi.audioGroupIds,textGroupIds:Pi.textGroupIds};this.hls.trigger(Oi.LEVEL_SWITCHING,Fi);var Gi=Pi.details;if(!Gi||Gi.live){var Vi=this.switchParams(Pi.uri,null==mi?void 0:mi.details);this.loadPlaylist(Vi)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(He){this.manualLevelIndex=He,void 0===this._startLevel&&(this._startLevel=He),-1!==He&&(this.level=He)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(He){this._firstLevel=He}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var He=this.hls.config.startLevel;return void 0!==He?He:this.hls.firstAutoLevel}return this._startLevel},set:function(He){this._startLevel=He}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(He){this.level=He,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=He)}}]),e}(ma);function fi(He){var $e={};He.forEach((function(He){var je=He.groupId||"";He.id=$e[je]=$e[je]||0,$e[je]++}))}var Oa="NOT_LOADED",Ba="APPENDING",Na="PARTIAL",Ua="OK",Ga=function(){function t(He){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=He,this._registerListeners()}var He=t.prototype;return He._registerListeners=function(){var He=this.hls;He.on(Oi.BUFFER_APPENDED,this.onBufferAppended,this),He.on(Oi.FRAG_BUFFERED,this.onFragBuffered,this),He.on(Oi.FRAG_LOADED,this.onFragLoaded,this)},He._unregisterListeners=function(){var He=this.hls;He.off(Oi.BUFFER_APPENDED,this.onBufferAppended,this),He.off(Oi.FRAG_BUFFERED,this.onFragBuffered,this),He.off(Oi.FRAG_LOADED,this.onFragLoaded,this)},He.destroy=function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},He.getAppendedFrag=function(He,$e){var je=this.activePartLists[$e];if(je)for(var Ye=je.length;Ye--;){var ti=je[Ye];if(!ti)break;var mi=ti.end;if(ti.start<=He&&null!==mi&&He<=mi)return ti}return this.getBufferedFrag(He,$e)},He.getBufferedFrag=function(He,$e){for(var je=this.fragments,Ye=Object.keys(je),ti=Ye.length;ti--;){var mi=je[Ye[ti]];if((null==mi?void 0:mi.body.type)===$e&&mi.buffered){var _i=mi.body;if(_i.start<=He&&He<=_i.end)return _i}}return null},He.detectEvictedFragments=function(He,$e,je,Ye){var ti=this;this.timeRanges&&(this.timeRanges[He]=$e);var mi=(null==Ye?void 0:Ye.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(Ye){var _i=ti.fragments[Ye];if(_i&&!(mi>=_i.body.sn))if(_i.buffered||_i.loaded){var Pi=_i.range[He];Pi&&Pi.time.some((function(He){var je=!ti.isTimeBuffered(He.startPTS,He.endPTS,$e);return je&&ti.removeFragment(_i.body),je}))}else _i.body.type===je&&ti.removeFragment(_i.body)}))},He.detectPartialFragments=function(He){var $e=this,je=this.timeRanges,Ye=He.frag,ti=He.part;if(je&&"initSegment"!==Ye.sn){var mi=Ci(Ye),_i=this.fragments[mi];if(!(!_i||_i.buffered&&Ye.gap)){var Pi=!Ye.relurl;Object.keys(je).forEach((function(He){var mi=Ye.elementaryStreams[He];if(mi){var Mi=je[He],Fi=Pi||!0===mi.partial;_i.range[He]=$e.getBufferedTimes(Ye,ti,Fi,Mi)}})),_i.loaded=null,Object.keys(_i.range).length?(_i.buffered=!0,(_i.body.endList=Ye.endList||_i.body.endList)&&(this.endListFragments[_i.body.type]=_i),Ii(_i)||this.removeParts(Ye.sn-1,Ye.type)):this.removeFragment(_i.body)}}},He.removeParts=function(He,$e){var je=this.activePartLists[$e];je&&(this.activePartLists[$e]=je.filter((function($e){return $e.fragment.sn>=He})))},He.fragBuffered=function(He,$e){var je=Ci(He),Ye=this.fragments[je];!Ye&&$e&&(Ye=this.fragments[je]={body:He,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},He.gap&&(this.hasGaps=!0)),Ye&&(Ye.loaded=null,Ye.buffered=!0)},He.getBufferedTimes=function(He,$e,je,Ye){for(var ti={time:[],partial:je},mi=He.start,_i=He.end,Pi=He.minEndPTS||_i,Mi=He.maxStartPTS||mi,Fi=0;Fi<Ye.length;Fi++){var Oi=Ye.start(Fi)-this.bufferPadding,Ni=Ye.end(Fi)+this.bufferPadding;if(Mi>=Oi&&Pi<=Ni){ti.time.push({startPTS:Math.max(mi,Ye.start(Fi)),endPTS:Math.min(_i,Ye.end(Fi))});break}if(mi<Ni&&_i>Oi){var Ui=Math.max(mi,Ye.start(Fi)),Gi=Math.min(_i,Ye.end(Fi));Gi>Ui&&(ti.partial=!0,ti.time.push({startPTS:Ui,endPTS:Gi}))}else if(_i<=Oi)break}return ti},He.getPartialFragment=function(He){var $e,je,Ye,ti=null,mi=0,_i=this.bufferPadding,Pi=this.fragments;return Object.keys(Pi).forEach((function(Mi){var Fi=Pi[Mi];Fi&&Ii(Fi)&&(je=Fi.body.start-_i,Ye=Fi.body.end+_i,He>=je&&He<=Ye&&($e=Math.min(He-je,Ye-He),mi<=$e&&(ti=Fi.body,mi=$e)))})),ti},He.isEndListAppended=function(He){var $e=this.endListFragments[He];return void 0!==$e&&($e.buffered||Ii($e))},He.getState=function(He){var $e=Ci(He),je=this.fragments[$e];return je?je.buffered?Ii(je)?Na:Ua:Ba:Oa},He.isTimeBuffered=function(He,$e,je){for(var Ye,ti,mi=0;mi<je.length;mi++){if(Ye=je.start(mi)-this.bufferPadding,ti=je.end(mi)+this.bufferPadding,He>=Ye&&$e<=ti)return!0;if($e<=Ye)return!1}return!1},He.onFragLoaded=function(He,$e){var je=$e.frag,Ye=$e.part;if("initSegment"!==je.sn&&!je.bitrateTest){var ti=Ye?null:$e,mi=Ci(je);this.fragments[mi]={body:je,appendedPTS:null,loaded:ti,buffered:!1,range:Object.create(null)}}},He.onBufferAppended=function(He,$e){var je=this,Ye=$e.frag,ti=$e.part,mi=$e.timeRanges;if("initSegment"!==Ye.sn){var _i=Ye.type;if(ti){var Pi=this.activePartLists[_i];Pi||(this.activePartLists[_i]=Pi=[]),Pi.push(ti)}this.timeRanges=mi,Object.keys(mi).forEach((function(He){var $e=mi[He];je.detectEvictedFragments(He,$e,_i,ti)}))}},He.onFragBuffered=function(He,$e){this.detectPartialFragments($e)},He.hasFragment=function(He){var $e=Ci(He);return!!this.fragments[$e]},He.hasParts=function(He){var $e;return!(null==($e=this.activePartLists[He])||!$e.length)},He.removeFragmentsInRange=function(He,$e,je,Ye,ti){var mi=this;Ye&&!this.hasGaps||Object.keys(this.fragments).forEach((function(_i){var Pi=mi.fragments[_i];if(Pi){var Mi=Pi.body;Mi.type!==je||Ye&&!Mi.gap||Mi.start<$e&&Mi.end>He&&(Pi.buffered||ti)&&mi.removeFragment(Mi)}}))},He.removeFragment=function(He){var $e=Ci(He);He.stats.loaded=0,He.clearElementaryStreamInfo();var je=this.activePartLists[He.type];if(je){var Ye=He.sn;this.activePartLists[He.type]=je.filter((function(He){return He.fragment.sn!==Ye}))}delete this.fragments[$e],He.endList&&delete this.endListFragments[He.type]},He.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1},t}();function Ii(He){var $e,je,Ye;return He.buffered&&(He.body.gap||(null==($e=He.range.video)?void 0:$e.partial)||(null==(je=He.range.audio)?void 0:je.partial)||(null==(Ye=He.range.audiovideo)?void 0:Ye.partial))}function Ci(He){return He.type+"_"+He.level+"_"+He.sn}var Va=Math.pow(2,17),Ha=function(){function t(He){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=He}var He=t.prototype;return He.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},He.abort=function(){this.loader&&this.loader.abort()},He.load=function(He,$e){var je=this,Ye=He.url;if(!Ye)return Promise.reject(new $a({type:Ni.NETWORK_ERROR,details:Ui.FRAG_LOAD_ERROR,fatal:!1,frag:He,error:new Error("Fragment does not have a "+(Ye?"part list":"url")),networkDetails:null}));this.abort();var ti=this.config,mi=ti.fLoader,_i=ti.loader;return new Promise((function(Pi,Mi){if(je.loader&&je.loader.destroy(),He.gap){if(He.tagList.some((function(He){return"GAP"===He[0]})))return void Mi(wi(He));He.gap=!1}var Fi=je.loader=He.loader=mi?new mi(ti):new _i(ti),Oi=xi(He),Gi=Fe(ti.fragLoadPolicy.default),Vi={loadPolicy:Gi,timeout:Gi.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===He.sn?1/0:Va};He.stats=Fi.stats,Fi.load(Oi,Vi,{onSuccess:function($e,Ye,ti,mi){je.resetLoader(He,Fi);var _i=$e.data;ti.resetIV&&He.decryptdata&&(He.decryptdata.iv=new Uint8Array(_i.slice(0,16)),_i=_i.slice(16)),Pi({frag:He,part:null,payload:_i,networkDetails:mi})},onError:function($e,ti,mi,_i){je.resetLoader(He,Fi),Mi(new $a({type:Ni.NETWORK_ERROR,details:Ui.FRAG_LOAD_ERROR,fatal:!1,frag:He,response:r({url:Ye,data:void 0},$e),error:new Error("HTTP Error "+$e.code+" "+$e.text),networkDetails:mi,stats:_i}))},onAbort:function($e,Ye,ti){je.resetLoader(He,Fi),Mi(new $a({type:Ni.NETWORK_ERROR,details:Ui.INTERNAL_ABORTED,fatal:!1,frag:He,error:new Error("Aborted"),networkDetails:ti,stats:$e}))},onTimeout:function($e,Ye,ti){je.resetLoader(He,Fi),Mi(new $a({type:Ni.NETWORK_ERROR,details:Ui.FRAG_LOAD_TIMEOUT,fatal:!1,frag:He,error:new Error("Timeout after "+Vi.timeout+"ms"),networkDetails:ti,stats:$e}))},onProgress:function(je,Ye,ti,mi){$e&&$e({frag:He,part:null,payload:ti,networkDetails:mi})}})}))},He.loadPart=function(He,$e,je){var Ye=this;this.abort();var ti=this.config,mi=ti.fLoader,_i=ti.loader;return new Promise((function(Pi,Mi){if(Ye.loader&&Ye.loader.destroy(),He.gap||$e.gap)Mi(wi(He,$e));else{var Fi=Ye.loader=He.loader=mi?new mi(ti):new _i(ti),Oi=xi(He,$e),Gi=Fe(ti.fragLoadPolicy.default),Vi={loadPolicy:Gi,timeout:Gi.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Va};$e.stats=Fi.stats,Fi.load(Oi,Vi,{onSuccess:function(ti,mi,_i,Mi){Ye.resetLoader(He,Fi),Ye.updateStatsFromPart(He,$e);var Oi={frag:He,part:$e,payload:ti.data,networkDetails:Mi};je(Oi),Pi(Oi)},onError:function(je,ti,mi,_i){Ye.resetLoader(He,Fi),Mi(new $a({type:Ni.NETWORK_ERROR,details:Ui.FRAG_LOAD_ERROR,fatal:!1,frag:He,part:$e,response:r({url:Oi.url,data:void 0},je),error:new Error("HTTP Error "+je.code+" "+je.text),networkDetails:mi,stats:_i}))},onAbort:function(je,ti,mi){He.stats.aborted=$e.stats.aborted,Ye.resetLoader(He,Fi),Mi(new $a({type:Ni.NETWORK_ERROR,details:Ui.INTERNAL_ABORTED,fatal:!1,frag:He,part:$e,error:new Error("Aborted"),networkDetails:mi,stats:je}))},onTimeout:function(je,ti,mi){Ye.resetLoader(He,Fi),Mi(new $a({type:Ni.NETWORK_ERROR,details:Ui.FRAG_LOAD_TIMEOUT,fatal:!1,frag:He,part:$e,error:new Error("Timeout after "+Vi.timeout+"ms"),networkDetails:mi,stats:je}))}})}}))},He.updateStatsFromPart=function(He,$e){var je=He.stats,Ye=$e.stats,ti=Ye.total;if(je.loaded+=Ye.loaded,ti){var mi=Math.round(He.duration/$e.duration),_i=Math.min(Math.round(je.loaded/ti),mi),Pi=(mi-_i)*Math.round(je.loaded/_i);je.total=je.loaded+Pi}else je.total=Math.max(je.loaded,je.total);var Mi=je.loading,Fi=Ye.loading;Mi.start?Mi.first+=Fi.first-Fi.start:(Mi.start=Fi.start,Mi.first=Fi.first),Mi.end=Fi.end},He.resetLoader=function(He,$e){He.loader=null,this.loader===$e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),$e.destroy()},t}();function xi(He,$e){void 0===$e&&($e=null);var je=$e||He,Ye={frag:He,part:$e,responseType:"arraybuffer",url:je.url,headers:{},rangeStart:0,rangeEnd:0},ti=je.byteRangeStartOffset,mi=je.byteRangeEndOffset;if(Pi(ti)&&Pi(mi)){var _i,Mi=ti,Fi=mi;if("initSegment"===He.sn&&"AES-128"===(null==(_i=He.decryptdata)?void 0:_i.method)){var Oi=mi-ti;Oi%16&&(Fi=mi+(16-Oi%16)),0!==ti&&(Ye.resetIV=!0,Mi=ti-16)}Ye.rangeStart=Mi,Ye.rangeEnd=Fi}return Ye}function wi(He,$e){var je=new Error("GAP "+(He.gap?"tag":"attribute")+" found"),Ye={type:Ni.MEDIA_ERROR,details:Ui.FRAG_GAP,fatal:!1,frag:He,error:je,networkDetails:null};return $e&&(Ye.part=$e),($e||He).stats.aborted=!0,new $a(Ye)}var $a=function(He){function e($e){var je;return(je=He.call(this,$e.error.message)||this).data=void 0,je.data=$e,je}return h(e,He),e}(u(Error)),Wa=function(){function t(He){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=He}var He=t.prototype;return He.abort=function(He){for(var $e in this.keyUriToKeyInfo){var je=this.keyUriToKeyInfo[$e].loader;if(je){var Ye;if(He&&He!==(null==(Ye=je.context)?void 0:Ye.frag.type))return;je.abort()}}},He.detach=function(){for(var He in this.keyUriToKeyInfo){var $e=this.keyUriToKeyInfo[He];($e.mediaKeySessionContext||$e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[He]}},He.destroy=function(){for(var He in this.detach(),this.keyUriToKeyInfo){var $e=this.keyUriToKeyInfo[He].loader;$e&&$e.destroy()}this.keyUriToKeyInfo={}},He.createKeyLoadError=function(He,$e,je,Ye,ti){return void 0===$e&&($e=Ui.KEY_LOAD_ERROR),new $a({type:Ni.NETWORK_ERROR,details:$e,fatal:!1,frag:He,response:ti,error:je,networkDetails:Ye})},He.loadClear=function(He,$e){var je=this;if(this.emeController&&this.config.emeEnabled)for(var Ye=He.sn,ti=He.cc,s=function(){var He=$e[mi];if(ti<=He.cc&&("initSegment"===Ye||"initSegment"===He.sn||Ye<He.sn))return je.emeController.selectKeySystemFormat(He).then((function($e){He.setKeyFormat($e)})),1},mi=0;mi<$e.length&&!s();mi++);},He.load=function(He){var $e=this;return!He.decryptdata&&He.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(He).then((function(je){return $e.loadInternal(He,je)})):this.loadInternal(He)},He.loadInternal=function(He,$e){var je,Ye;$e&&He.setKeyFormat($e);var ti=He.decryptdata;if(!ti){var mi=new Error($e?"Expected frag.decryptdata to be defined after setting format "+$e:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(He,Ui.KEY_LOAD_ERROR,mi))}var _i=ti.uri;if(!_i)return Promise.reject(this.createKeyLoadError(He,Ui.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+_i+'"')));var Pi,Mi=this.keyUriToKeyInfo[_i];if(null!=(je=Mi)&&je.decryptdata.key)return ti.key=Mi.decryptdata.key,Promise.resolve({frag:He,keyInfo:Mi});if(null!=(Ye=Mi)&&Ye.keyLoadPromise)switch(null==(Pi=Mi.mediaKeySessionContext)?void 0:Pi.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return Mi.keyLoadPromise.then((function($e){return ti.key=$e.keyInfo.decryptdata.key,{frag:He,keyInfo:Mi}}))}switch(Mi=this.keyUriToKeyInfo[_i]={decryptdata:ti,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},ti.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===ti.keyFormat?this.loadKeyHTTP(Mi,He):this.loadKeyEME(Mi,He);case"AES-128":return this.loadKeyHTTP(Mi,He);default:return Promise.reject(this.createKeyLoadError(He,Ui.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+ti.method+'"')))}},He.loadKeyEME=function(He,$e){var je={frag:$e,keyInfo:He};if(this.emeController&&this.config.emeEnabled){var Ye=this.emeController.loadKey(je);if(Ye)return(He.keyLoadPromise=Ye.then((function($e){return He.mediaKeySessionContext=$e,je}))).catch((function($e){throw He.keyLoadPromise=null,$e}))}return Promise.resolve(je)},He.loadKeyHTTP=function(He,$e){var je=this,Ye=this.config,ti=new Ye.loader(Ye);return $e.keyLoader=He.loader=ti,He.keyLoadPromise=new Promise((function(mi,_i){var Pi={keyInfo:He,frag:$e,responseType:"arraybuffer",url:He.decryptdata.uri},Mi=Ye.keyLoadPolicy.default,Fi={loadPolicy:Mi,timeout:Mi.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},Oi={onSuccess:function(He,$e,Ye,ti){var Pi=Ye.frag,Mi=Ye.keyInfo,Fi=Ye.url;if(!Pi.decryptdata||Mi!==je.keyUriToKeyInfo[Fi])return _i(je.createKeyLoadError(Pi,Ui.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),ti));Mi.decryptdata.key=Pi.decryptdata.key=new Uint8Array(He.data),Pi.keyLoader=null,Mi.loader=null,mi({frag:Pi,keyInfo:Mi})},onError:function(He,Ye,ti,mi){je.resetLoader(Ye),_i(je.createKeyLoadError($e,Ui.KEY_LOAD_ERROR,new Error("HTTP Error "+He.code+" loading key "+He.text),ti,r({url:Pi.url,data:void 0},He)))},onTimeout:function(He,Ye,ti){je.resetLoader(Ye),_i(je.createKeyLoadError($e,Ui.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),ti))},onAbort:function(He,Ye,ti){je.resetLoader(Ye),_i(je.createKeyLoadError($e,Ui.INTERNAL_ABORTED,new Error("key loading aborted"),ti))}};ti.load(Pi,Fi,Oi)}))},He.resetLoader=function(He){var $e=He.frag,je=He.keyInfo,Ye=He.url,ti=je.loader;$e.keyLoader===ti&&($e.keyLoader=null,je.loader=null),delete this.keyUriToKeyInfo[Ye],ti&&ti.destroy()},t}(),za=function(){function t(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var He=t.prototype;return He.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},He.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},He.onHandlerDestroyed=function(){},He.hasInterval=function(){return!!this._tickInterval},He.hasNextTick=function(){return!!this._tickTimer},He.setInterval=function(He){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,He),!0)},He.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},He.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},He.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},He.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},He.doTick=function(){},t}(),Di=function(He,$e,je,Ye,ti,mi){void 0===Ye&&(Ye=0),void 0===ti&&(ti=-1),void 0===mi&&(mi=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=He,this.sn=$e,this.id=je,this.size=Ye,this.part=ti,this.partial=mi};function Ri(He,$e){for(var je=0,Ye=He.length;je<Ye;je++){var ti;if((null==(ti=He[je])?void 0:ti.cc)===$e)return He[je]}return null}function Li(He,$e){if(He){var je=He.start+$e;He.start=He.startPTS=je,He.endPTS=je+He.duration}}function Ti(He,$e){for(var je=$e.fragments,Ye=0,ti=je.length;Ye<ti;Ye++)Li(je[Ye],He);$e.fragmentHint&&Li($e.fragmentHint,He),$e.alignedSliding=!0}var Ka=function(){function t(He,$e){this.subtle=void 0,this.aesIV=void 0,this.subtle=He,this.aesIV=$e}return t.prototype.decrypt=function(He,$e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},$e,He)},t}(),ja=function(){function t(He,$e){this.subtle=void 0,this.key=void 0,this.subtle=He,this.key=$e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),Ya=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var He=t.prototype;return He.uint8ArrayToUint32Array_=function(He){for(var $e=new DataView(He),je=new Uint32Array(4),Ye=0;Ye<4;Ye++)je[Ye]=$e.getUint32(4*Ye);return je},He.initTable=function(){var He=this.sBox,$e=this.invSBox,je=this.subMix,Ye=je[0],ti=je[1],mi=je[2],_i=je[3],Pi=this.invSubMix,Mi=Pi[0],Fi=Pi[1],Oi=Pi[2],Ni=Pi[3],Ui=new Uint32Array(256),Gi=0,Vi=0,Hi=0;for(Hi=0;Hi<256;Hi++)Ui[Hi]=Hi<128?Hi<<1:Hi<<1^283;for(Hi=0;Hi<256;Hi++){var zi=Vi^Vi<<1^Vi<<2^Vi<<3^Vi<<4;zi=zi>>>8^255&zi^99,He[Gi]=zi,$e[zi]=Gi;var Ki=Ui[Gi],ji=Ui[Ki],Yi=Ui[ji],qi=257*Ui[zi]^16843008*zi;Ye[Gi]=qi<<24|qi>>>8,ti[Gi]=qi<<16|qi>>>16,mi[Gi]=qi<<8|qi>>>24,_i[Gi]=qi,qi=16843009*Yi^65537*ji^257*Ki^16843008*Gi,Mi[zi]=qi<<24|qi>>>8,Fi[zi]=qi<<16|qi>>>16,Oi[zi]=qi<<8|qi>>>24,Ni[zi]=qi,Gi?(Gi=Ki^Ui[Ui[Ui[Yi^Ki]]],Vi^=Ui[Ui[Vi]]):Gi=Vi=1}},He.expandKey=function(He){for(var $e=this.uint8ArrayToUint32Array_(He),je=!0,Ye=0;Ye<$e.length&&je;)je=$e[Ye]===this.key[Ye],Ye++;if(!je){this.key=$e;var ti=this.keySize=$e.length;if(4!==ti&&6!==ti&&8!==ti)throw new Error("Invalid aes key size="+ti);var mi,_i,Pi,Mi,Fi=this.ksRows=4*(ti+6+1),Oi=this.keySchedule=new Uint32Array(Fi),Ni=this.invKeySchedule=new Uint32Array(Fi),Ui=this.sBox,Gi=this.rcon,Vi=this.invSubMix,Hi=Vi[0],zi=Vi[1],Ki=Vi[2],ji=Vi[3];for(mi=0;mi<Fi;mi++)mi<ti?Pi=Oi[mi]=$e[mi]:(Mi=Pi,mi%ti==0?(Mi=Ui[(Mi=Mi<<8|Mi>>>24)>>>24]<<24|Ui[Mi>>>16&255]<<16|Ui[Mi>>>8&255]<<8|Ui[255&Mi],Mi^=Gi[mi/ti|0]<<24):ti>6&&mi%ti==4&&(Mi=Ui[Mi>>>24]<<24|Ui[Mi>>>16&255]<<16|Ui[Mi>>>8&255]<<8|Ui[255&Mi]),Oi[mi]=Pi=(Oi[mi-ti]^Mi)>>>0);for(_i=0;_i<Fi;_i++)mi=Fi-_i,Mi=3&_i?Oi[mi]:Oi[mi-4],Ni[_i]=_i<4||mi<=4?Mi:Hi[Ui[Mi>>>24]]^zi[Ui[Mi>>>16&255]]^Ki[Ui[Mi>>>8&255]]^ji[Ui[255&Mi]],Ni[_i]=Ni[_i]>>>0}},He.networkToHostOrderSwap=function(He){return He<<24|(65280&He)<<8|(16711680&He)>>8|He>>>24},He.decrypt=function(He,$e,je){for(var Ye,ti,mi,_i,Pi,Mi,Fi,Oi,Ni,Ui,Gi,Vi,Hi,zi,Ki=this.keySize+6,ji=this.invKeySchedule,Yi=this.invSBox,qi=this.invSubMix,Xi=qi[0],lr=qi[1],hr=qi[2],dr=qi[3],ur=this.uint8ArrayToUint32Array_(je),vr=ur[0],yr=ur[1],xr=ur[2],kr=ur[3],Er=new Int32Array(He),Tr=new Int32Array(Er.length),Ar=this.networkToHostOrderSwap;$e<Er.length;){for(Ni=Ar(Er[$e]),Ui=Ar(Er[$e+1]),Gi=Ar(Er[$e+2]),Vi=Ar(Er[$e+3]),Pi=Ni^ji[0],Mi=Vi^ji[1],Fi=Gi^ji[2],Oi=Ui^ji[3],Hi=4,zi=1;zi<Ki;zi++)Ye=Xi[Pi>>>24]^lr[Mi>>16&255]^hr[Fi>>8&255]^dr[255&Oi]^ji[Hi],ti=Xi[Mi>>>24]^lr[Fi>>16&255]^hr[Oi>>8&255]^dr[255&Pi]^ji[Hi+1],mi=Xi[Fi>>>24]^lr[Oi>>16&255]^hr[Pi>>8&255]^dr[255&Mi]^ji[Hi+2],_i=Xi[Oi>>>24]^lr[Pi>>16&255]^hr[Mi>>8&255]^dr[255&Fi]^ji[Hi+3],Pi=Ye,Mi=ti,Fi=mi,Oi=_i,Hi+=4;Ye=Yi[Pi>>>24]<<24^Yi[Mi>>16&255]<<16^Yi[Fi>>8&255]<<8^Yi[255&Oi]^ji[Hi],ti=Yi[Mi>>>24]<<24^Yi[Fi>>16&255]<<16^Yi[Oi>>8&255]<<8^Yi[255&Pi]^ji[Hi+1],mi=Yi[Fi>>>24]<<24^Yi[Oi>>16&255]<<16^Yi[Pi>>8&255]<<8^Yi[255&Mi]^ji[Hi+2],_i=Yi[Oi>>>24]<<24^Yi[Pi>>16&255]<<16^Yi[Mi>>8&255]<<8^Yi[255&Fi]^ji[Hi+3],Tr[$e]=Ar(Ye^vr),Tr[$e+1]=Ar(_i^yr),Tr[$e+2]=Ar(mi^xr),Tr[$e+3]=Ar(ti^kr),vr=Ni,yr=Ui,xr=Gi,kr=Vi,$e+=4}return Tr.buffer},t}(),qa=function(){function t(He,$e){var je=(void 0===$e?{}:$e).removePKCS7Padding,Ye=void 0===je||je;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=He.enableSoftwareAES,this.removePKCS7Padding=Ye,Ye)try{var ti=self.crypto;ti&&(this.subtle=ti.subtle||ti.webkitSubtle)}catch(He){}null===this.subtle&&(this.useSoftware=!0)}var He=t.prototype;return He.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},He.isSync=function(){return this.useSoftware},He.flush=function(){var He=this.currentResult,$e=this.remainderData;if(!He||$e)return this.reset(),null;var je,Ye,ti,mi=new Uint8Array(He);return this.reset(),this.removePKCS7Padding?(ti=(Ye=(je=mi).byteLength)&&new DataView(je.buffer).getUint8(Ye-1))?K(je,0,Ye-ti):je:mi},He.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},He.decrypt=function(He,$e,je){var Ye=this;return this.useSoftware?new Promise((function(ti,mi){Ye.softwareDecrypt(new Uint8Array(He),$e,je);var _i=Ye.flush();_i?ti(_i.buffer):mi(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(He),$e,je)},He.softwareDecrypt=function(He,$e,je){var Ye=this.currentIV,ti=this.currentResult,mi=this.remainderData;this.logOnce("JS AES decrypt"),mi&&(He=wt(mi,He),this.remainderData=null);var _i=this.getValidChunk(He);if(!_i.length)return null;Ye&&(je=Ye);var Pi=this.softwareDecrypter;Pi||(Pi=this.softwareDecrypter=new Ya),Pi.expandKey($e);var Mi=ti;return this.currentResult=Pi.decrypt(_i.buffer,0,je),this.currentIV=K(_i,-16).buffer,Mi||null},He.webCryptoDecrypt=function(He,$e,je){var Ye=this,ti=this.subtle;return this.key===$e&&this.fastAesKey||(this.key=$e,this.fastAesKey=new ja(ti,$e)),this.fastAesKey.expandKey().then((function($e){return ti?(Ye.logOnce("WebCrypto AES decrypt"),new Ka(ti,new Uint8Array(je)).decrypt(He.buffer,$e)):Promise.reject(new Error("web crypto not initialized"))})).catch((function(ti){return Hi.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+ti.name+": "+ti.message),Ye.onWebCryptoError(He,$e,je)}))},He.onWebCryptoError=function(He,$e,je){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(He,$e,je);var Ye=this.flush();if(Ye)return Ye.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},He.getValidChunk=function(He){var $e=He,je=He.length-He.length%16;return je!==He.length&&($e=K(He,0,je),this.remainderData=K(He,je)),$e},He.logOnce=function(He){this.logEnabled&&(Hi.log("[decrypter]: "+He),this.logEnabled=!1)},t}(),Xa="STOPPED",Za="IDLE",Ja="KEY_LOADING",Qa="FRAG_LOADING",ts="FRAG_LOADING_WAITING_RETRY",es="PARSING",is="PARSED",rs="ENDED",as="ERROR",ss="WAITING_LEVEL",ns=function(He){function e($e,je,Ye,ti,mi){var _i;return(_i=He.call(this)||this).hls=void 0,_i.fragPrevious=null,_i.fragCurrent=null,_i.fragmentTracker=void 0,_i.transmuxer=null,_i._state=Xa,_i.playlistType=void 0,_i.media=null,_i.mediaBuffer=null,_i.config=void 0,_i.bitrateTest=!1,_i.lastCurrentTime=0,_i.nextLoadPosition=0,_i.startPosition=0,_i.startTimeOffset=null,_i.loadedmetadata=!1,_i.retryDate=0,_i.levels=null,_i.fragmentLoader=void 0,_i.keyLoader=void 0,_i.levelLastLoaded=null,_i.startFragRequested=!1,_i.decrypter=void 0,_i.initPTS=[],_i.onvseeking=null,_i.onvended=null,_i.logPrefix="",_i.log=void 0,_i.warn=void 0,_i.playlistType=mi,_i.logPrefix=ti,_i.log=Hi.log.bind(Hi,ti+":"),_i.warn=Hi.warn.bind(Hi,ti+":"),_i.hls=$e,_i.fragmentLoader=new Ha($e.config),_i.keyLoader=Ye,_i.fragmentTracker=je,_i.config=$e.config,_i.decrypter=new qa($e.config),$e.on(Oi.MANIFEST_LOADED,_i.onManifestLoaded,function(He){if(void 0===He)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return He}(_i)),_i}h(e,He);var $e=e.prototype;return $e.doTick=function(){this.onTickEnd()},$e.onTickEnd=function(){},$e.startLoad=function(He){},$e.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var He=this.fragCurrent;null!=He&&He.loader&&(He.abortRequests(),this.fragmentTracker.removeFragment(He)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Xa},$e._streamEnded=function(He,$e){if($e.live||He.nextStart||!He.end||!this.media)return!1;var je=$e.partList;if(null!=je&&je.length){var Ye=je[je.length-1];return ka.isBuffered(this.media,Ye.start+Ye.duration/2)}var ti=$e.fragments[$e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(ti)},$e.getLevelDetails=function(){var He;if(this.levels&&null!==this.levelLastLoaded)return null==(He=this.levelLastLoaded)?void 0:He.details},$e.onMediaAttached=function(He,$e){var je=this.media=this.mediaBuffer=$e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),je.addEventListener("seeking",this.onvseeking),je.addEventListener("ended",this.onvended);var Ye=this.config;this.levels&&Ye.autoStartLoad&&this.state===Xa&&this.startLoad(Ye.startPosition)},$e.onMediaDetaching=function(){var He=this.media;null!=He&&He.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),He&&this.onvseeking&&this.onvended&&(He.removeEventListener("seeking",this.onvseeking),He.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},$e.onMediaSeeking=function(){var He=this.config,$e=this.fragCurrent,je=this.media,Ye=this.mediaBuffer,ti=this.state,mi=je?je.currentTime:0,_i=ka.bufferInfo(Ye||je,mi,He.maxBufferHole);if(this.log("media seeking to "+(Pi(mi)?mi.toFixed(3):mi)+", state: "+ti),this.state===rs)this.resetLoadingState();else if($e){var Mi=He.maxFragLookUpTolerance,Fi=$e.start-Mi,Oi=$e.start+$e.duration+Mi;if(!_i.len||Oi<_i.start||Fi>_i.end){var Ni=mi>Oi;(mi<Fi||Ni)&&(Ni&&$e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),$e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}je&&(this.fragmentTracker.removeFragmentsInRange(mi,1/0,this.playlistType,!0),this.lastCurrentTime=mi),this.loadedmetadata||_i.len||(this.nextLoadPosition=this.startPosition=mi),this.tickImmediate()},$e.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},$e.onManifestLoaded=function(He,$e){this.startTimeOffset=$e.startTimeOffset,this.initPTS=[]},$e.onHandlerDestroying=function(){this.hls.off(Oi.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),He.prototype.onHandlerDestroying.call(this),this.hls=null},$e.onHandlerDestroyed=function(){this.state=Xa,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,He.prototype.onHandlerDestroyed.call(this)},$e.loadFragment=function(He,$e,je){this._loadFragForPlayback(He,$e,je)},$e._loadFragForPlayback=function(He,$e,je){var Ye=this;this._doFragLoad(He,$e,je,(function($e){if(Ye.fragContextChanged(He))return Ye.warn("Fragment "+He.sn+($e.part?" p: "+$e.part.index:"")+" of level "+He.level+" was dropped during download."),void Ye.fragmentTracker.removeFragment(He);He.stats.chunkCount++,Ye._handleFragmentLoadProgress($e)})).then((function($e){if($e){var je=Ye.state;Ye.fragContextChanged(He)?(je===Qa||!Ye.fragCurrent&&je===es)&&(Ye.fragmentTracker.removeFragment(He),Ye.state=Za):("payload"in $e&&(Ye.log("Loaded fragment "+He.sn+" of level "+He.level),Ye.hls.trigger(Oi.FRAG_LOADED,$e)),Ye._handleFragmentLoadComplete($e))}})).catch((function($e){Ye.state!==Xa&&Ye.state!==as&&(Ye.warn($e),Ye.resetFragmentLoading(He))}))},$e.clearTrackerIfNeeded=function(He){var $e,je=this.fragmentTracker;if(je.getState(He)===Ba){var Ye=He.type,ti=this.getFwdBufferInfo(this.mediaBuffer,Ye),mi=Math.max(He.duration,ti?ti.len:this.config.maxBufferLength);this.reduceMaxBufferLength(mi)&&je.removeFragment(He)}else 0===(null==($e=this.mediaBuffer)?void 0:$e.buffered.length)?je.removeAllFragments():je.hasParts(He.type)&&(je.detectPartialFragments({frag:He,part:null,stats:He.stats,id:He.type}),je.getState(He)===Na&&je.removeFragment(He))},$e.checkLiveUpdate=function(He){if(He.updated&&!He.live){var $e=He.fragments[He.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:$e,part:null,stats:$e.stats,id:$e.type})}He.fragments[0]||(He.deltaUpdateFailed=!0)},$e.flushMainBuffer=function(He,$e,je){if(void 0===je&&(je=null),He-$e){var Ye={startOffset:He,endOffset:$e,type:je};this.hls.trigger(Oi.BUFFER_FLUSHING,Ye)}},$e._loadInitSegment=function(He,$e){var je=this;this._doFragLoad(He,$e).then((function($e){if(!$e||je.fragContextChanged(He)||!je.levels)throw new Error("init load aborted");return $e})).then((function($e){var Ye=je.hls,ti=$e.payload,mi=He.decryptdata;if(ti&&ti.byteLength>0&&null!=mi&&mi.key&&mi.iv&&"AES-128"===mi.method){var _i=self.performance.now();return je.decrypter.decrypt(new Uint8Array(ti),mi.key.buffer,mi.iv.buffer).catch((function($e){throw Ye.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_DECRYPT_ERROR,fatal:!1,error:$e,reason:$e.message,frag:He}),$e})).then((function(ti){var mi=self.performance.now();return Ye.trigger(Oi.FRAG_DECRYPTED,{frag:He,payload:ti,stats:{tstart:_i,tdecrypt:mi}}),$e.payload=ti,je.completeInitSegmentLoad($e)}))}return je.completeInitSegmentLoad($e)})).catch((function($e){je.state!==Xa&&je.state!==as&&(je.warn($e),je.resetFragmentLoading(He))}))},$e.completeInitSegmentLoad=function(He){if(!this.levels)throw new Error("init load aborted, missing levels");var $e=He.frag.stats;this.state=Za,He.frag.data=new Uint8Array(He.payload),$e.parsing.start=$e.buffering.start=self.performance.now(),$e.parsing.end=$e.buffering.end=self.performance.now(),this.tick()},$e.fragContextChanged=function(He){var $e=this.fragCurrent;return!He||!$e||He.sn!==$e.sn||He.level!==$e.level},$e.fragBufferedComplete=function(He,$e){var je,Ye,ti,mi,_i=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log("Buffered "+He.type+" sn: "+He.sn+($e?" part: "+$e.index:"")+" of "+(this.playlistType===Kr?"level":"track")+" "+He.level+" (frag:["+(null!=(je=He.startPTS)?je:NaN).toFixed(3)+"-"+(null!=(Ye=He.endPTS)?Ye:NaN).toFixed(3)+"] > buffer:"+(_i?function(He){for(var $e="",je=He.length,Ye=0;Ye<je;Ye++)$e+="["+He.start(Ye).toFixed(3)+"-"+He.end(Ye).toFixed(3)+"]";return $e}(ka.getBuffered(_i)):"(detached)")+")"),"initSegment"!==He.sn){var Pi;if(He.type!==ta){var Mi=He.elementaryStreams;if(!Object.keys(Mi).some((function(He){return!!Mi[He]})))return void(this.state=Za)}var Fi=null==(Pi=this.levels)?void 0:Pi[He.level];null!=Fi&&Fi.fragmentError&&(this.log("Resetting level fragment error count of "+Fi.fragmentError+" on frag buffered"),Fi.fragmentError=0)}this.state=Za,_i&&(!this.loadedmetadata&&He.type==Kr&&_i.buffered.length&&(null==(ti=this.fragCurrent)?void 0:ti.sn)===(null==(mi=this.fragPrevious)?void 0:mi.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},$e.seekToStartPos=function(){},$e._handleFragmentLoadComplete=function(He){var $e=this.transmuxer;if($e){var je=He.frag,Ye=He.part,ti=He.partsLoaded,mi=!ti||0===ti.length||ti.some((function(He){return!He})),_i=new Di(je.level,je.sn,je.stats.chunkCount+1,0,Ye?Ye.index:-1,!mi);$e.flush(_i)}},$e._handleFragmentLoadProgress=function(He){},$e._doFragLoad=function(He,$e,je,Ye){var ti,mi=this;void 0===je&&(je=null);var _i=null==$e?void 0:$e.details;if(!this.levels||!_i)throw new Error("frag load aborted, missing level"+(_i?"":" detail")+"s");var Mi=null;if(!He.encrypted||null!=(ti=He.decryptdata)&&ti.key?!He.encrypted&&_i.encryptedFragments.length&&this.keyLoader.loadClear(He,_i.encryptedFragments):(this.log("Loading key for "+He.sn+" of ["+_i.startSN+"-"+_i.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+He.level),this.state=Ja,this.fragCurrent=He,Mi=this.keyLoader.load(He).then((function(He){if(!mi.fragContextChanged(He.frag))return mi.hls.trigger(Oi.KEY_LOADED,He),mi.state===Ja&&(mi.state=Za),He})),this.hls.trigger(Oi.KEY_LOADING,{frag:He}),null===this.fragCurrent&&(Mi=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),je=Math.max(He.start,je||0),this.config.lowLatencyMode&&"initSegment"!==He.sn){var Fi=_i.partList;if(Fi&&Ye){je>He.end&&_i.fragmentHint&&(He=_i.fragmentHint);var Ni=this.getNextPart(Fi,He,je);if(Ni>-1){var Ui,Gi=Fi[Ni];return this.log("Loading part sn: "+He.sn+" p: "+Gi.index+" cc: "+He.cc+" of playlist ["+_i.startSN+"-"+_i.endSN+"] parts [0-"+Ni+"-"+(Fi.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+He.level+", target: "+parseFloat(je.toFixed(3))),this.nextLoadPosition=Gi.start+Gi.duration,this.state=Qa,Ui=Mi?Mi.then((function(je){return!je||mi.fragContextChanged(je.frag)?null:mi.doFragPartsLoad(He,Gi,$e,Ye)})).catch((function(He){return mi.handleFragLoadError(He)})):this.doFragPartsLoad(He,Gi,$e,Ye).catch((function(He){return mi.handleFragLoadError(He)})),this.hls.trigger(Oi.FRAG_LOADING,{frag:He,part:Gi,targetBufferTime:je}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):Ui}if(!He.url||this.loadedEndOfParts(Fi,je))return Promise.resolve(null)}}this.log("Loading fragment "+He.sn+" cc: "+He.cc+" "+(_i?"of ["+_i.startSN+"-"+_i.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+He.level+", target: "+parseFloat(je.toFixed(3))),Pi(He.sn)&&!this.bitrateTest&&(this.nextLoadPosition=He.start+He.duration),this.state=Qa;var Vi,Hi=this.config.progressive;return Vi=Hi&&Mi?Mi.then((function($e){return!$e||mi.fragContextChanged(null==$e?void 0:$e.frag)?null:mi.fragmentLoader.load(He,Ye)})).catch((function(He){return mi.handleFragLoadError(He)})):Promise.all([this.fragmentLoader.load(He,Hi?Ye:void 0),Mi]).then((function(He){var $e=He[0];return!Hi&&$e&&Ye&&Ye($e),$e})).catch((function(He){return mi.handleFragLoadError(He)})),this.hls.trigger(Oi.FRAG_LOADING,{frag:He,targetBufferTime:je}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):Vi},$e.doFragPartsLoad=function(He,$e,je,Ye){var ti=this;return new Promise((function(mi,_i){var Pi,Mi=[],Fi=null==(Pi=je.details)?void 0:Pi.partList;!function e($e){ti.fragmentLoader.loadPart(He,$e,Ye).then((function(Ye){Mi[$e.index]=Ye;var _i=Ye.part;ti.hls.trigger(Oi.FRAG_LOADED,Ye);var Pi=be(je,He.sn,$e.index+1)||De(Fi,He.sn,$e.index+1);if(!Pi)return mi({frag:He,part:_i,partsLoaded:Mi});e(Pi)})).catch(_i)}($e)}))},$e.handleFragLoadError=function(He){if("data"in He){var $e=He.data;He.data&&$e.details===Ui.INTERNAL_ABORTED?this.handleFragLoadAborted($e.frag,$e.part):this.hls.trigger(Oi.ERROR,$e)}else this.hls.trigger(Oi.ERROR,{type:Ni.OTHER_ERROR,details:Ui.INTERNAL_EXCEPTION,err:He,error:He,fatal:!0});return null},$e._handleTransmuxerFlush=function(He){var $e=this.getCurrentContext(He);if($e&&this.state===es){var je=$e.frag,Ye=$e.part,ti=$e.level,mi=self.performance.now();je.stats.parsing.end=mi,Ye&&(Ye.stats.parsing.end=mi),this.updateLevelTiming(je,Ye,ti,He.partial)}else this.fragCurrent||this.state===Xa||this.state===as||(this.state=Za)},$e.getCurrentContext=function(He){var $e=this.levels,je=this.fragCurrent,Ye=He.level,ti=He.sn,mi=He.part;if(null==$e||!$e[Ye])return this.warn("Levels object was unset while buffering fragment "+ti+" of level "+Ye+". The current chunk will not be buffered."),null;var _i=$e[Ye],Pi=mi>-1?be(_i,ti,mi):null,Mi=Pi?Pi.fragment:function(He,$e,je){if(null==He||!He.details)return null;var Ye=He.details,ti=Ye.fragments[$e-Ye.startSN];return ti||((ti=Ye.fragmentHint)&&ti.sn===$e?ti:$e<Ye.startSN&&je&&je.sn===$e?je:null)}(_i,ti,je);return Mi?(je&&je!==Mi&&(Mi.stats=je.stats),{frag:Mi,part:Pi,level:_i}):null},$e.bufferFragmentData=function(He,$e,je,Ye,ti){var mi;if(He&&this.state===es){var _i=He.data1,Pi=He.data2,Mi=_i;if(_i&&Pi&&(Mi=wt(_i,Pi)),null!=(mi=Mi)&&mi.length){var Fi={type:He.type,frag:$e,part:je,chunkMeta:Ye,parent:$e.type,data:Mi};if(this.hls.trigger(Oi.BUFFER_APPENDING,Fi),He.dropped&&He.independent&&!je){if(ti)return;this.flushBufferGap($e)}}}},$e.flushBufferGap=function(He){var $e=this.media;if($e)if(ka.isBuffered($e,$e.currentTime)){var je=$e.currentTime,Ye=ka.bufferInfo($e,je,0),ti=He.duration,mi=Math.min(2*this.config.maxFragLookUpTolerance,.25*ti),_i=Math.max(Math.min(He.start-mi,Ye.end-mi),je+mi);He.start-_i>mi&&this.flushMainBuffer(_i,He.start)}else this.flushMainBuffer(0,He.start)},$e.getFwdBufferInfo=function(He,$e){var je=this.getLoadPosition();return Pi(je)?this.getFwdBufferInfoAtPos(He,je,$e):null},$e.getFwdBufferInfoAtPos=function(He,$e,je){var Ye=this.config.maxBufferHole,ti=ka.bufferInfo(He,$e,Ye);if(0===ti.len&&void 0!==ti.nextStart){var mi=this.fragmentTracker.getBufferedFrag($e,je);if(mi&&ti.nextStart<mi.end)return ka.bufferInfo(He,$e,Math.max(ti.nextStart,Ye))}return ti},$e.getMaxBufferLength=function(He){var $e,je=this.config;return $e=He?Math.max(8*je.maxBufferSize/He,je.maxBufferLength):je.maxBufferLength,Math.min($e,je.maxMaxBufferLength)},$e.reduceMaxBufferLength=function(He){var $e=this.config,je=He||$e.maxBufferLength;return $e.maxMaxBufferLength>=je&&($e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+$e.maxMaxBufferLength+"s"),!0)},$e.getAppendedFrag=function(He,$e){var je=this.fragmentTracker.getAppendedFrag(He,Kr);return je&&"fragment"in je?je.fragment:je},$e.getNextFragment=function(He,$e){var je=$e.fragments,Ye=je.length;if(!Ye)return null;var ti,mi=this.config,_i=je[0].start;if($e.live){var Pi=mi.initialLiveManifestSize;if(Ye<Pi)return this.warn("Not enough fragments to start playback (have: "+Ye+", need: "+Pi+")"),null;(!$e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||He<_i)&&(ti=this.getInitialLiveFragment($e,je),this.startPosition=this.nextLoadPosition=ti?this.hls.liveSyncPosition||ti.start:He)}else He<=_i&&(ti=je[0]);if(!ti){var Mi=mi.lowLatencyMode?$e.partEnd:$e.fragmentEnd;ti=this.getFragmentAtPosition(He,Mi,$e)}return this.mapToInitFragWhenRequired(ti)},$e.isLoopLoading=function(He,$e){var je=this.fragmentTracker.getState(He);return(je===Ua||je===Na&&!!He.gap)&&this.nextLoadPosition>$e},$e.getNextFragmentLoopLoading=function(He,$e,je,Ye,ti){var mi=He.gap,_i=this.getNextFragment(this.nextLoadPosition,$e);if(null===_i)return _i;if(He=_i,mi&&He&&!He.gap&&je.nextStart){var Pi=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,je.nextStart,Ye);if(null!==Pi&&je.len+Pi.len>=ti)return this.log('buffer full after gaps in "'+Ye+'" playlist starting at sn: '+He.sn),null}return He},$e.mapToInitFragWhenRequired=function(He){return null==He||!He.initSegment||null!=He&&He.initSegment.data||this.bitrateTest?He:He.initSegment},$e.getNextPart=function(He,$e,je){for(var Ye=-1,ti=!1,mi=!0,_i=0,Pi=He.length;_i<Pi;_i++){var Mi=He[_i];if(mi=mi&&!Mi.independent,Ye>-1&&je<Mi.start)break;var Fi=Mi.loaded;Fi?Ye=-1:(ti||Mi.independent||mi)&&Mi.fragment===$e&&(Ye=_i),ti=Fi}return Ye},$e.loadedEndOfParts=function(He,$e){var je=He[He.length-1];return je&&$e>je.start&&je.loaded},$e.getInitialLiveFragment=function(He,$e){var je,Ye,ti=this.fragPrevious,mi=null;if(ti){if(He.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+ti.programDateTime),mi=function(He,$e,je){if(null===$e||!Array.isArray(He)||!He.length||!Pi($e))return null;if($e<(He[0].programDateTime||0))return null;if($e>=(He[He.length-1].endProgramDateTime||0))return null;je=je||0;for(var Ye=0;Ye<He.length;++Ye){var ti=He[Ye];if(Ge($e,je,ti))return ti}return null}($e,ti.endProgramDateTime,this.config.maxFragLookUpTolerance)),!mi){var _i=ti.sn+1;if(_i>=He.startSN&&_i<=He.endSN){var Mi=$e[_i-He.startSN];ti.cc===Mi.cc&&(mi=Mi,this.log("Live playlist, switching playlist, load frag with next SN: "+mi.sn))}mi||(je=$e,Ye=ti.cc,(mi=_e(je,(function(He){return He.cc<Ye?1:He.cc>Ye?-1:0})))&&this.log("Live playlist, switching playlist, load frag with same CC: "+mi.sn))}}else{var Fi=this.hls.liveSyncPosition;null!==Fi&&(mi=this.getFragmentAtPosition(Fi,this.bitrateTest?He.fragmentEnd:He.edge,He))}return mi},$e.getFragmentAtPosition=function(He,$e,je){var Ye,ti=this.config,mi=this.fragPrevious,_i=je.fragments,Pi=je.endSN,Mi=je.fragmentHint,Fi=ti.maxFragLookUpTolerance,Oi=je.partList,Ni=!!(ti.lowLatencyMode&&null!=Oi&&Oi.length&&Mi);if(Ni&&Mi&&!this.bitrateTest&&(_i=_i.concat(Mi),Pi=Mi.sn),Ye=He<$e?Ne(mi,_i,He,He>$e-Fi?0:Fi):_i[_i.length-1]){var Ui=Ye.sn-je.startSN,Gi=this.fragmentTracker.getState(Ye);if((Gi===Ua||Gi===Na&&Ye.gap)&&(mi=Ye),mi&&Ye.sn===mi.sn&&(!Ni||Oi[0].fragment.sn>Ye.sn)&&mi&&Ye.level===mi.level){var Vi=_i[Ui+1];Ye=Ye.sn<Pi&&this.fragmentTracker.getState(Vi)!==Ua?Vi:null}}return Ye},$e.synchronizeToLiveEdge=function(He){var $e=this.config,je=this.media;if(je){var Ye=this.hls.liveSyncPosition,ti=je.currentTime,mi=He.fragments[0].start,_i=He.edge,Pi=ti>=mi-$e.maxFragLookUpTolerance&&ti<=_i;if(null!==Ye&&je.duration>Ye&&(ti<Ye||!Pi)){var Mi=void 0!==$e.liveMaxLatencyDuration?$e.liveMaxLatencyDuration:$e.liveMaxLatencyDurationCount*He.targetduration;(!Pi&&je.readyState<4||ti<_i-Mi)&&(this.loadedmetadata||(this.nextLoadPosition=Ye),je.readyState&&(this.warn("Playback: "+ti.toFixed(3)+" is located too far from the end of live sliding playlist: "+_i+", reset currentTime to : "+Ye.toFixed(3)),je.currentTime=Ye))}}},$e.alignPlaylists=function(He,$e,je){var Ye=He.fragments.length;if(!Ye)return this.warn("No fragments in live playlist"),0;var ti=He.fragments[0].start,mi=!$e,_i=He.alignedSliding&&Pi(ti);if(mi||!_i&&!ti){var Mi=this.fragPrevious;!function(He,$e,je){$e&&(function(He,$e,je){if(ti=He,mi=$e,je&&(mi.endCC>mi.startCC||ti&&ti.cc<mi.startCC)){var Ye=function(He,$e){var je=He.fragments,Ye=$e.fragments;if(Ye.length&&je.length){var ti=Ri(je,Ye[0].cc);if(ti&&(!ti||ti.startPTS))return ti;Hi.log("No frag in previous level to align on")}else Hi.log("No fragments to align")}(je,$e);Ye&&Pi(Ye.start)&&(Hi.log("Adjusting PTS using last level due to CC increase within current level "+$e.url),Ti(Ye.start,$e))}var ti,mi}(He,je,$e),!je.alignedSliding&&$e&&function(He,$e){if(He.hasProgramDateTime&&$e.hasProgramDateTime){var je,Ye,ti=He.fragments,mi=$e.fragments;if(ti.length&&mi.length){var _i=Math.min($e.endCC,He.endCC);$e.startCC<_i&&He.startCC<_i&&(je=Ri(mi,_i),Ye=Ri(ti,_i)),je&&Ye||(Ye=Ri(ti,(je=mi[Math.floor(mi.length/2)]).cc)||ti[Math.floor(ti.length/2)]);var Pi=je.programDateTime,Mi=Ye.programDateTime;Pi&&Mi&&Ti((Mi-Pi)/1e3-(Ye.start-je.start),He)}}}(je,$e),je.alignedSliding||!$e||je.skippedSegments||Se($e,je))}(Mi,je,He);var Fi=He.fragments[0].start;return this.log("Live playlist sliding: "+Fi.toFixed(2)+" start-sn: "+($e?$e.startSN:"na")+"->"+He.startSN+" prev-sn: "+(Mi?Mi.sn:"na")+" fragments: "+Ye),Fi}return ti},$e.waitForCdnTuneIn=function(He){return He.live&&He.canBlockReload&&He.partTarget&&He.tuneInGoal>Math.max(He.partHoldBack,3*He.partTarget)},$e.setStartPosition=function(He,$e){var je=this.startPosition;if(je<$e&&(je=-1),-1===je||-1===this.lastCurrentTime){var Ye=null!==this.startTimeOffset,ti=Ye?this.startTimeOffset:He.startTimeOffset;null!==ti&&Pi(ti)?(je=$e+ti,ti<0&&(je+=He.totalduration),je=Math.min(Math.max($e,je),$e+He.totalduration),this.log("Start time offset "+ti+" found in "+(Ye?"multivariant":"media")+" playlist, adjust startPosition to "+je),this.startPosition=je):He.live?je=this.hls.liveSyncPosition||$e:this.startPosition=je=0,this.lastCurrentTime=je}this.nextLoadPosition=je},$e.getLoadPosition=function(){var He=this.media,$e=0;return this.loadedmetadata&&He?$e=He.currentTime:this.nextLoadPosition&&($e=this.nextLoadPosition),$e},$e.handleFragLoadAborted=function(He,$e){this.transmuxer&&"initSegment"!==He.sn&&He.stats.aborted&&(this.warn("Fragment "+He.sn+($e?" part "+$e.index:"")+" of level "+He.level+" was aborted"),this.resetFragmentLoading(He))},$e.resetFragmentLoading=function(He){this.fragCurrent&&(this.fragContextChanged(He)||this.state===ts)||(this.state=Za)},$e.onFragmentOrKeyLoadError=function(He,$e){if($e.chunkMeta&&!$e.frag){var je=this.getCurrentContext($e.chunkMeta);je&&($e.frag=je.frag)}var Ye=$e.frag;if(Ye&&Ye.type===He&&this.levels)if(this.fragContextChanged(Ye)){var ti;this.warn("Frag load error must match current frag to retry "+Ye.url+" > "+(null==(ti=this.fragCurrent)?void 0:ti.url))}else{var mi=$e.details===Ui.FRAG_GAP;mi&&this.fragmentTracker.fragBuffered(Ye,!0);var _i=$e.errorAction,Pi=_i||{},Mi=Pi.action,Fi=Pi.retryCount,Oi=void 0===Fi?0:Fi,Ni=Pi.retryConfig;if(_i&&5===Mi&&Ni){this.resetStartWhenNotLoaded(this.levelLastLoaded);var Gi=Me(Ni,Oi);this.warn("Fragment "+Ye.sn+" of "+He+" "+Ye.level+" errored with "+$e.details+", retrying loading "+(Oi+1)+"/"+Ni.maxNumRetry+" in "+Gi+"ms"),_i.resolved=!0,this.retryDate=self.performance.now()+Gi,this.state=ts}else if(Ni&&_i){if(this.resetFragmentErrors(He),!(Oi<Ni.maxNumRetry))return void Hi.warn($e.details+" reached or exceeded max retry ("+Oi+")");mi||3===Mi||(_i.resolved=!0)}else 2===(null==_i?void 0:_i.action)?this.state=ss:this.state=as;this.tickImmediate()}},$e.reduceLengthAndFlushBuffer=function(He){if(this.state===es||this.state===is){var $e=He.parent,je=this.getFwdBufferInfo(this.mediaBuffer,$e),Ye=je&&je.len>.5;Ye&&this.reduceMaxBufferLength(je.len);var ti=!Ye;return ti&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+$e+" buffer"),He.frag&&(this.fragmentTracker.removeFragment(He.frag),this.nextLoadPosition=He.frag.start),this.resetLoadingState(),ti}return!1},$e.resetFragmentErrors=function(He){He===qr&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Xa&&(this.state=Za)},$e.afterBufferFlushed=function(He,$e,je){if(He){var Ye=ka.getBuffered(He);this.fragmentTracker.detectEvictedFragments($e,Ye,je),this.state===rs&&this.resetLoadingState()}},$e.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Za},$e.resetStartWhenNotLoaded=function(He){if(!this.loadedmetadata){this.startFragRequested=!1;var $e=He?He.details:null;null!=$e&&$e.live?(this.startPosition=-1,this.setStartPosition($e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},$e.resetWhenMissingContext=function(He){this.warn("The loading context changed while buffering fragment "+He.sn+" of level "+He.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()},$e.removeUnbufferedFrags=function(He){void 0===He&&(He=0),this.fragmentTracker.removeFragmentsInRange(He,1/0,this.playlistType,!1,!0)},$e.updateLevelTiming=function(He,$e,je,Ye){var ti,mi=this,_i=je.details;if(_i){if(!Object.keys(He.elementaryStreams).reduce((function($e,ti){var Pi=He.elementaryStreams[ti];if(Pi){var Mi=Pi.endPTS-Pi.startPTS;if(Mi<=0)return mi.warn("Could not parse fragment "+He.sn+" "+ti+" duration reliably ("+Mi+")"),$e||!1;var Fi=Ye?0:Qe(_i,He,Pi.startPTS,Pi.endPTS,Pi.startDTS,Pi.endDTS);return mi.hls.trigger(Oi.LEVEL_PTS_UPDATED,{details:_i,level:je,drift:Fi,type:ti,frag:He,start:Pi.startPTS,end:Pi.endPTS}),!0}return $e}),!1)&&null===(null==(ti=this.transmuxer)?void 0:ti.error)){var Pi=new Error("Found no media in fragment "+He.sn+" of level "+He.level+" resetting transmuxer to fallback to playlist timing");if(0===je.fragmentError&&(je.fragmentError++,He.gap=!0,this.fragmentTracker.removeFragment(He),this.fragmentTracker.fragBuffered(He,!0)),this.warn(Pi.message),this.hls.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_PARSING_ERROR,fatal:!1,error:Pi,frag:He,reason:"Found no media in msn "+He.sn+' of level "'+je.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=is,this.hls.trigger(Oi.FRAG_PARSED,{frag:He,part:$e})}else this.warn("level.details undefined")},$e.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},$e.recoverWorkerError=function(He){"demuxerWorker"===He.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())},n(e,[{key:"state",get:function(){return this._state},set:function(He){var $e=this._state;$e!==He&&(this._state=He,this.log($e+"->"+He))}}]),e}(za);function Wi(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ji(){if(!Lt())return!1;var He=Wi();return!He||He.prototype&&"function"==typeof He.prototype.appendBuffer&&"function"==typeof He.prototype.remove}function Zi(He,$e){return void 0===He&&(He=""),void 0===$e&&($e=9e4),{type:He,id:-1,pid:-1,inputTimeScale:$e,sequenceNumber:-1,samples:[],dropped:0}}var os=function(){function t(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var He=t.prototype;return He.resetInitSegment=function(He,$e,je,Ye){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},He.resetTimeStamp=function(He){this.initPTS=He,this.resetContiguity()},He.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},He.canParse=function(He,$e){return!1},He.appendFrame=function(He,$e,je){},He.demux=function(He,$e){this.cachedData&&(He=wt(this.cachedData,He),this.cachedData=null);var je,Ye=J(He,0),ti=Ye?Ye.length:0,mi=this._audioTrack,_i=this._id3Track,Mi=Ye?$(Ye):void 0,Fi=He.length;for((null===this.basePTS||0===this.frameIndex&&Pi(Mi))&&(this.basePTS=$i(Mi,$e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),Ye&&Ye.length>0&&_i.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:Ye,type:sa,duration:Number.POSITIVE_INFINITY});ti<Fi;){if(this.canParse(He,ti)){var Oi=this.appendFrame(mi,He,ti);Oi?(this.frameIndex++,this.lastPTS=Oi.sample.pts,je=ti+=Oi.length):ti=Fi}else X(He,ti)?(Ye=J(He,ti),_i.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:Ye,type:sa,duration:Number.POSITIVE_INFINITY}),je=ti+=Ye.length):ti++;if(ti===Fi&&je!==Fi){var Ni=K(He,je);this.cachedData?this.cachedData=wt(this.cachedData,Ni):this.cachedData=Ni}}return{audioTrack:mi,videoTrack:Zi(),id3Track:_i,textTrack:Zi()}},He.demuxSampleAes=function(He,$e,je){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},He.flush=function(He){var $e=this.cachedData;return $e&&(this.cachedData=null,this.demux($e,0)),{audioTrack:this._audioTrack,videoTrack:Zi(),id3Track:this._id3Track,textTrack:Zi()}},He.destroy=function(){},t}(),$i=function(He,$e,je){return Pi(He)?90*He:9e4*$e+(je?9e4*je.baseTime/je.timescale:0)};function tr(He,$e){return 255===He[$e]&&240==(246&He[$e+1])}function er(He,$e){return 1&He[$e+1]?7:9}function ir(He,$e){return(3&He[$e+3])<<11|He[$e+4]<<3|(224&He[$e+5])>>>5}function rr(He,$e){return $e+1<He.length&&tr(He,$e)}function ar(He,$e){if(rr(He,$e)){var je=er(He,$e);if($e+je>=He.length)return!1;var Ye=ir(He,$e);if(Ye<=je)return!1;var ti=$e+Ye;return ti===He.length||rr(He,ti)}return!1}function sr(He,$e,je,Ye,ti){if(!He.samplerate){var mi=function(He,$e,je,Ye){var ti,mi,_i,Pi,Mi=navigator.userAgent.toLowerCase(),Fi=Ye,Gi=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ti=1+((192&$e[je+2])>>>6);var Vi=(60&$e[je+2])>>>2;if(!(Vi>Gi.length-1))return _i=(1&$e[je+2])<<2,_i|=(192&$e[je+3])>>>6,Hi.log("manifest codec:"+Ye+", ADTS type:"+ti+", samplingIndex:"+Vi),/firefox/i.test(Mi)?Vi>=6?(ti=5,Pi=new Array(4),mi=Vi-3):(ti=2,Pi=new Array(2),mi=Vi):-1!==Mi.indexOf("android")?(ti=2,Pi=new Array(2),mi=Vi):(ti=5,Pi=new Array(4),Ye&&(-1!==Ye.indexOf("mp4a.40.29")||-1!==Ye.indexOf("mp4a.40.5"))||!Ye&&Vi>=6?mi=Vi-3:((Ye&&-1!==Ye.indexOf("mp4a.40.2")&&(Vi>=6&&1===_i||/vivaldi/i.test(Mi))||!Ye&&1===_i)&&(ti=2,Pi=new Array(2)),mi=Vi)),Pi[0]=ti<<3,Pi[0]|=(14&Vi)>>1,Pi[1]|=(1&Vi)<<7,Pi[1]|=_i<<3,5===ti&&(Pi[1]|=(14&mi)>>1,Pi[2]=(1&mi)<<7,Pi[2]|=8,Pi[3]=0),{config:Pi,samplerate:Gi[Vi],channelCount:_i,codec:"mp4a.40."+ti,manifestCodec:Fi};var zi=new Error("invalid ADTS sampling index:"+Vi);He.emit(Oi.ERROR,Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_PARSING_ERROR,fatal:!0,error:zi,reason:zi.message})}($e,je,Ye,ti);if(!mi)return;He.config=mi.config,He.samplerate=mi.samplerate,He.channelCount=mi.channelCount,He.codec=mi.codec,He.manifestCodec=mi.manifestCodec,Hi.log("parsed codec:"+He.codec+", rate:"+mi.samplerate+", channels:"+mi.channelCount)}}function nr(He){return 9216e4/He}function or(He,$e,je,Ye,ti){var mi,_i=Ye+ti*nr(He.samplerate),Pi=function(He,$e){var je=er(He,$e);if($e+je<=He.length){var Ye=ir(He,$e)-je;if(Ye>0)return{headerLength:je,frameLength:Ye}}}($e,je);if(Pi){var Mi=Pi.frameLength,Fi=Pi.headerLength,Oi=Fi+Mi,Ni=Math.max(0,je+Oi-$e.length);Ni?(mi=new Uint8Array(Oi-Fi)).set($e.subarray(je+Fi,$e.length),0):mi=$e.subarray(je+Fi,je+Oi);var Ui={unit:mi,pts:_i};return Ni||He.samples.push(Ui),{sample:Ui,length:Oi,missing:Ni}}var Gi=$e.length-je;return(mi=new Uint8Array(Gi)).set($e.subarray(je,$e.length),0),{sample:{unit:mi,pts:_i},length:Gi,missing:-1}}var ls=null,hs=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],ds=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],us=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],cs=[0,1,1,4];function cr(He,$e,je,Ye,ti){if(!(je+24>$e.length)){var mi=gr($e,je);if(mi&&je+mi.frameLength<=$e.length){var _i=Ye+ti*(9e4*mi.samplesPerFrame/mi.sampleRate),Pi={unit:$e.subarray(je,je+mi.frameLength),pts:_i,dts:_i};return He.config=[],He.channelCount=mi.channelCount,He.samplerate=mi.sampleRate,He.samples.push(Pi),{sample:Pi,length:mi.frameLength,missing:0}}}}function gr(He,$e){var je=He[$e+1]>>3&3,Ye=He[$e+1]>>1&3,ti=He[$e+2]>>4&15,mi=He[$e+2]>>2&3;if(1!==je&&0!==ti&&15!==ti&&3!==mi){var _i=He[$e+2]>>1&1,Pi=He[$e+3]>>6,Mi=1e3*hs[14*(3===je?3-Ye:3===Ye?3:4)+ti-1],Fi=ds[3*(3===je?0:2===je?1:2)+mi],Oi=3===Pi?1:2,Ni=us[je][Ye],Ui=cs[Ye],Gi=8*Ni*Ui,Vi=Math.floor(Ni*Mi/Fi+_i)*Ui;if(null===ls){var Hi=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ls=Hi?parseInt(Hi[1]):0}return!!ls&&ls<=87&&2===Ye&&Mi>=224e3&&0===Pi&&(He[$e+3]=128|He[$e+3]),{sampleRate:Fi,channelCount:Oi,frameLength:Vi,samplesPerFrame:Gi}}}function fr(He,$e){return 255===He[$e]&&224==(224&He[$e+1])&&0!=(6&He[$e+1])}function pr(He,$e){return $e+1<He.length&&fr(He,$e)}function mr(He,$e){if($e+1<He.length&&fr(He,$e)){var je=gr(He,$e),Ye=4;null!=je&&je.frameLength&&(Ye=je.frameLength);var ti=$e+Ye;return ti===He.length||pr(He,ti)}return!1}var fs=function(He){function e($e,je){var Ye;return(Ye=He.call(this)||this).observer=void 0,Ye.config=void 0,Ye.observer=$e,Ye.config=je,Ye}h(e,He);var $e=e.prototype;return $e.resetInitSegment=function($e,je,Ye,ti){He.prototype.resetInitSegment.call(this,$e,je,Ye,ti),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:je,duration:ti,inputTimeScale:9e4,dropped:0}},e.probe=function(He){if(!He)return!1;var $e=J(He,0),je=(null==$e?void 0:$e.length)||0;if(mr(He,je))return!1;for(var Ye=He.length;je<Ye;je++)if(ar(He,je))return Hi.log("ADTS sync word found !"),!0;return!1},$e.canParse=function(He,$e){return(Ye=$e)+5<(je=He).length&&tr(je,Ye)&&ir(je,Ye)<=je.length-Ye;var je,Ye},$e.appendFrame=function(He,$e,je){sr(He,this.observer,$e,je,He.manifestCodec);var Ye=or(He,$e,je,this.basePTS,this.frameIndex);if(Ye&&0===Ye.missing)return Ye},e}(os),ps=/\/emsg[-/]ID3/i,ms=function(){function t(He,$e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=$e}var He=t.prototype;return He.resetTimeStamp=function(){},He.resetInitSegment=function(He,$e,je,Ye){var ti=this.videoTrack=Zi("video",1),mi=this.audioTrack=Zi("audio",1),_i=this.txtTrack=Zi("text",1);if(this.id3Track=Zi("id3",1),this.timeOffset=0,null!=He&&He.byteLength){var Pi=yt(He);if(Pi.video){var Mi=Pi.video,Fi=Mi.id,Oi=Mi.timescale,Ni=Mi.codec;ti.id=Fi,ti.timescale=_i.timescale=Oi,ti.codec=Ni}if(Pi.audio){var Ui=Pi.audio,Gi=Ui.id,Vi=Ui.timescale,Hi=Ui.codec;mi.id=Gi,mi.timescale=Vi,mi.codec=Hi}_i.id=Tr.text,ti.sampleDuration=0,ti.duration=mi.duration=Ye}},He.resetContiguity=function(){this.remainderData=null},t.probe=function(He){return function(He){for(var $e=He.byteLength,je=0;je<$e;){var Ye=ft(He,je);if(Ye>8&&109===He[je+4]&&111===He[je+5]&&111===He[je+6]&&102===He[je+7])return!0;je=Ye>1?je+Ye:$e}return!1}(He)},He.demux=function(He,$e){this.timeOffset=$e;var je=He,Ye=this.videoTrack,ti=this.txtTrack;if(this.config.progressive){this.remainderData&&(je=wt(this.remainderData,He));var mi=function(He){var $e={valid:null,remainder:null},je=vt(He,["moof"]);if(je.length<2)return $e.remainder=He,$e;var Ye=je[je.length-1];return $e.valid=K(He,0,Ye.byteOffset-8),$e.remainder=K(He,Ye.byteOffset-8),$e}(je);this.remainderData=mi.remainder,Ye.samples=mi.valid||new Uint8Array}else Ye.samples=je;var _i=this.extractID3Track(Ye,$e);return ti.samples=Qt($e,Ye),{videoTrack:Ye,audioTrack:this.audioTrack,id3Track:_i,textTrack:this.txtTrack}},He.flush=function(){var He=this.timeOffset,$e=this.videoTrack,je=this.txtTrack;$e.samples=this.remainderData||new Uint8Array,this.remainderData=null;var Ye=this.extractID3Track($e,this.timeOffset);return je.samples=Qt(He,$e),{videoTrack:$e,audioTrack:Zi(),id3Track:Ye,textTrack:Zi()}},He.extractID3Track=function(He,$e){var je=this.id3Track;if(He.samples.length){var Ye=vt(He.samples,["emsg"]);Ye&&Ye.forEach((function(He){var Ye=function(He){var $e=He[0],je="",Ye="",ti=0,mi=0,_i=0,Pi=0,Fi=0,Oi=0;if(0===$e){for(;"\0"!==ct(He.subarray(Oi,Oi+1));)je+=ct(He.subarray(Oi,Oi+1)),Oi+=1;for(je+=ct(He.subarray(Oi,Oi+1)),Oi+=1;"\0"!==ct(He.subarray(Oi,Oi+1));)Ye+=ct(He.subarray(Oi,Oi+1)),Oi+=1;Ye+=ct(He.subarray(Oi,Oi+1)),Oi+=1,ti=ft(He,12),mi=ft(He,16),Pi=ft(He,20),Fi=ft(He,24),Oi=28}else if(1===$e){ti=ft(He,Oi+=4);var Ni=ft(He,Oi+=4),Ui=ft(He,Oi+=4);for(Oi+=4,_i=Math.pow(2,32)*Ni+Ui,Mi(_i)||(_i=Number.MAX_SAFE_INTEGER,Hi.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),Pi=ft(He,Oi),Fi=ft(He,Oi+=4),Oi+=4;"\0"!==ct(He.subarray(Oi,Oi+1));)je+=ct(He.subarray(Oi,Oi+1)),Oi+=1;for(je+=ct(He.subarray(Oi,Oi+1)),Oi+=1;"\0"!==ct(He.subarray(Oi,Oi+1));)Ye+=ct(He.subarray(Oi,Oi+1)),Oi+=1;Ye+=ct(He.subarray(Oi,Oi+1)),Oi+=1}return{schemeIdUri:je,value:Ye,timeScale:ti,presentationTime:_i,presentationTimeDelta:mi,eventDuration:Pi,id:Fi,payload:He.subarray(Oi,He.byteLength)}}(He);if(ps.test(Ye.schemeIdUri)){var ti=Pi(Ye.presentationTime)?Ye.presentationTime/Ye.timeScale:$e+Ye.presentationTimeDelta/Ye.timeScale,mi=4294967295===Ye.eventDuration?Number.POSITIVE_INFINITY:Ye.eventDuration/Ye.timeScale;mi<=.001&&(mi=Number.POSITIVE_INFINITY);var _i=Ye.payload;je.samples.push({data:_i,len:_i.byteLength,dts:ti,pts:ti,type:na,duration:mi})}}))}return je},He.demuxSampleAes=function(He,$e,je){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},He.destroy=function(){},t}(),gs=function(){function t(){this.VideoSample=null}var He=t.prototype;return He.createVideoSample=function(He,$e,je,Ye){return{key:He,frame:!1,pts:$e,dts:je,units:[],debug:Ye,length:0}},He.getLastNalUnit=function(He){var $e,je,Ye=this.VideoSample;if(Ye&&0!==Ye.units.length||(Ye=He[He.length-1]),null!=($e=Ye)&&$e.units){var ti=Ye.units;je=ti[ti.length-1]}return je},He.pushAccessUnit=function(He,$e){if(He.units.length&&He.frame){if(void 0===He.pts){var je=$e.samples,Ye=je.length;if(!Ye)return void $e.dropped++;var ti=je[Ye-1];He.pts=ti.pts,He.dts=ti.dts}$e.samples.push(He)}He.debug.length&&Hi.log(He.pts+"/"+He.dts+":"+He.debug)},t}(),vs=function(){function t(He){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=He,this.bytesAvailable=He.byteLength,this.word=0,this.bitsAvailable=0}var He=t.prototype;return He.loadWord=function(){var He=this.data,$e=this.bytesAvailable,je=He.byteLength-$e,Ye=new Uint8Array(4),ti=Math.min(4,$e);if(0===ti)throw new Error("no bytes available");Ye.set(He.subarray(je,je+ti)),this.word=new DataView(Ye.buffer).getUint32(0),this.bitsAvailable=8*ti,this.bytesAvailable-=ti},He.skipBits=function(He){var $e;He=Math.min(He,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>He?(this.word<<=He,this.bitsAvailable-=He):(He-=this.bitsAvailable,He-=($e=He>>3)<<3,this.bytesAvailable-=$e,this.loadWord(),this.word<<=He,this.bitsAvailable-=He)},He.readBits=function(He){var $e=Math.min(this.bitsAvailable,He),je=this.word>>>32-$e;if(He>32&&Hi.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=$e,this.bitsAvailable>0)this.word<<=$e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return($e=He-$e)>0&&this.bitsAvailable?je<<$e|this.readBits($e):je},He.skipLZ=function(){var He;for(He=0;He<this.bitsAvailable;++He)if(0!=(this.word&2147483648>>>He))return this.word<<=He,this.bitsAvailable-=He,He;return this.loadWord(),He+this.skipLZ()},He.skipUEG=function(){this.skipBits(1+this.skipLZ())},He.skipEG=function(){this.skipBits(1+this.skipLZ())},He.readUEG=function(){var He=this.skipLZ();return this.readBits(He+1)-1},He.readEG=function(){var He=this.readUEG();return 1&He?1+He>>>1:-1*(He>>>1)},He.readBoolean=function(){return 1===this.readBits(1)},He.readUByte=function(){return this.readBits(8)},He.readUShort=function(){return this.readBits(16)},He.readUInt=function(){return this.readBits(32)},He.skipScalingList=function(He){for(var $e=8,je=8,Ye=0;Ye<He;Ye++)0!==je&&(je=($e+this.readEG()+256)%256),$e=0===je?$e:je},He.readSPS=function(){var He,$e,je,Ye=0,ti=0,mi=0,_i=0,Pi=this.readUByte.bind(this),Mi=this.readBits.bind(this),Fi=this.readUEG.bind(this),Oi=this.readBoolean.bind(this),Ni=this.skipBits.bind(this),Ui=this.skipEG.bind(this),Gi=this.skipUEG.bind(this),Vi=this.skipScalingList.bind(this);Pi();var Hi=Pi();if(Mi(5),Ni(3),Pi(),Gi(),100===Hi||110===Hi||122===Hi||244===Hi||44===Hi||83===Hi||86===Hi||118===Hi||128===Hi){var zi=Fi();if(3===zi&&Ni(1),Gi(),Gi(),Ni(1),Oi())for($e=3!==zi?8:12,je=0;je<$e;je++)Oi()&&Vi(je<6?16:64)}Gi();var Ki=Fi();if(0===Ki)Fi();else if(1===Ki)for(Ni(1),Ui(),Ui(),He=Fi(),je=0;je<He;je++)Ui();Gi(),Ni(1);var ji=Fi(),Yi=Fi(),qi=Mi(1);0===qi&&Ni(1),Ni(1),Oi()&&(Ye=Fi(),ti=Fi(),mi=Fi(),_i=Fi());var Xi=[1,1];if(Oi()&&Oi())switch(Pi()){case 1:Xi=[1,1];break;case 2:Xi=[12,11];break;case 3:Xi=[10,11];break;case 4:Xi=[16,11];break;case 5:Xi=[40,33];break;case 6:Xi=[24,11];break;case 7:Xi=[20,11];break;case 8:Xi=[32,11];break;case 9:Xi=[80,33];break;case 10:Xi=[18,11];break;case 11:Xi=[15,11];break;case 12:Xi=[64,33];break;case 13:Xi=[160,99];break;case 14:Xi=[4,3];break;case 15:Xi=[3,2];break;case 16:Xi=[2,1];break;case 255:Xi=[Pi()<<8|Pi(),Pi()<<8|Pi()]}return{width:Math.ceil(16*(ji+1)-2*Ye-2*ti),height:(2-qi)*(Yi+1)*16-(qi?2:4)*(mi+_i),pixelRatio:Xi}},He.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),ys=function(He){function e(){return He.apply(this,arguments)||this}h(e,He);var $e=e.prototype;return $e.parseAVCPES=function(He,$e,je,Ye,ti){var mi,_i=this,Pi=this.parseAVCNALu(He,je.data),Mi=this.VideoSample,Fi=!1;je.data=null,Mi&&Pi.length&&!He.audFound&&(this.pushAccessUnit(Mi,He),Mi=this.VideoSample=this.createVideoSample(!1,je.pts,je.dts,"")),Pi.forEach((function(Ye){var Pi;switch(Ye.type){case 1:var Oi=!1;mi=!0;var Ni,Ui=Ye.data;if(Fi&&Ui.length>4){var Gi=new vs(Ui).readSliceType();2!==Gi&&4!==Gi&&7!==Gi&&9!==Gi||(Oi=!0)}Oi&&null!=(Ni=Mi)&&Ni.frame&&!Mi.key&&(_i.pushAccessUnit(Mi,He),Mi=_i.VideoSample=null),Mi||(Mi=_i.VideoSample=_i.createVideoSample(!0,je.pts,je.dts,"")),Mi.frame=!0,Mi.key=Oi;break;case 5:mi=!0,null!=(Pi=Mi)&&Pi.frame&&!Mi.key&&(_i.pushAccessUnit(Mi,He),Mi=_i.VideoSample=null),Mi||(Mi=_i.VideoSample=_i.createVideoSample(!0,je.pts,je.dts,"")),Mi.key=!0,Mi.frame=!0;break;case 6:mi=!0,bt(Ye.data,1,je.pts,$e.samples);break;case 7:var Vi,Hi;mi=!0,Fi=!0;var zi=Ye.data,Ki=new vs(zi).readSPS();if(!He.sps||He.width!==Ki.width||He.height!==Ki.height||(null==(Vi=He.pixelRatio)?void 0:Vi[0])!==Ki.pixelRatio[0]||(null==(Hi=He.pixelRatio)?void 0:Hi[1])!==Ki.pixelRatio[1]){He.width=Ki.width,He.height=Ki.height,He.pixelRatio=Ki.pixelRatio,He.sps=[zi],He.duration=ti;for(var ji=zi.subarray(1,4),Yi="avc1.",qi=0;qi<3;qi++){var Xi=ji[qi].toString(16);Xi.length<2&&(Xi="0"+Xi),Yi+=Xi}He.codec=Yi}break;case 8:mi=!0,He.pps=[Ye.data];break;case 9:mi=!0,He.audFound=!0,Mi&&_i.pushAccessUnit(Mi,He),Mi=_i.VideoSample=_i.createVideoSample(!1,je.pts,je.dts,"");break;case 12:mi=!0;break;default:mi=!1,Mi&&(Mi.debug+="unknown NAL "+Ye.type+" ")}Mi&&mi&&Mi.units.push(Ye)})),Ye&&Mi&&(this.pushAccessUnit(Mi,He),this.VideoSample=null)},$e.parseAVCNALu=function(He,$e){var je,Ye,ti=$e.byteLength,mi=He.naluState||0,_i=mi,Pi=[],Mi=0,Fi=-1,Oi=0;for(-1===mi&&(Fi=0,Oi=31&$e[0],mi=0,Mi=1);Mi<ti;)if(je=$e[Mi++],mi)if(1!==mi)if(je)if(1===je){if(Ye=Mi-mi-1,Fi>=0){var Ni={data:$e.subarray(Fi,Ye),type:Oi};Pi.push(Ni)}else{var Ui=this.getLastNalUnit(He.samples);Ui&&(_i&&Mi<=4-_i&&Ui.state&&(Ui.data=Ui.data.subarray(0,Ui.data.byteLength-_i)),Ye>0&&(Ui.data=wt(Ui.data,$e.subarray(0,Ye)),Ui.state=0))}Mi<ti?(Fi=Mi,Oi=31&$e[Mi],mi=0):mi=-1}else mi=0;else mi=3;else mi=je?0:2;else mi=je?0:1;if(Fi>=0&&mi>=0){var Gi={data:$e.subarray(Fi,ti),type:Oi,state:mi};Pi.push(Gi)}if(0===Pi.length){var Vi=this.getLastNalUnit(He.samples);Vi&&(Vi.data=wt(Vi.data,$e))}return He.naluState=mi,Pi},e}(gs),xs=function(){function t(He,$e,je){this.keyData=void 0,this.decrypter=void 0,this.keyData=je,this.decrypter=new qa($e,{removePKCS7Padding:!1})}var He=t.prototype;return He.decryptBuffer=function(He){return this.decrypter.decrypt(He,this.keyData.key.buffer,this.keyData.iv.buffer)},He.decryptAacSample=function(He,$e,je){var Ye=this,ti=He[$e].unit;if(!(ti.length<=16)){var mi=ti.subarray(16,ti.length-ti.length%16),_i=mi.buffer.slice(mi.byteOffset,mi.byteOffset+mi.length);this.decryptBuffer(_i).then((function(mi){var _i=new Uint8Array(mi);ti.set(_i,16),Ye.decrypter.isSync()||Ye.decryptAacSamples(He,$e+1,je)}))}},He.decryptAacSamples=function(He,$e,je){for(;;$e++){if($e>=He.length)return void je();if(!(He[$e].unit.length<32||(this.decryptAacSample(He,$e,je),this.decrypter.isSync())))return}},He.getAvcEncryptedData=function(He){for(var $e=16*Math.floor((He.length-48)/160)+16,je=new Int8Array($e),Ye=0,ti=32;ti<He.length-16;ti+=160,Ye+=16)je.set(He.subarray(ti,ti+16),Ye);return je},He.getAvcDecryptedUnit=function(He,$e){for(var je=new Uint8Array($e),Ye=0,ti=32;ti<He.length-16;ti+=160,Ye+=16)He.set(je.subarray(Ye,Ye+16),ti);return He},He.decryptAvcSample=function(He,$e,je,Ye,ti){var mi=this,_i=Dt(ti.data),Pi=this.getAvcEncryptedData(_i);this.decryptBuffer(Pi.buffer).then((function(Pi){ti.data=mi.getAvcDecryptedUnit(_i,Pi),mi.decrypter.isSync()||mi.decryptAvcSamples(He,$e,je+1,Ye)}))},He.decryptAvcSamples=function(He,$e,je,Ye){if(He instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;$e++,je=0){if($e>=He.length)return void Ye();for(var ti=He[$e].units;!(je>=ti.length);je++){var mi=ti[je];if(!(mi.data.length<=48||1!==mi.type&&5!==mi.type||(this.decryptAvcSample(He,$e,je,Ye,mi),this.decrypter.isSync())))return}}},t}(),ks=188,Es=function(){function t(He,$e,je){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=He,this.config=$e,this.typeSupported=je,this.videoParser=new ys}t.probe=function(He){var $e=t.syncOffset(He);return $e>0&&Hi.warn("MPEG2-TS detected but first sync word found @ offset "+$e),-1!==$e},t.syncOffset=function(He){for(var $e=He.length,je=Math.min(940,$e-ks)+1,Ye=0;Ye<je;){for(var ti=!1,mi=-1,_i=0,Pi=Ye;Pi<$e;Pi+=ks){if(71!==He[Pi]||$e-Pi!==ks&&71!==He[Pi+ks]){if(_i)return-1;break}if(_i++,-1===mi&&0!==(mi=Pi)&&(je=Math.min(mi+18612,He.length-ks)+1),ti||(ti=0===Qr(He,Pi)),ti&&_i>1&&(0===mi&&_i>2||Pi+ks>je))return mi}Ye++}return-1},t.createTrack=function(He,$e){return{container:"video"===He||"audio"===He?"video/mp2t":void 0,type:He,id:Tr[He],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===He?$e:void 0}};var He=t.prototype;return He.resetInitSegment=function(He,$e,je,Ye){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=t.createTrack("video"),this._audioTrack=t.createTrack("audio",Ye),this._id3Track=t.createTrack("id3"),this._txtTrack=t.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=$e,this.videoCodec=je,this._duration=Ye},He.resetTimeStamp=function(){},He.resetContiguity=function(){var He=this._audioTrack,$e=this._videoTrack,je=this._id3Track;He&&(He.pesData=null),$e&&($e.pesData=null),je&&(je.pesData=null),this.aacOverFlow=null,this.remainderData=null},He.demux=function(He,$e,je,Ye){var ti;void 0===je&&(je=!1),void 0===Ye&&(Ye=!1),je||(this.sampleAes=null);var mi=this._videoTrack,_i=this._audioTrack,Pi=this._id3Track,Mi=this._txtTrack,Fi=mi.pid,Gi=mi.pesData,Vi=_i.pid,zi=Pi.pid,Ki=_i.pesData,ji=Pi.pesData,Yi=null,qi=this.pmtParsed,Xi=this._pmtId,lr=He.length;if(this.remainderData&&(lr=(He=wt(this.remainderData,He)).length,this.remainderData=null),lr<ks&&!Ye)return this.remainderData=He,{audioTrack:_i,videoTrack:mi,id3Track:Pi,textTrack:Mi};var hr=Math.max(0,t.syncOffset(He));(lr-=(lr-hr)%ks)<He.byteLength&&!Ye&&(this.remainderData=new Uint8Array(He.buffer,lr,He.buffer.byteLength-lr));for(var dr=0,ur=hr;ur<lr;ur+=ks)if(71===He[ur]){var vr=!!(64&He[ur+1]),yr=Qr(He,ur),xr=void 0;if((48&He[ur+3])>>4>1){if((xr=ur+5+He[ur+4])===ur+ks)continue}else xr=ur+4;switch(yr){case Fi:vr&&(Gi&&(ti=Rr(Gi))&&this.videoParser.parseAVCPES(mi,Mi,ti,!1,this._duration),Gi={data:[],size:0}),Gi&&(Gi.data.push(He.subarray(xr,ur+ks)),Gi.size+=ur+ks-xr);break;case Vi:if(vr){if(Ki&&(ti=Rr(Ki)))switch(_i.segmentCodec){case"aac":this.parseAACPES(_i,ti);break;case"mp3":this.parseMPEGPES(_i,ti)}Ki={data:[],size:0}}Ki&&(Ki.data.push(He.subarray(xr,ur+ks)),Ki.size+=ur+ks-xr);break;case zi:vr&&(ji&&(ti=Rr(ji))&&this.parseID3PES(Pi,ti),ji={data:[],size:0}),ji&&(ji.data.push(He.subarray(xr,ur+ks)),ji.size+=ur+ks-xr);break;case 0:vr&&(xr+=He[xr]+1),Xi=this._pmtId=Sr(He,xr);break;case Xi:vr&&(xr+=He[xr]+1);var kr=br(He,xr,this.typeSupported,je);(Fi=kr.videoPid)>0&&(mi.pid=Fi,mi.segmentCodec=kr.segmentVideoCodec),(Vi=kr.audioPid)>0&&(_i.pid=Vi,_i.segmentCodec=kr.segmentAudioCodec),(zi=kr.id3Pid)>0&&(Pi.pid=zi),null===Yi||qi||(Hi.warn("MPEG-TS PMT found at "+ur+" after unknown PID '"+Yi+"'. Backtracking to sync byte @"+hr+" to parse all TS packets."),Yi=null,ur=hr-188),qi=this.pmtParsed=!0;break;case 17:case 8191:break;default:Yi=yr}}else dr++;if(dr>0){var Er=new Error("Found "+dr+" TS packet/s that do not start with 0x47");this.observer.emit(Oi.ERROR,Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_PARSING_ERROR,fatal:!1,error:Er,reason:Er.message})}mi.pesData=Gi,_i.pesData=Ki,Pi.pesData=ji;var Tr={audioTrack:_i,videoTrack:mi,id3Track:Pi,textTrack:Mi};return Ye&&this.extractRemainingSamples(Tr),Tr},He.flush=function(){var He,$e=this.remainderData;return this.remainderData=null,He=$e?this.demux($e,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(He),this.sampleAes?this.decrypt(He,this.sampleAes):He},He.extractRemainingSamples=function(He){var $e,je=He.audioTrack,Ye=He.videoTrack,ti=He.id3Track,mi=He.textTrack,_i=Ye.pesData,Pi=je.pesData,Mi=ti.pesData;if(_i&&($e=Rr(_i))?(this.videoParser.parseAVCPES(Ye,mi,$e,!0,this._duration),Ye.pesData=null):Ye.pesData=_i,Pi&&($e=Rr(Pi))){switch(je.segmentCodec){case"aac":this.parseAACPES(je,$e);break;case"mp3":this.parseMPEGPES(je,$e)}je.pesData=null}else null!=Pi&&Pi.size&&Hi.log("last AAC PES packet truncated,might overlap between fragments"),je.pesData=Pi;Mi&&($e=Rr(Mi))?(this.parseID3PES(ti,$e),ti.pesData=null):ti.pesData=Mi},He.demuxSampleAes=function(He,$e,je){var Ye=this.demux(He,je,!0,!this.config.progressive),ti=this.sampleAes=new xs(this.observer,this.config,$e);return this.decrypt(Ye,ti)},He.decrypt=function(He,$e){return new Promise((function(je){var Ye=He.audioTrack,ti=He.videoTrack;Ye.samples&&"aac"===Ye.segmentCodec?$e.decryptAacSamples(Ye.samples,0,(function(){ti.samples?$e.decryptAvcSamples(ti.samples,0,0,(function(){je(He)})):je(He)})):ti.samples&&$e.decryptAvcSamples(ti.samples,0,0,(function(){je(He)}))}))},He.destroy=function(){this._duration=0},He.parseAACPES=function(He,$e){var je,Ye,ti,mi=0,_i=this.aacOverFlow,Pi=$e.data;if(_i){this.aacOverFlow=null;var Mi=_i.missing,Fi=_i.sample.unit.byteLength;if(-1===Mi)Pi=wt(_i.sample.unit,Pi);else{var Gi=Fi-Mi;_i.sample.unit.set(Pi.subarray(0,Mi),Gi),He.samples.push(_i.sample),mi=_i.missing}}for(je=mi,Ye=Pi.length;je<Ye-1&&!rr(Pi,je);je++);if(je!==mi){var Vi,zi=je<Ye-1;Vi=zi?"AAC PES did not start with ADTS header,offset:"+je:"No ADTS header found in AAC PES";var Ki=new Error(Vi);if(Hi.warn("parsing error: "+Vi),this.observer.emit(Oi.ERROR,Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_PARSING_ERROR,fatal:!1,levelRetry:zi,error:Ki,reason:Vi}),!zi)return}if(sr(He,this.observer,Pi,je,this.audioCodec),void 0!==$e.pts)ti=$e.pts;else{if(!_i)return void Hi.warn("[tsdemuxer]: AAC PES unknown PTS");var ji=nr(He.samplerate);ti=_i.sample.pts+ji}for(var Yi,qi=0;je<Ye;){if(je+=(Yi=or(He,Pi,je,ti,qi)).length,Yi.missing){this.aacOverFlow=Yi;break}for(qi++;je<Ye-1&&!rr(Pi,je);je++);}},He.parseMPEGPES=function(He,$e){var je=$e.data,Ye=je.length,ti=0,mi=0,_i=$e.pts;if(void 0!==_i)for(;mi<Ye;)if(pr(je,mi)){var Pi=cr(He,je,mi,_i,ti);if(!Pi)break;mi+=Pi.length,ti++}else mi++;else Hi.warn("[tsdemuxer]: MPEG PES unknown PTS")},He.parseAC3PES=function(He,$e){},He.parseID3PES=function(He,$e){if(void 0!==$e.pts){var je=o({},$e,{type:this._videoTrack?na:sa,duration:Number.POSITIVE_INFINITY});He.samples.push(je)}else Hi.warn("[tsdemuxer]: ID3 PES unknown PTS")},t}();function Qr(He,$e){return((31&He[$e+1])<<8)+He[$e+2]}function Sr(He,$e){return(31&He[$e+10])<<8|He[$e+11]}function br(He,$e,je,Ye){var ti={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},mi=$e+3+((15&He[$e+1])<<8|He[$e+2])-4;for($e+=12+((15&He[$e+10])<<8|He[$e+11]);$e<mi;){var _i=Qr(He,$e),Pi=(15&He[$e+3])<<8|He[$e+4];switch(He[$e]){case 207:if(!Ye){Dr("ADTS AAC");break}case 15:-1===ti.audioPid&&(ti.audioPid=_i);break;case 21:-1===ti.id3Pid&&(ti.id3Pid=_i);break;case 219:if(!Ye){Dr("H.264");break}case 27:-1===ti.videoPid&&(ti.videoPid=_i,ti.segmentVideoCodec="avc");break;case 3:case 4:je.mpeg||je.mp3?-1===ti.audioPid&&(ti.audioPid=_i,ti.segmentAudioCodec="mp3"):Hi.log("MPEG audio found, not supported in this browser");break;case 193:if(!Ye){Dr("AC-3");break}case 129:Hi.warn("AC-3 in M2TS support not included in build");break;case 6:if(-1===ti.audioPid&&Pi>0)for(var Mi=$e+5,Fi=Pi;Fi>2;){106===He[Mi]&&Hi.warn("AC-3 in M2TS support not included in build");var Oi=He[Mi+1]+2;Mi+=Oi,Fi-=Oi}break;case 194:case 135:Hi.warn("Unsupported EC-3 in M2TS found");break;case 36:Hi.warn("Unsupported HEVC in M2TS found")}$e+=Pi+5}return ti}function Dr(He){Hi.log(He+" with AES-128-CBC encryption found in unencrypted stream")}function Rr(He){var $e,je,Ye,ti,mi,_i=0,Pi=He.data;if(!He||0===He.size)return null;for(;Pi[0].length<19&&Pi.length>1;)Pi[0]=wt(Pi[0],Pi[1]),Pi.splice(1,1);if(1===(($e=Pi[0])[0]<<16)+($e[1]<<8)+$e[2]){if((je=($e[4]<<8)+$e[5])&&je>He.size-6)return null;var Mi=$e[7];192&Mi&&(ti=536870912*(14&$e[9])+4194304*(255&$e[10])+16384*(254&$e[11])+128*(255&$e[12])+(254&$e[13])/2,64&Mi?ti-(mi=536870912*(14&$e[14])+4194304*(255&$e[15])+16384*(254&$e[16])+128*(255&$e[17])+(254&$e[18])/2)>54e5&&(Hi.warn(Math.round((ti-mi)/9e4)+"s delta between PTS and DTS, align them"),ti=mi):mi=ti);var Fi=(Ye=$e[8])+9;if(He.size<=Fi)return null;He.size-=Fi;for(var Oi=new Uint8Array(He.size),Ni=0,Ui=Pi.length;Ni<Ui;Ni++){var Gi=($e=Pi[Ni]).byteLength;if(Fi){if(Fi>Gi){Fi-=Gi;continue}$e=$e.subarray(Fi),Gi-=Fi,Fi=0}Oi.set($e,_i),_i+=Gi}return je&&(je-=Ye+3),{data:Oi,pts:ti,dts:mi,len:je}}return null}var bs=function(He){function e(){return He.apply(this,arguments)||this}h(e,He);var $e=e.prototype;return $e.resetInitSegment=function($e,je,Ye,ti){He.prototype.resetInitSegment.call(this,$e,je,Ye,ti),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:je,duration:ti,inputTimeScale:9e4,dropped:0}},e.probe=function(He){if(!He)return!1;var $e=J(He,0),je=(null==$e?void 0:$e.length)||0;if($e&&11===He[je]&&119===He[je+1]&&void 0!==$($e)&&function(He,$e){var je=0,Ye=5;$e+=Ye;for(var ti=new Uint32Array(1),mi=new Uint32Array(1),_i=new Uint8Array(1);Ye>0;){_i[0]=He[$e];var Pi=Math.min(Ye,8),Mi=8-Pi;mi[0]=4278190080>>>24+Mi<<Mi,ti[0]=(_i[0]&mi[0])>>Mi,je=je?je<<Pi|ti[0]:ti[0],$e+=1,Ye-=Pi}return je}(He,je)<=16)return!1;for(var Ye=He.length;je<Ye;je++)if(mr(He,je))return Hi.log("MPEG Audio sync word found !"),!0;return!1},$e.canParse=function(He,$e){return fr(je=He,Ye=$e)&&4<=je.length-Ye;var je,Ye},$e.appendFrame=function(He,$e,je){if(null!==this.basePTS)return cr(He,$e,je,this.basePTS,this.frameIndex)},e}(os),Ts=function(){function t(){}return t.getSilentFrame=function(He,$e){if("mp4a.40.2"===He){if(1===$e)return new Uint8Array([0,200,0,128,35,128]);if(2===$e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===$e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===$e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===$e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===$e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===$e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===$e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===$e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},t}(),Ss=Math.pow(2,32)-1,As=function(){function t(){}return t.init=function(){var He;for(He in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(He)&&(t.types[He]=[He.charCodeAt(0),He.charCodeAt(1),He.charCodeAt(2),He.charCodeAt(3)]);var $e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),je=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:$e,audio:je};var Ye=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ti=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=ti,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var mi=new Uint8Array([105,115,111,109]),_i=new Uint8Array([97,118,99,49]),Pi=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,mi,Pi,mi,_i),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,Ye))},t.box=function(He){for(var $e=8,je=arguments.length,Ye=new Array(je>1?je-1:0),ti=1;ti<je;ti++)Ye[ti-1]=arguments[ti];for(var mi=Ye.length,_i=mi;mi--;)$e+=Ye[mi].byteLength;var Pi=new Uint8Array($e);for(Pi[0]=$e>>24&255,Pi[1]=$e>>16&255,Pi[2]=$e>>8&255,Pi[3]=255&$e,Pi.set(He,4),mi=0,$e=8;mi<_i;mi++)Pi.set(Ye[mi],$e),$e+=Ye[mi].byteLength;return Pi},t.hdlr=function(He){return t.box(t.types.hdlr,t.HDLR_TYPES[He])},t.mdat=function(He){return t.box(t.types.mdat,He)},t.mdhd=function(He,$e){$e*=He;var je=Math.floor($e/(Ss+1)),Ye=Math.floor($e%(Ss+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,He>>24&255,He>>16&255,He>>8&255,255&He,je>>24,je>>16&255,je>>8&255,255&je,Ye>>24,Ye>>16&255,Ye>>8&255,255&Ye,85,196,0,0]))},t.mdia=function(He){return t.box(t.types.mdia,t.mdhd(He.timescale,He.duration),t.hdlr(He.type),t.minf(He))},t.mfhd=function(He){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,He>>24,He>>16&255,He>>8&255,255&He]))},t.minf=function(He){return"audio"===He.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(He)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(He))},t.moof=function(He,$e,je){return t.box(t.types.moof,t.mfhd(He),t.traf(je,$e))},t.moov=function(He){for(var $e=He.length,je=[];$e--;)je[$e]=t.trak(He[$e]);return t.box.apply(null,[t.types.moov,t.mvhd(He[0].timescale,He[0].duration)].concat(je).concat(t.mvex(He)))},t.mvex=function(He){for(var $e=He.length,je=[];$e--;)je[$e]=t.trex(He[$e]);return t.box.apply(null,[t.types.mvex].concat(je))},t.mvhd=function(He,$e){$e*=He;var je=Math.floor($e/(Ss+1)),Ye=Math.floor($e%(Ss+1)),ti=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,He>>24&255,He>>16&255,He>>8&255,255&He,je>>24,je>>16&255,je>>8&255,255&je,Ye>>24,Ye>>16&255,Ye>>8&255,255&Ye,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,ti)},t.sdtp=function(He){var $e,je,Ye=He.samples||[],ti=new Uint8Array(4+Ye.length);for($e=0;$e<Ye.length;$e++)je=Ye[$e].flags,ti[$e+4]=je.dependsOn<<4|je.isDependedOn<<2|je.hasRedundancy;return t.box(t.types.sdtp,ti)},t.stbl=function(He){return t.box(t.types.stbl,t.stsd(He),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(He){var $e,je,Ye,ti=[],mi=[];for($e=0;$e<He.sps.length;$e++)Ye=(je=He.sps[$e]).byteLength,ti.push(Ye>>>8&255),ti.push(255&Ye),ti=ti.concat(Array.prototype.slice.call(je));for($e=0;$e<He.pps.length;$e++)Ye=(je=He.pps[$e]).byteLength,mi.push(Ye>>>8&255),mi.push(255&Ye),mi=mi.concat(Array.prototype.slice.call(je));var _i=t.box(t.types.avcC,new Uint8Array([1,ti[3],ti[4],ti[5],255,224|He.sps.length].concat(ti).concat([He.pps.length]).concat(mi))),Pi=He.width,Mi=He.height,Fi=He.pixelRatio[0],Oi=He.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,Pi>>8&255,255&Pi,Mi>>8&255,255&Mi,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),_i,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([Fi>>24,Fi>>16&255,Fi>>8&255,255&Fi,Oi>>24,Oi>>16&255,Oi>>8&255,255&Oi])))},t.esds=function(He){var $e=He.config.length;return new Uint8Array([0,0,0,0,3,23+$e,0,1,0,4,15+$e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([$e]).concat(He.config).concat([6,1,2]))},t.audioStsd=function(He){var $e=He.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,He.channelCount,0,16,0,0,0,0,$e>>8&255,255&$e,0,0])},t.mp4a=function(He){return t.box(t.types.mp4a,t.audioStsd(He),t.box(t.types.esds,t.esds(He)))},t.mp3=function(He){return t.box(t.types[".mp3"],t.audioStsd(He))},t.ac3=function(He){return t.box(t.types["ac-3"],t.audioStsd(He),t.box(t.types.dac3,He.config))},t.stsd=function(He){return"audio"===He.type?"mp3"===He.segmentCodec&&"mp3"===He.codec?t.box(t.types.stsd,t.STSD,t.mp3(He)):"ac3"===He.segmentCodec?t.box(t.types.stsd,t.STSD,t.ac3(He)):t.box(t.types.stsd,t.STSD,t.mp4a(He)):t.box(t.types.stsd,t.STSD,t.avc1(He))},t.tkhd=function(He){var $e=He.id,je=He.duration*He.timescale,Ye=He.width,ti=He.height,mi=Math.floor(je/(Ss+1)),_i=Math.floor(je%(Ss+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,$e>>24&255,$e>>16&255,$e>>8&255,255&$e,0,0,0,0,mi>>24,mi>>16&255,mi>>8&255,255&mi,_i>>24,_i>>16&255,_i>>8&255,255&_i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,Ye>>8&255,255&Ye,0,0,ti>>8&255,255&ti,0,0]))},t.traf=function(He,$e){var je=t.sdtp(He),Ye=He.id,ti=Math.floor($e/(Ss+1)),mi=Math.floor($e%(Ss+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,Ye>>24,Ye>>16&255,Ye>>8&255,255&Ye])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,ti>>24,ti>>16&255,ti>>8&255,255&ti,mi>>24,mi>>16&255,mi>>8&255,255&mi])),t.trun(He,je.length+16+20+8+16+8+8),je)},t.trak=function(He){return He.duration=He.duration||4294967295,t.box(t.types.trak,t.tkhd(He),t.mdia(He))},t.trex=function(He){var $e=He.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,$e>>24,$e>>16&255,$e>>8&255,255&$e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(He,$e){var je,Ye,ti,mi,_i,Pi,Mi=He.samples||[],Fi=Mi.length,Oi=12+16*Fi,Ni=new Uint8Array(Oi);for($e+=8+Oi,Ni.set(["video"===He.type?1:0,0,15,1,Fi>>>24&255,Fi>>>16&255,Fi>>>8&255,255&Fi,$e>>>24&255,$e>>>16&255,$e>>>8&255,255&$e],0),je=0;je<Fi;je++)ti=(Ye=Mi[je]).duration,mi=Ye.size,_i=Ye.flags,Pi=Ye.cts,Ni.set([ti>>>24&255,ti>>>16&255,ti>>>8&255,255&ti,mi>>>24&255,mi>>>16&255,mi>>>8&255,255&mi,_i.isLeading<<2|_i.dependsOn,_i.isDependedOn<<6|_i.hasRedundancy<<4|_i.paddingValue<<1|_i.isNonSync,61440&_i.degradPrio,15&_i.degradPrio,Pi>>>24&255,Pi>>>16&255,Pi>>>8&255,255&Pi],12+16*je);return t.box(t.types.trun,Ni)},t.initSegment=function(He){t.types||t.init();var $e=t.moov(He);return wt(t.FTYP,$e)},t}();function Pr(He,$e){return void 0===$e&&($e=!1),function(He,$e,je,Ye){void 0===je&&(je=1),void 0===Ye&&(Ye=!1);var ti=1e3*He*je;return Ye?Math.round(ti):ti}(He,0,1/9e4,$e)}As.types=void 0,As.HDLR_TYPES=void 0,As.STTS=void 0,As.STSC=void 0,As.STCO=void 0,As.STSZ=void 0,As.VMHD=void 0,As.SMHD=void 0,As.STSD=void 0,As.FTYP=void 0,As.DINF=void 0;var ws=null,Ls=null,Ds=function(){function t(He,$e,je,Ye){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=He,this.config=$e,this.typeSupported=je,this.ISGenerated=!1,null===ws){var ti=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ws=ti?parseInt(ti[1]):0}if(null===Ls){var mi=navigator.userAgent.match(/Safari\/(\d+)/i);Ls=mi?parseInt(mi[1]):0}}var He=t.prototype;return He.destroy=function(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null},He.resetTimeStamp=function(He){Hi.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=He},He.resetNextTimestamp=function(){Hi.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},He.resetInitSegment=function(){Hi.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0},He.getVideoStartPts=function(He){var $e=!1,je=He.reduce((function(He,je){var Ye=je.pts-He;return Ye<-4294967296?($e=!0,Gr(He,je.pts)):Ye>0?He:je.pts}),He[0].pts);return $e&&Hi.debug("PTS rollover detected"),je},He.remux=function(He,$e,je,Ye,ti,mi,_i,Pi){var Mi,Fi,Oi,Ni,Ui,Gi,Vi=ti,zi=ti,Ki=He.pid>-1,ji=$e.pid>-1,Yi=$e.samples.length,qi=He.samples.length>0,Xi=_i&&Yi>0||Yi>1;if((!Ki||qi)&&(!ji||Xi)||this.ISGenerated||_i){if(this.ISGenerated){var lr,hr,dr,ur,vr=this.videoTrackConfig;!vr||$e.width===vr.width&&$e.height===vr.height&&(null==(lr=$e.pixelRatio)?void 0:lr[0])===(null==(hr=vr.pixelRatio)?void 0:hr[0])&&(null==(dr=$e.pixelRatio)?void 0:dr[1])===(null==(ur=vr.pixelRatio)?void 0:ur[1])||this.resetInitSegment()}else Oi=this.generateIS(He,$e,ti,mi);var yr,xr=this.isVideoContiguous,kr=-1;if(Xi&&(kr=function(He){for(var $e=0;$e<He.length;$e++)if(He[$e].key)return $e;return-1}($e.samples),!xr&&this.config.forceKeyFrameOnDiscontinuity))if(Gi=!0,kr>0){Hi.warn("[mp4-remuxer]: Dropped "+kr+" out of "+Yi+" video samples due to a missing keyframe");var Er=this.getVideoStartPts($e.samples);$e.samples=$e.samples.slice(kr),$e.dropped+=kr,yr=zi+=($e.samples[0].pts-Er)/$e.inputTimeScale}else-1===kr&&(Hi.warn("[mp4-remuxer]: No keyframe found out of "+Yi+" video samples"),Gi=!1);if(this.ISGenerated){if(qi&&Xi){var Tr=this.getVideoStartPts($e.samples),Ar=(Gr(He.samples[0].pts,Tr)-Tr)/$e.inputTimeScale;Vi+=Math.max(0,Ar),zi+=Math.max(0,-Ar)}if(qi){if(He.samplerate||(Hi.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),Oi=this.generateIS(He,$e,ti,mi)),Fi=this.remuxAudio(He,Vi,this.isAudioContiguous,mi,ji||Xi||Pi===qr?zi:void 0),Xi){var wr=Fi?Fi.endPTS-Fi.startPTS:0;$e.inputTimeScale||(Hi.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),Oi=this.generateIS(He,$e,ti,mi)),Mi=this.remuxVideo($e,zi,xr,wr)}}else Xi&&(Mi=this.remuxVideo($e,zi,xr,0));Mi&&(Mi.firstKeyFrame=kr,Mi.independent=-1!==kr,Mi.firstKeyFramePTS=yr)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(je.samples.length&&(Ui=Or(je,ti,this._initPTS,this._initDTS)),Ye.samples.length&&(Ni=jr(Ye,ti,this._initPTS))),{audio:Fi,video:Mi,initSegment:Oi,independent:Gi,text:Ni,id3:Ui}},He.generateIS=function(He,$e,je,Ye){var ti,mi,_i,Pi=He.samples,Mi=$e.samples,Fi=this.typeSupported,Oi={},Ni=this._initPTS,Ui=!Ni||Ye,Gi="audio/mp4";if(Ui&&(ti=mi=1/0),He.config&&Pi.length){switch(He.timescale=He.samplerate,He.segmentCodec){case"mp3":Fi.mpeg?(Gi="audio/mpeg",He.codec=""):Fi.mp3&&(He.codec="mp3");break;case"ac3":He.codec="ac-3"}Oi.audio={id:"audio",container:Gi,codec:He.codec,initSegment:"mp3"===He.segmentCodec&&Fi.mpeg?new Uint8Array(0):As.initSegment([He]),metadata:{channelCount:He.channelCount}},Ui&&(_i=He.inputTimeScale,Ni&&_i===Ni.timescale?Ui=!1:ti=mi=Pi[0].pts-Math.round(_i*je))}if($e.sps&&$e.pps&&Mi.length){if($e.timescale=$e.inputTimeScale,Oi.video={id:"main",container:"video/mp4",codec:$e.codec,initSegment:As.initSegment([$e]),metadata:{width:$e.width,height:$e.height}},Ui)if(_i=$e.inputTimeScale,Ni&&_i===Ni.timescale)Ui=!1;else{var Vi=this.getVideoStartPts(Mi),Hi=Math.round(_i*je);mi=Math.min(mi,Gr(Mi[0].dts,Vi)-Hi),ti=Math.min(ti,Vi-Hi)}this.videoTrackConfig={width:$e.width,height:$e.height,pixelRatio:$e.pixelRatio}}if(Object.keys(Oi).length)return this.ISGenerated=!0,Ui?(this._initPTS={baseTime:ti,timescale:_i},this._initDTS={baseTime:mi,timescale:_i}):ti=_i=void 0,{tracks:Oi,initPTS:ti,timescale:_i}},He.remuxVideo=function(He,$e,je,Ye){var ti,mi,_i=He.inputTimeScale,Pi=He.samples,Mi=[],Fi=Pi.length,Gi=this._initPTS,Vi=this.nextAvcDts,zi=8,Ki=this.videoSampleDuration,ji=Number.POSITIVE_INFINITY,Yi=Number.NEGATIVE_INFINITY,qi=!1;if(!je||null===Vi){var Xi=$e*_i,lr=Pi[0].pts-Gr(Pi[0].dts,Pi[0].pts);ws&&null!==Vi&&Math.abs(Xi-lr-Vi)<15e3?je=!0:Vi=Xi-lr}for(var hr=Gi.baseTime*_i/Gi.timescale,dr=0;dr<Fi;dr++){var ur=Pi[dr];ur.pts=Gr(ur.pts-hr,Vi),ur.dts=Gr(ur.dts-hr,Vi),ur.dts<Pi[dr>0?dr-1:dr].dts&&(qi=!0)}qi&&Pi.sort((function(He,$e){var je=He.dts-$e.dts,Ye=He.pts-$e.pts;return je||Ye})),ti=Pi[0].dts;var vr=Pi[Pi.length-1].dts-ti,yr=vr?Math.round(vr/(Fi-1)):Ki||He.inputTimeScale/30;if(je){var xr=ti-Vi,kr=xr>yr,Er=xr<-1;if((kr||Er)&&(kr?Hi.warn("AVC: "+Pr(xr,!0)+" ms ("+xr+"dts) hole between fragments detected at "+$e.toFixed(3)):Hi.warn("AVC: "+Pr(-xr,!0)+" ms ("+xr+"dts) overlapping between fragments detected at "+$e.toFixed(3)),!Er||Vi>=Pi[0].pts||ws)){ti=Vi;var Tr=Pi[0].pts-xr;if(kr)Pi[0].dts=ti,Pi[0].pts=Tr;else for(var Ar=0;Ar<Pi.length&&!(Pi[Ar].dts>Tr);Ar++)Pi[Ar].dts-=xr,Pi[Ar].pts-=xr;Hi.log("Video: Initial PTS/DTS adjusted: "+Pr(Tr,!0)+"/"+Pr(ti,!0)+", delta: "+Pr(xr,!0)+" ms")}}for(var wr=0,Lr=0,_r=ti=Math.max(0,ti),Cr=0;Cr<Fi;Cr++){for(var Ir=Pi[Cr],Mr=Ir.units,Fr=Mr.length,Br=0,Nr=0;Nr<Fr;Nr++)Br+=Mr[Nr].data.length;Lr+=Br,wr+=Fr,Ir.length=Br,Ir.dts<_r?(Ir.dts=_r,_r+=yr/4|0||1):_r=Ir.dts,ji=Math.min(Ir.pts,ji),Yi=Math.max(Ir.pts,Yi)}mi=Pi[Fi-1].dts;var Ur,Hr=Lr+4*wr+8;try{Ur=new Uint8Array(Hr)}catch(He){return void this.observer.emit(Oi.ERROR,Oi.ERROR,{type:Ni.MUX_ERROR,details:Ui.REMUX_ALLOC_ERROR,fatal:!1,error:He,bytes:Hr,reason:"fail allocating video mdat "+Hr})}var Wr=new DataView(Ur.buffer);Wr.setUint32(0,Hr),Ur.set(As.types.mdat,4);for(var zr=!1,Kr=Number.POSITIVE_INFINITY,qr=Number.POSITIVE_INFINITY,ta=Number.NEGATIVE_INFINITY,ea=Number.NEGATIVE_INFINITY,sa=0;sa<Fi;sa++){for(var na=Pi[sa],oa=na.units,la=0,ha=0,da=oa.length;ha<da;ha++){var ua=oa[ha],ca=ua.data,fa=ua.data.byteLength;Wr.setUint32(zi,fa),zi+=4,Ur.set(ca,zi),zi+=fa,la+=4+fa}var pa=void 0;if(sa<Fi-1)Ki=Pi[sa+1].dts-na.dts,pa=Pi[sa+1].pts-na.pts;else{var ma=this.config,ga=sa>0?na.dts-Pi[sa-1].dts:yr;if(pa=sa>0?na.pts-Pi[sa-1].pts:yr,ma.stretchShortVideoTrack&&null!==this.nextAudioPts){var va=Math.floor(ma.maxBufferHole*_i),ya=(Ye?ji+Ye*_i:this.nextAudioPts)-na.pts;ya>va?((Ki=ya-ga)<0?Ki=ga:zr=!0,Hi.log("[mp4-remuxer]: It is approximately "+ya/90+" ms to the next segment; using duration "+Ki/90+" ms for the last video frame.")):Ki=ga}else Ki=ga}var xa=Math.round(na.pts-na.dts);Kr=Math.min(Kr,Ki),ta=Math.max(ta,Ki),qr=Math.min(qr,pa),ea=Math.max(ea,pa),Mi.push(new Yr(na.key,Ki,la,xa))}if(Mi.length)if(ws){if(ws<70){var ka=Mi[0].flags;ka.dependsOn=2,ka.isNonSync=0}}else if(Ls&&ea-qr<ta-Kr&&yr/ta<.025&&0===Mi[0].cts){Hi.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var Ea=ti,ba=0,Ta=Mi.length;ba<Ta;ba++){var Sa=Ea+Mi[ba].duration,Aa=Ea+Mi[ba].cts;if(ba<Ta-1){var wa=Sa+Mi[ba+1].cts;Mi[ba].duration=wa-Aa}else Mi[ba].duration=ba?Mi[ba-1].duration:yr;Mi[ba].cts=0,Ea=Sa}}Ki=zr||!Ki?yr:Ki,this.nextAvcDts=Vi=mi+Ki,this.videoSampleDuration=Ki,this.isVideoContiguous=!0;var La={data1:As.moof(He.sequenceNumber++,ti,o({},He,{samples:Mi})),data2:Ur,startPTS:ji/_i,endPTS:(Yi+Ki)/_i,startDTS:ti/_i,endDTS:Vi/_i,type:"video",hasAudio:!1,hasVideo:!0,nb:Mi.length,dropped:He.dropped};return He.samples=[],He.dropped=0,La},He.getSamplesPerFrame=function(He){switch(He.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}},He.remuxAudio=function(He,$e,je,Ye,ti){var mi=He.inputTimeScale,_i=mi/(He.samplerate?He.samplerate:mi),Pi=this.getSamplesPerFrame(He),Mi=Pi*_i,Fi=this._initPTS,Gi="mp3"===He.segmentCodec&&this.typeSupported.mpeg,Vi=[],zi=void 0!==ti,Ki=He.samples,ji=Gi?0:8,Yi=this.nextAudioPts||-1,qi=$e*mi,Xi=Fi.baseTime*mi/Fi.timescale;if(this.isAudioContiguous=je=je||Ki.length&&Yi>0&&(Ye&&Math.abs(qi-Yi)<9e3||Math.abs(Gr(Ki[0].pts-Xi,qi)-Yi)<20*Mi),Ki.forEach((function(He){He.pts=Gr(He.pts-Xi,qi)})),!je||Yi<0){if(!(Ki=Ki.filter((function(He){return He.pts>=0}))).length)return;Yi=0===ti?0:Ye&&!zi?Math.max(0,qi):Ki[0].pts}if("aac"===He.segmentCodec)for(var lr=this.config.maxAudioFramesDrift,hr=0,dr=Yi;hr<Ki.length;hr++){var ur=Ki[hr],vr=ur.pts,yr=vr-dr,xr=Math.abs(1e3*yr/mi);if(yr<=-lr*Mi&&zi)0===hr&&(Hi.warn("Audio frame @ "+(vr/mi).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*yr/mi)+" ms."),this.nextAudioPts=Yi=dr=vr);else if(yr>=lr*Mi&&xr<1e4&&zi){var kr=Math.round(yr/Mi);(dr=vr-kr*Mi)<0&&(kr--,dr+=Mi),0===hr&&(this.nextAudioPts=Yi=dr),Hi.warn("[mp4-remuxer]: Injecting "+kr+" audio frame @ "+(dr/mi).toFixed(3)+"s due to "+Math.round(1e3*yr/mi)+" ms gap.");for(var Er=0;Er<kr;Er++){var Tr=Math.max(dr,0),Ar=Ts.getSilentFrame(He.manifestCodec||He.codec,He.channelCount);Ar||(Hi.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Ar=ur.unit.subarray()),Ki.splice(hr,0,{unit:Ar,pts:Tr}),dr+=Mi,hr++}}ur.pts=dr,dr+=Mi}for(var wr,Lr=null,_r=null,Cr=0,Ir=Ki.length;Ir--;)Cr+=Ki[Ir].unit.byteLength;for(var Mr=0,Fr=Ki.length;Mr<Fr;Mr++){var Br=Ki[Mr],Nr=Br.unit,Ur=Br.pts;if(null!==_r)Vi[Mr-1].duration=Math.round((Ur-_r)/_i);else{if(je&&"aac"===He.segmentCodec&&(Ur=Yi),Lr=Ur,!(Cr>0))return;Cr+=ji;try{wr=new Uint8Array(Cr)}catch(He){return void this.observer.emit(Oi.ERROR,Oi.ERROR,{type:Ni.MUX_ERROR,details:Ui.REMUX_ALLOC_ERROR,fatal:!1,error:He,bytes:Cr,reason:"fail allocating audio mdat "+Cr})}Gi||(new DataView(wr.buffer).setUint32(0,Cr),wr.set(As.types.mdat,4))}wr.set(Nr,ji);var Hr=Nr.byteLength;ji+=Hr,Vi.push(new Yr(!0,Pi,Hr,0)),_r=Ur}var Wr=Vi.length;if(Wr){var zr=Vi[Vi.length-1];this.nextAudioPts=Yi=_r+_i*zr.duration;var Kr=Gi?new Uint8Array(0):As.moof(He.sequenceNumber++,Lr/_i,o({},He,{samples:Vi}));He.samples=[];var qr=Lr/mi,ta=Yi/mi,ea={data1:Kr,data2:wr,startPTS:qr,endPTS:ta,startDTS:qr,endDTS:ta,type:"audio",hasAudio:!0,hasVideo:!1,nb:Wr};return this.isAudioContiguous=!0,ea}},He.remuxEmptyAudio=function(He,$e,je,Ye){var ti=He.inputTimeScale,mi=ti/(He.samplerate?He.samplerate:ti),_i=this.nextAudioPts,Pi=this._initDTS,Mi=9e4*Pi.baseTime/Pi.timescale,Fi=(null!==_i?_i:Ye.startDTS*ti)+Mi,Oi=Ye.endDTS*ti+Mi,Ni=1024*mi,Ui=Math.ceil((Oi-Fi)/Ni),Gi=Ts.getSilentFrame(He.manifestCodec||He.codec,He.channelCount);if(Hi.warn("[mp4-remuxer]: remux empty Audio"),Gi){for(var Vi=[],zi=0;zi<Ui;zi++){var Ki=Fi+zi*Ni;Vi.push({unit:Gi,pts:Ki,dts:Ki})}return He.samples=Vi,this.remuxAudio(He,$e,je,!1)}Hi.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t}();function Gr(He,$e){var je;if(null===$e)return He;for(je=$e<He?-8589934592:8589934592;Math.abs(He-$e)>4294967296;)He+=je;return He}function Or(He,$e,je,Ye){var ti=He.samples.length;if(ti){for(var mi=He.inputTimeScale,_i=0;_i<ti;_i++){var Pi=He.samples[_i];Pi.pts=Gr(Pi.pts-je.baseTime*mi/je.timescale,$e*mi)/mi,Pi.dts=Gr(Pi.dts-Ye.baseTime*mi/Ye.timescale,$e*mi)/mi}var Mi=He.samples;return He.samples=[],{samples:Mi}}}function jr(He,$e,je){var Ye=He.samples.length;if(Ye){for(var ti=He.inputTimeScale,mi=0;mi<Ye;mi++){var _i=He.samples[mi];_i.pts=Gr(_i.pts-je.baseTime*ti/je.timescale,$e*ti)/ti}He.samples.sort((function(He,$e){return He.pts-$e.pts}));var Pi=He.samples;return He.samples=[],{samples:Pi}}}var Yr=function(He,$e,je,Ye){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=$e,this.size=je,this.cts=Ye,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:He?2:1,isNonSync:He?0:1}},_s=function(){function t(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}var He=t.prototype;return He.destroy=function(){},He.resetTimeStamp=function(He){this.initPTS=He,this.lastEndTime=null},He.resetNextTimestamp=function(){this.lastEndTime=null},He.resetInitSegment=function(He,$e,je,Ye){this.audioCodec=$e,this.videoCodec=je,this.generateInitSegment(function(He,$e){if(!He||!$e)return He;var je=$e.keyId;return je&&$e.isCommonEncryption&&vt(He,["moov","trak"]).forEach((function(He){var $e=vt(He,["mdia","minf","stbl","stsd"])[0].subarray(8),Ye=vt($e,["enca"]),ti=Ye.length>0;ti||(Ye=vt($e,["encv"])),Ye.forEach((function(He){vt(ti?He.subarray(28):He.subarray(78),["sinf"]).forEach((function(He){var $e=function(He){var $e=vt(He,["schm"])[0];if($e){var je=ct($e.subarray(4,8));if("cbcs"===je||"cenc"===je)return vt(He,["schi","tenc"])[0]}return Hi.error("[eme] missing 'schm' box"),null}(He);if($e){var Ye=$e.subarray(8,24);Ye.some((function(He){return 0!==He}))||(Hi.log("[eme] Patching keyId in 'enc"+(ti?"a":"v")+">sinf>>tenc' box: "+lt(Ye)+" -> "+lt(je)),$e.set(je,8))}}))}))})),He}(He,Ye)),this.emitInitSegment=!0},He.generateInitSegment=function(He){var $e=this.audioCodec,je=this.videoCodec;if(null==He||!He.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var Ye=this.initData=yt(He);Ye.audio&&($e=Vr(Ye.audio,qi)),Ye.video&&(je=Vr(Ye.video,Xi));var ti={};Ye.audio&&Ye.video?ti.audiovideo={container:"video/mp4",codec:$e+","+je,initSegment:He,id:"main"}:Ye.audio?ti.audio={container:"audio/mp4",codec:$e,initSegment:He,id:"audio"}:Ye.video?ti.video={container:"video/mp4",codec:je,initSegment:He,id:"main"}:Hi.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=ti},He.remux=function(He,$e,je,Ye,ti,mi){var _i,Mi,Fi=this.initPTS,Oi=this.lastEndTime,Ni={audio:void 0,video:void 0,text:Ye,id3:je,initSegment:void 0};Pi(Oi)||(Oi=this.lastEndTime=ti||0);var Ui=$e.samples;if(null==Ui||!Ui.length)return Ni;var Gi={initPTS:void 0,timescale:1},Vi=this.initData;if(null!=(_i=Vi)&&_i.length||(this.generateInitSegment(Ui),Vi=this.initData),null==(Mi=Vi)||!Mi.length)return Hi.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),Ni;this.emitInitSegment&&(Gi.tracks=this.initTracks,this.emitInitSegment=!1);var zi,Ki=function(He,$e){for(var je=0,Ye=0,ti=0,mi=vt(He,["moof","traf"]),_i=0;_i<mi.length;_i++){var Pi=mi[_i],Mi=vt(Pi,["tfhd"])[0],Fi=$e[ft(Mi,4)];if(Fi){var Oi=Fi.default,Ni=ft(Mi,0)|(null==Oi?void 0:Oi.flags),Ui=null==Oi?void 0:Oi.duration;8&Ni&&(Ui=ft(Mi,2&Ni?12:8));for(var Gi=Fi.timescale||9e4,Vi=vt(Pi,["trun"]),Hi=0;Hi<Vi.length;Hi++)!(je=xt(Vi[Hi]))&&Ui&&(je=Ui*ft(Vi[Hi],4)),Fi.type===Xi?Ye+=je/Gi:Fi.type===qi&&(ti+=je/Gi)}}if(0===Ye&&0===ti){for(var zi=0,Ki=vt(He,["sidx"]),ji=0;ji<Ki.length;ji++){var Yi=Et(Ki[ji]);null!=Yi&&Yi.references&&(zi+=Yi.references.reduce((function(He,$e){return He+$e.info.duration||0}),0))}return zi}return Ye||ti}(Ui,Vi),ji=(zi=Vi,vt(Ui,["moof","traf"]).reduce((function(He,$e){var je=vt($e,["tfdt"])[0],Ye=je[0],ti=vt($e,["tfhd"]).reduce((function(He,$e){var ti=ft($e,4),mi=zi[ti];if(mi){var _i=ft(je,4);if(1===Ye){if(_i===kr)return Hi.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),He;_i*=kr+1,_i+=ft(je,8)}var Mi=_i/(mi.timescale||9e4);if(Pi(Mi)&&(null===He||Mi<He))return Mi}return He}),null);return null!==ti&&Pi(ti)&&(null===He||ti<He)?ti:He}),null)),Yi=null===ji?ti:ji;(function(He,$e,je,Ye){if(null===He)return!0;var ti=Math.max(Ye,1),mi=$e-He.baseTime/He.timescale;return Math.abs(mi-je)>ti}(Fi,Yi,ti,Ki)||Gi.timescale!==Fi.timescale&&mi)&&(Gi.initPTS=Yi-ti,Fi&&1===Fi.timescale&&Hi.warn("Adjusting initPTS by "+(Gi.initPTS-Fi.baseTime)),this.initPTS=Fi={baseTime:Gi.initPTS,timescale:1});var lr=He?Yi-Fi.baseTime/Fi.timescale:Oi,hr=lr+Ki;!function(He,$e,je){vt($e,["moof","traf"]).forEach((function($e){vt($e,["tfhd"]).forEach((function(Ye){var ti=ft(Ye,4),mi=He[ti];if(mi){var _i=mi.timescale||9e4;vt($e,["tfdt"]).forEach((function(He){var $e=He[0],Ye=je*_i;if(Ye){var ti=ft(He,4);if(0===$e)ti-=Ye,mt(He,4,ti=Math.max(ti,0));else{ti*=Math.pow(2,32),ti+=ft(He,8),ti-=Ye,ti=Math.max(ti,0);var mi=Math.floor(ti/(kr+1)),Pi=Math.floor(ti%(kr+1));mt(He,4,mi),mt(He,8,Pi)}}}))}}))}))}(Vi,Ui,Fi.baseTime/Fi.timescale),Ki>0?this.lastEndTime=hr:(Hi.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var dr=!!Vi.audio,ur=!!Vi.video,vr="";dr&&(vr+="audio"),ur&&(vr+="video");var yr={data1:Ui,startPTS:lr,startDTS:lr,endPTS:hr,endDTS:hr,type:vr,hasAudio:dr,hasVideo:ur,nb:1,dropped:0};return Ni.audio="audio"===yr.type?yr:void 0,Ni.video="audio"!==yr.type?yr:void 0,Ni.initSegment=Gi,Ni.id3=Or(je,ti,Fi,Fi),Ye.samples.length&&(Ni.text=jr(Ye,ti,Fi)),Ni},t}();function Vr(He,$e){var je=null==He?void 0:He.codec;if(je&&je.length>4)return je;if($e===qi){if("ec-3"===je||"ac-3"===je||"alac"===je)return je;if("fLaC"===je||"Opus"===je)return Ot(je,!1);var Ye="mp4a.40.5";return Hi.info('Parsed audio codec "'+je+'" or audio object type not handled. Using "'+Ye+'"'),Ye}return Hi.warn('Unhandled video codec "'+je+'"'),"hvc1"===je||"hev1"===je?"hvc1.1.6.L120.90":"av01"===je?"av01.0.04M.08":"avc1.42e01e"}var Rs,Ps="undefined"!=typeof self?self:void 0;try{Rs=self.performance.now.bind(self.performance)}catch(He){Hi.debug("Unable to use Performance API on this environment"),Rs=null==Ps?void 0:Ps.Date.now}var Cs=[{demux:ms,remux:_s},{demux:Es,remux:Ds},{demux:fs,remux:Ds},{demux:bs,remux:Ds}],Is=function(){function t(He,$e,je,Ye,ti){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=He,this.typeSupported=$e,this.config=je,this.vendor=Ye,this.id=ti}var He=t.prototype;return He.configure=function(He){this.transmuxConfig=He,this.decrypter&&this.decrypter.reset()},He.push=function(He,$e,je,Ye){var ti=this,mi=je.transmuxing;mi.executeStart=Rs();var _i=new Uint8Array(He),Pi=this.currentTransmuxState,Mi=this.transmuxConfig;Ye&&(this.currentTransmuxState=Ye);var Fi,Gi,Vi=Ye||Pi,zi=Vi.contiguous,Ki=Vi.discontinuity,ji=Vi.trackSwitch,Yi=Vi.accurateTimeOffset,qi=Vi.timeOffset,Xi=Vi.initSegmentChange,lr=Mi.audioCodec,hr=Mi.videoCodec,dr=Mi.defaultInitPts,ur=Mi.duration,vr=Mi.initSegmentData,yr=(Fi=$e,Gi=null,_i.byteLength>0&&null!=(null==Fi?void 0:Fi.key)&&null!==Fi.iv&&null!=Fi.method&&(Gi=Fi),Gi);if(yr&&"AES-128"===yr.method){var xr=this.getDecrypter();if(!xr.isSync())return this.decryptionPromise=xr.webCryptoDecrypt(_i,yr.key.buffer,yr.iv.buffer).then((function(He){var $e=ti.push(He,null,je);return ti.decryptionPromise=null,$e})),this.decryptionPromise;var kr=xr.softwareDecrypt(_i,yr.key.buffer,yr.iv.buffer);if(je.part>-1&&(kr=xr.flush()),!kr)return mi.executeEnd=Rs(),Jr(je);_i=new Uint8Array(kr)}var Er=this.needsProbing(Ki,ji);if(Er){var Tr=this.configureTransmuxer(_i);if(Tr)return Hi.warn("[transmuxer] "+Tr.message),this.observer.emit(Oi.ERROR,Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_PARSING_ERROR,fatal:!1,error:Tr,reason:Tr.message}),mi.executeEnd=Rs(),Jr(je)}(Ki||ji||Xi||Er)&&this.resetInitSegment(vr,lr,hr,ur,$e),(Ki||Xi||Er)&&this.resetInitialTimestamp(dr),zi||this.resetContiguity();var Ar=this.transmux(_i,yr,qi,Yi,je),wr=this.currentTransmuxState;return wr.contiguous=!0,wr.discontinuity=!1,wr.trackSwitch=!1,mi.executeEnd=Rs(),Ar},He.flush=function(He){var $e=this,je=He.transmuxing;je.executeStart=Rs();var Ye=this.decrypter,ti=this.currentTransmuxState,mi=this.decryptionPromise;if(mi)return mi.then((function(){return $e.flush(He)}));var _i=[],Pi=ti.timeOffset;if(Ye){var Mi=Ye.flush();Mi&&_i.push(this.push(Mi,null,He))}var Fi=this.demuxer,Oi=this.remuxer;if(!Fi||!Oi)return je.executeEnd=Rs(),[Jr(He)];var Ni=Fi.flush(Pi);return Zr(Ni)?Ni.then((function(je){return $e.flushRemux(_i,je,He),_i})):(this.flushRemux(_i,Ni,He),_i)},He.flushRemux=function(He,$e,je){var Ye=$e.audioTrack,ti=$e.videoTrack,mi=$e.id3Track,_i=$e.textTrack,Pi=this.currentTransmuxState,Mi=Pi.accurateTimeOffset,Fi=Pi.timeOffset;Hi.log("[transmuxer.ts]: Flushed fragment "+je.sn+(je.part>-1?" p: "+je.part:"")+" of level "+je.level);var Oi=this.remuxer.remux(Ye,ti,mi,_i,Fi,Mi,!0,this.id);He.push({remuxResult:Oi,chunkMeta:je}),je.transmuxing.executeEnd=Rs()},He.resetInitialTimestamp=function(He){var $e=this.demuxer,je=this.remuxer;$e&&je&&($e.resetTimeStamp(He),je.resetTimeStamp(He))},He.resetContiguity=function(){var He=this.demuxer,$e=this.remuxer;He&&$e&&(He.resetContiguity(),$e.resetNextTimestamp())},He.resetInitSegment=function(He,$e,je,Ye,ti){var mi=this.demuxer,_i=this.remuxer;mi&&_i&&(mi.resetInitSegment(He,$e,je,Ye),_i.resetInitSegment(He,$e,je,ti))},He.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},He.transmux=function(He,$e,je,Ye,ti){return $e&&"SAMPLE-AES"===$e.method?this.transmuxSampleAes(He,$e,je,Ye,ti):this.transmuxUnencrypted(He,je,Ye,ti)},He.transmuxUnencrypted=function(He,$e,je,Ye){var ti=this.demuxer.demux(He,$e,!1,!this.config.progressive),mi=ti.audioTrack,_i=ti.videoTrack,Pi=ti.id3Track,Mi=ti.textTrack;return{remuxResult:this.remuxer.remux(mi,_i,Pi,Mi,$e,je,!1,this.id),chunkMeta:Ye}},He.transmuxSampleAes=function(He,$e,je,Ye,ti){var mi=this;return this.demuxer.demuxSampleAes(He,$e,je).then((function(He){return{remuxResult:mi.remuxer.remux(He.audioTrack,He.videoTrack,He.id3Track,He.textTrack,je,Ye,!1,mi.id),chunkMeta:ti}}))},He.configureTransmuxer=function(He){for(var $e,je=this.config,Ye=this.observer,ti=this.typeSupported,mi=this.vendor,_i=0,Pi=Cs.length;_i<Pi;_i++){var Mi;if(null!=(Mi=Cs[_i].demux)&&Mi.probe(He)){$e=Cs[_i];break}}if(!$e)return new Error("Failed to find demuxer by probing fragment data");var Fi=this.demuxer,Oi=this.remuxer,Ni=$e.remux,Ui=$e.demux;Oi&&Oi instanceof Ni||(this.remuxer=new Ni(Ye,je,ti,mi)),Fi&&Fi instanceof Ui||(this.demuxer=new Ui(Ye,je,ti),this.probe=Ui.probe)},He.needsProbing=function(He,$e){return!this.demuxer||!this.remuxer||He||$e},He.getDecrypter=function(){var He=this.decrypter;return He||(He=this.decrypter=new qa(this.config)),He},t}(),Jr=function(He){return{remuxResult:{},chunkMeta:He}};function Zr(He){return"then"in He&&He.then instanceof Function}var Xr=function(He,$e,je,Ye,ti){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=He,this.videoCodec=$e,this.initSegmentData=je,this.duration=Ye,this.defaultInitPts=ti||null},$r=function(He,$e,je,Ye,ti,mi){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=He,this.contiguous=$e,this.accurateTimeOffset=je,this.trackSwitch=Ye,this.timeOffset=ti,this.initSegmentChange=mi},Ms={exports:{}};!function(He){var $e=Object.prototype.hasOwnProperty,je="~";function r(){}function a(He,$e,je){this.fn=He,this.context=$e,this.once=je||!1}function s(He,$e,Ye,ti,mi){if("function"!=typeof Ye)throw new TypeError("The listener must be a function");var _i=new a(Ye,ti||He,mi),Pi=je?je+$e:$e;return He._events[Pi]?He._events[Pi].fn?He._events[Pi]=[He._events[Pi],_i]:He._events[Pi].push(_i):(He._events[Pi]=_i,He._eventsCount++),He}function n(He,$e){0==--He._eventsCount?He._events=new r:delete He._events[$e]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(je=!1)),o.prototype.eventNames=function(){var He,Ye,ti=[];if(0===this._eventsCount)return ti;for(Ye in He=this._events)$e.call(He,Ye)&&ti.push(je?Ye.slice(1):Ye);return Object.getOwnPropertySymbols?ti.concat(Object.getOwnPropertySymbols(He)):ti},o.prototype.listeners=function(He){var $e=je?je+He:He,Ye=this._events[$e];if(!Ye)return[];if(Ye.fn)return[Ye.fn];for(var ti=0,mi=Ye.length,_i=new Array(mi);ti<mi;ti++)_i[ti]=Ye[ti].fn;return _i},o.prototype.listenerCount=function(He){var $e=je?je+He:He,Ye=this._events[$e];return Ye?Ye.fn?1:Ye.length:0},o.prototype.emit=function(He,$e,Ye,ti,mi,_i){var Pi=je?je+He:He;if(!this._events[Pi])return!1;var Mi,Fi,Oi=this._events[Pi],Ni=arguments.length;if(Oi.fn){switch(Oi.once&&this.removeListener(He,Oi.fn,void 0,!0),Ni){case 1:return Oi.fn.call(Oi.context),!0;case 2:return Oi.fn.call(Oi.context,$e),!0;case 3:return Oi.fn.call(Oi.context,$e,Ye),!0;case 4:return Oi.fn.call(Oi.context,$e,Ye,ti),!0;case 5:return Oi.fn.call(Oi.context,$e,Ye,ti,mi),!0;case 6:return Oi.fn.call(Oi.context,$e,Ye,ti,mi,_i),!0}for(Fi=1,Mi=new Array(Ni-1);Fi<Ni;Fi++)Mi[Fi-1]=arguments[Fi];Oi.fn.apply(Oi.context,Mi)}else{var Ui,Gi=Oi.length;for(Fi=0;Fi<Gi;Fi++)switch(Oi[Fi].once&&this.removeListener(He,Oi[Fi].fn,void 0,!0),Ni){case 1:Oi[Fi].fn.call(Oi[Fi].context);break;case 2:Oi[Fi].fn.call(Oi[Fi].context,$e);break;case 3:Oi[Fi].fn.call(Oi[Fi].context,$e,Ye);break;case 4:Oi[Fi].fn.call(Oi[Fi].context,$e,Ye,ti);break;default:if(!Mi)for(Ui=1,Mi=new Array(Ni-1);Ui<Ni;Ui++)Mi[Ui-1]=arguments[Ui];Oi[Fi].fn.apply(Oi[Fi].context,Mi)}}return!0},o.prototype.on=function(He,$e,je){return s(this,He,$e,je,!1)},o.prototype.once=function(He,$e,je){return s(this,He,$e,je,!0)},o.prototype.removeListener=function(He,$e,Ye,ti){var mi=je?je+He:He;if(!this._events[mi])return this;if(!$e)return n(this,mi),this;var _i=this._events[mi];if(_i.fn)_i.fn!==$e||ti&&!_i.once||Ye&&_i.context!==Ye||n(this,mi);else{for(var Pi=0,Mi=[],Fi=_i.length;Pi<Fi;Pi++)(_i[Pi].fn!==$e||ti&&!_i[Pi].once||Ye&&_i[Pi].context!==Ye)&&Mi.push(_i[Pi]);Mi.length?this._events[mi]=1===Mi.length?Mi[0]:Mi:n(this,mi)}return this},o.prototype.removeAllListeners=function(He){var $e;return He?($e=je?je+He:He,this._events[$e]&&n(this,$e)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=je,o.EventEmitter=o,He.exports=o}(Ms);var Fs=c(Ms.exports);function ia(He,$e){if(!((je=$e.remuxResult).audio||je.video||je.text||je.id3||je.initSegment))return!1;var je,Ye=[],ti=$e.remuxResult,mi=ti.audio,_i=ti.video;return mi&&ra(Ye,mi),_i&&ra(Ye,_i),He.postMessage({event:"transmuxComplete",data:$e},Ye),!0}function ra(He,$e){$e.data1&&He.push($e.data1.buffer),$e.data2&&He.push($e.data2.buffer)}function aa(He,$e,je){$e.reduce((function($e,je){return ia(He,je)||$e}),!1)||He.postMessage({event:"transmuxComplete",data:$e[0]}),He.postMessage({event:"flush",data:je})}void 0!==He&&He&&function(He){var $e=new Fs,i=function($e,je){He.postMessage({event:$e,data:je})};$e.on(Oi.FRAG_DECRYPTED,i),$e.on(Oi.ERROR,i),He.addEventListener("message",(function(je){var Ye=je.data;switch(Ye.cmd){case"init":var ti=JSON.parse(Ye.config);He.transmuxer=new Is($e,Ye.typeSupported,ti,Ye.vendor,Ye.id),D(ti.debug,Ye.id),function(){var t=function(He){Hi[He]=function($e){i("workerLog",{logType:He,message:$e})}};for(var He in Hi)t(He)}(),i("init",null);break;case"configure":He.transmuxer.configure(Ye.config);break;case"demux":var mi=He.transmuxer.push(Ye.data,Ye.decryptdata,Ye.chunkMeta,Ye.state);Zr(mi)?(He.transmuxer.async=!0,mi.then((function($e){ia(He,$e)})).catch((function(He){i(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_PARSING_ERROR,chunkMeta:Ye.chunkMeta,fatal:!1,error:He,err:He,reason:"transmuxer-worker push error"})}))):(He.transmuxer.async=!1,ia(He,mi));break;case"flush":var _i=Ye.chunkMeta,Pi=He.transmuxer.flush(_i);Zr(Pi)||He.transmuxer.async?(Zr(Pi)||(Pi=Promise.resolve(Pi)),Pi.then((function($e){aa(He,$e,_i)})).catch((function(He){i(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_PARSING_ERROR,chunkMeta:Ye.chunkMeta,fatal:!1,error:He,err:He,reason:"transmuxer-worker flush error"})}))):aa(He,Pi,_i)}}))}(self);var Os=function(){function e(He,$e,je,Ye){var ti=this;this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var mi=He.config;this.hls=He,this.id=$e,this.useWorker=!!mi.enableWorker,this.onTransmuxComplete=je,this.onFlush=Ye;var o=function(He,$e){($e=$e||{}).frag=ti.frag,$e.id=ti.id,He===Oi.ERROR&&(ti.error=$e.error),ti.hls.trigger(He,$e)};this.observer=new Fs,this.observer.on(Oi.FRAG_DECRYPTED,o),this.observer.on(Oi.ERROR,o);var _i,Pi,Mi,Fi,Gi=Lt(mi.preferManagedMediaSource)||{isTypeSupported:function(){return!1}},Vi={mpeg:Gi.isTypeSupported("audio/mpeg"),mp3:Gi.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:!1},zi=navigator.vendor;if(!this.useWorker||"undefined"==typeof Worker||(mi.workerPath,0))this.transmuxer=new Is(this.observer,Vi,mi,zi,$e);else try{mi.workerPath?(Hi.log("loading Web Worker "+mi.workerPath+' for "'+$e+'"'),this.workerContext=(Mi=mi.workerPath,Fi=new self.URL(Mi,self.location.href).href,{worker:new self.Worker(Fi),scriptURL:Fi})):(Hi.log('injecting Web Worker for "'+$e+'"'),this.workerContext=(_i=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+t.toString()+")(true);"],{type:"text/javascript"}),Pi=self.URL.createObjectURL(_i),{worker:new self.Worker(Pi),objectURL:Pi})),this.onwmsg=function(He){return ti.onWorkerMessage(He)};var Ki=this.workerContext.worker;Ki.addEventListener("message",this.onwmsg),Ki.onerror=function(He){var je=new Error(He.message+"  ("+He.filename+":"+He.lineno+")");mi.enableWorker=!1,Hi.warn('Error in "'+$e+'" Web Worker, fallback to inline'),ti.hls.trigger(Oi.ERROR,{type:Ni.OTHER_ERROR,details:Ui.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:je})},Ki.postMessage({cmd:"init",typeSupported:Vi,vendor:zi,id:$e,config:JSON.stringify(mi)})}catch(He){Hi.warn('Error setting up "'+$e+'" Web Worker, fallback to inline',He),this.resetWorker(),this.error=null,this.transmuxer=new Is(this.observer,Vi,mi,zi,$e)}}var He=e.prototype;return He.resetWorker=function(){if(this.workerContext){var He=this.workerContext,$e=He.worker,je=He.objectURL;je&&self.URL.revokeObjectURL(je),$e.removeEventListener("message",this.onwmsg),$e.onerror=null,$e.terminate(),this.workerContext=null}},He.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var He=this.transmuxer;He&&(He.destroy(),this.transmuxer=null)}var $e=this.observer;$e&&$e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},He.push=function(He,$e,je,Ye,ti,mi,_i,Pi,Mi,Fi){var Oi,Ni,Ui=this;Mi.transmuxing.start=self.performance.now();var Gi=this.transmuxer,Vi=mi?mi.start:ti.start,zi=ti.decryptdata,Ki=this.frag,ji=!(Ki&&ti.cc===Ki.cc),Yi=!(Ki&&Mi.level===Ki.level),qi=Ki?Mi.sn-Ki.sn:-1,Xi=this.part?Mi.part-this.part.index:-1,lr=0===qi&&Mi.id>1&&Mi.id===(null==Ki?void 0:Ki.stats.chunkCount),hr=!Yi&&(1===qi||0===qi&&(1===Xi||lr&&Xi<=0)),dr=self.performance.now();(Yi||qi||0===ti.stats.parsing.start)&&(ti.stats.parsing.start=dr),!mi||!Xi&&hr||(mi.stats.parsing.start=dr);var ur=!(Ki&&(null==(Oi=ti.initSegment)?void 0:Oi.url)===(null==(Ni=Ki.initSegment)?void 0:Ni.url)),vr=new $r(ji,hr,Pi,Yi,Vi,ur);if(!hr||ji||ur){Hi.log("[transmuxer-interface, "+ti.type+"]: Starting new transmux session for sn: "+Mi.sn+" p: "+Mi.part+" level: "+Mi.level+" id: "+Mi.id+"\n        discontinuity: "+ji+"\n        trackSwitch: "+Yi+"\n        contiguous: "+hr+"\n        accurateTimeOffset: "+Pi+"\n        timeOffset: "+Vi+"\n        initSegmentChange: "+ur);var yr=new Xr(je,Ye,$e,_i,Fi);this.configureTransmuxer(yr)}if(this.frag=ti,this.part=mi,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:He,decryptdata:zi,chunkMeta:Mi,state:vr},He instanceof ArrayBuffer?[He]:[]);else if(Gi){var xr=Gi.push(He,zi,Mi,vr);Zr(xr)?(Gi.async=!0,xr.then((function(He){Ui.handleTransmuxComplete(He)})).catch((function(He){Ui.transmuxerError(He,Mi,"transmuxer-interface push error")}))):(Gi.async=!1,this.handleTransmuxComplete(xr))}},He.flush=function(He){var $e=this;He.transmuxing.start=self.performance.now();var je=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:He});else if(je){var Ye=je.flush(He);Zr(Ye)||je.async?(Zr(Ye)||(Ye=Promise.resolve(Ye)),Ye.then((function(je){$e.handleFlushResult(je,He)})).catch((function(je){$e.transmuxerError(je,He,"transmuxer-interface flush error")}))):this.handleFlushResult(Ye,He)}},He.transmuxerError=function(He,$e,je){this.hls&&(this.error=He,this.hls.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.FRAG_PARSING_ERROR,chunkMeta:$e,fatal:!1,error:He,err:He,reason:je}))},He.handleFlushResult=function(He,$e){var je=this;He.forEach((function(He){je.handleTransmuxComplete(He)})),this.onFlush($e)},He.onWorkerMessage=function(He){var $e=He.data,je=this.hls;switch($e.event){case"init":var Ye,ti=null==(Ye=this.workerContext)?void 0:Ye.objectURL;ti&&self.URL.revokeObjectURL(ti);break;case"transmuxComplete":this.handleTransmuxComplete($e.data);break;case"flush":this.onFlush($e.data);break;case"workerLog":Hi[$e.data.logType]&&Hi[$e.data.logType]($e.data.message);break;default:$e.data=$e.data||{},$e.data.frag=this.frag,$e.data.id=this.id,je.trigger($e.event,$e.data)}},He.configureTransmuxer=function(He){var $e=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:He}):$e&&$e.configure(He)},He.handleTransmuxComplete=function(He){He.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(He)},e}(),Bs=function(){function t(He,$e,je,Ye){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=He,this.media=$e,this.fragmentTracker=je,this.hls=Ye}var He=t.prototype;return He.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},He.poll=function(He,$e){var je=this.config,Ye=this.media,ti=this.stalled;if(null!==Ye){var mi=Ye.currentTime,_i=Ye.seeking,Pi=this.seeking&&!_i,Mi=!this.seeking&&_i;if(this.seeking=_i,mi===He)if(Mi||Pi)this.stalled=null;else if(Ye.paused&&!_i||Ye.ended||0===Ye.playbackRate||!ka.getBuffered(Ye).length)this.nudgeRetry=0;else{var Fi=ka.bufferInfo(Ye,mi,0),Oi=Fi.nextStart||0;if(_i){var Ni=Fi.len>2,Ui=!Oi||$e&&$e.start<=mi||Oi-mi>2&&!this.fragmentTracker.getPartialFragment(mi);if(Ni||Ui)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var Gi;if(!(Fi.len>0||Oi))return;var Vi=Math.max(Oi,Fi.start||0)-mi,zi=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,Ki=(null==zi||null==(Gi=zi.details)?void 0:Gi.live)?2*zi.details.targetduration:2,ji=this.fragmentTracker.getPartialFragment(mi);if(Vi>0&&(Vi<=Ki||ji))return void(Ye.paused||this._trySkipBufferHole(ji))}var Yi=self.performance.now();if(null!==ti){var qi=Yi-ti;if(_i||!(qi>=250)||(this._reportStall(Fi),this.media)){var Xi=ka.bufferInfo(Ye,mi,je.maxBufferHole);this._tryFixBufferStall(Xi,qi)}}else this.stalled=Yi}else if(this.moved=!0,_i||(this.nudgeRetry=0),null!==ti){if(this.stallReported){var lr=self.performance.now()-ti;Hi.warn("playback not stuck anymore @"+mi+", after "+Math.round(lr)+"ms"),this.stallReported=!1}this.stalled=null}}},He._tryFixBufferStall=function(He,$e){var je=this.config,Ye=this.fragmentTracker,ti=this.media;if(null!==ti){var mi=ti.currentTime,_i=Ye.getPartialFragment(mi);if(_i&&(this._trySkipBufferHole(_i)||!this.media))return;(He.len>je.maxBufferHole||He.nextStart&&He.nextStart-mi<je.maxBufferHole)&&$e>1e3*je.highBufferWatchdogPeriod&&(Hi.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},He._reportStall=function(He){var $e=this.hls,je=this.media;if(!this.stallReported&&je){this.stallReported=!0;var Ye=new Error("Playback stalling at @"+je.currentTime+" due to low buffer ("+JSON.stringify(He)+")");Hi.warn(Ye.message),$e.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.BUFFER_STALLED_ERROR,fatal:!1,error:Ye,buffer:He.len})}},He._trySkipBufferHole=function(He){var $e=this.config,je=this.hls,Ye=this.media;if(null===Ye)return 0;var ti=Ye.currentTime,mi=ka.bufferInfo(Ye,ti,0),_i=ti<mi.start?mi.start:mi.nextStart;if(_i){var Pi=mi.len<=$e.maxBufferHole,Mi=mi.len>0&&mi.len<1&&Ye.readyState<3,Fi=_i-ti;if(Fi>0&&(Pi||Mi)){if(Fi>$e.maxBufferHole){var Gi=this.fragmentTracker,Vi=!1;if(0===ti){var zi=Gi.getAppendedFrag(0,Kr);zi&&_i<zi.end&&(Vi=!0)}if(!Vi){var Ki=He||Gi.getAppendedFrag(ti,Kr);if(Ki){for(var ji=!1,Yi=Ki.end;Yi<_i;){var qi=Gi.getPartialFragment(Yi);if(!qi){ji=!0;break}Yi+=qi.duration}if(ji)return 0}}}var Xi=Math.max(_i+.05,ti+.1);if(Hi.warn("skipping hole, adjusting currentTime from "+ti+" to "+Xi),this.moved=!0,this.stalled=null,Ye.currentTime=Xi,He&&!He.gap){var lr=new Error("fragment loaded with buffer holes, seeking from "+ti+" to "+Xi);je.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:lr,reason:lr.message,frag:He})}return Xi}}return 0},He._tryNudgeBuffer=function(){var He=this.config,$e=this.hls,je=this.media,Ye=this.nudgeRetry;if(null!==je){var ti=je.currentTime;if(this.nudgeRetry++,Ye<He.nudgeMaxRetry){var mi=ti+(Ye+1)*He.nudgeOffset,_i=new Error("Nudging 'currentTime' from "+ti+" to "+mi);Hi.warn(_i.message),je.currentTime=mi,$e.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.BUFFER_NUDGE_ON_STALL,error:_i,fatal:!1})}else{var Pi=new Error("Playhead still not moving while enough data buffered @"+ti+" after "+He.nudgeMaxRetry+" nudges");Hi.error(Pi.message),$e.trigger(Oi.ERROR,{type:Ni.MEDIA_ERROR,details:Ui.BUFFER_STALLED_ERROR,error:Pi,fatal:!0})}}},t}(),Ns=function(He){function e($e,je,Ye){var ti;return(ti=He.call(this,$e,je,Ye,"[stream-controller]",Kr)||this).audioCodecSwap=!1,ti.gapController=null,ti.level=-1,ti._forceStartLoad=!1,ti.altAudio=!1,ti.audioOnly=!1,ti.fragPlaying=null,ti.onvplaying=null,ti.onvseeked=null,ti.fragLastKbps=0,ti.couldBacktrack=!1,ti.backtrackFragment=null,ti.audioCodecSwitch=!1,ti.videoBuffer=null,ti._registerListeners(),ti}h(e,He);var $e=e.prototype;return $e._registerListeners=function(){var He=this.hls;He.on(Oi.MEDIA_ATTACHED,this.onMediaAttached,this),He.on(Oi.MEDIA_DETACHING,this.onMediaDetaching,this),He.on(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.on(Oi.MANIFEST_PARSED,this.onManifestParsed,this),He.on(Oi.LEVEL_LOADING,this.onLevelLoading,this),He.on(Oi.LEVEL_LOADED,this.onLevelLoaded,this),He.on(Oi.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),He.on(Oi.ERROR,this.onError,this),He.on(Oi.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),He.on(Oi.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),He.on(Oi.BUFFER_CREATED,this.onBufferCreated,this),He.on(Oi.BUFFER_FLUSHED,this.onBufferFlushed,this),He.on(Oi.LEVELS_UPDATED,this.onLevelsUpdated,this),He.on(Oi.FRAG_BUFFERED,this.onFragBuffered,this)},$e._unregisterListeners=function(){var He=this.hls;He.off(Oi.MEDIA_ATTACHED,this.onMediaAttached,this),He.off(Oi.MEDIA_DETACHING,this.onMediaDetaching,this),He.off(Oi.MANIFEST_LOADING,this.onManifestLoading,this),He.off(Oi.MANIFEST_PARSED,this.onManifestParsed,this),He.off(Oi.LEVEL_LOADED,this.onLevelLoaded,this),He.off(Oi.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),He.off(Oi.ERROR,this.onError,this),He.off(Oi.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),He.off(Oi.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),He.off(Oi.BUFFER_CREATED,this.onBufferCreated,this),He.off(Oi.BUFFER_FLUSHED,this.onBufferFlushed,this),He.off(Oi.LEVELS_UPDATED,this.onLevelsUpdated,this),He.off(Oi.FRAG_BUFFERED,this.onFragBuffered,this)},$e.onHandlerDestroying=function(){this._unregisterListeners(),He.prototype.onHandlerDestroying.call(this)},$e.startLoad=function(He){if(this.levels){var $e=this.lastCurrentTime,je=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var Ye=je.startLevel;-1===Ye&&(je.config.testBandwidth&&this.levels.length>1?(Ye=0,this.bitrateTest=!0):Ye=je.firstAutoLevel),this.level=je.nextLoadLevel=Ye,this.loadedmetadata=!1}$e>0&&-1===He&&(this.log("Override startPosition with lastCurrentTime @"+$e.toFixed(3)),He=$e),this.state=Za,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=He,this.tick()}else this._forceStartLoad=!0,this.state=Xa},$e.stopLoad=function(){this._forceStartLoad=!1,He.prototype.stopLoad.call(this)},$e.doTick=function(){switch(this.state){case ss:var He=this.levels,$e=this.level,je=null==He?void 0:He[$e],Ye=null==je?void 0:je.details;if(Ye&&(!Ye.live||this.levelLastLoaded===je)){if(this.waitForCdnTuneIn(Ye))break;this.state=Za;break}if(this.hls.nextLoadLevel!==this.level){this.state=Za;break}break;case ts:var ti,mi=self.performance.now(),_i=this.retryDate;if(!_i||mi>=_i||null!=(ti=this.media)&&ti.seeking){var Pi=this.levels,Mi=this.level,Fi=null==Pi?void 0:Pi[Mi];this.resetStartWhenNotLoaded(Fi||null),this.state=Za}}this.state===Za&&this.doTickIdle(),this.onTickEnd()},$e.onTickEnd=function(){He.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},$e.doTickIdle=function(){var He=this.hls,$e=this.levelLastLoaded,je=this.levels,Ye=this.media,ti=He.config,mi=He.nextLoadLevel;if(null!==$e&&(Ye||!this.startFragRequested&&ti.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=je&&je[mi]){var _i=je[mi],Pi=this.getMainFwdBufferInfo();if(null!==Pi){var Mi=this.getLevelDetails();if(Mi&&this._streamEnded(Pi,Mi)){var Fi={};return this.altAudio&&(Fi.type="video"),this.hls.trigger(Oi.BUFFER_EOS,Fi),void(this.state=rs)}He.loadLevel!==mi&&-1===He.manualLevel&&this.log("Adapting to level "+mi+" from level "+this.level),this.level=He.nextLoadLevel=mi;var Ni=_i.details;if(!Ni||this.state===ss||Ni.live&&this.levelLastLoaded!==_i)return this.level=mi,void(this.state=ss);var Ui=Pi.len,Gi=this.getMaxBufferLength(_i.maxBitrate);if(!(Ui>=Gi)){this.backtrackFragment&&this.backtrackFragment.start>Pi.end&&(this.backtrackFragment=null);var Vi=this.backtrackFragment?this.backtrackFragment.start:Pi.end,Hi=this.getNextFragment(Vi,Ni);if(this.couldBacktrack&&!this.fragPrevious&&Hi&&"initSegment"!==Hi.sn&&this.fragmentTracker.getState(Hi)!==Ua){var zi,Ki=(null!=(zi=this.backtrackFragment)?zi:Hi).sn-Ni.startSN,ji=Ni.fragments[Ki-1];ji&&Hi.cc===ji.cc&&(Hi=ji,this.fragmentTracker.removeFragment(ji))}else this.backtrackFragment&&Pi.len&&(this.backtrackFragment=null);if(Hi&&this.isLoopLoading(Hi,Vi)){if(!Hi.gap){var Yi=this.audioOnly&&!this.altAudio?qi:Xi,lr=(Yi===Xi?this.videoBuffer:this.mediaBuffer)||this.media;lr&&this.afterBufferFlushed(lr,Yi,Kr)}Hi=this.getNextFragmentLoopLoading(Hi,Ni,Pi,Kr,Gi)}Hi&&(!Hi.initSegment||Hi.initSegment.data||this.bitrateTest||(Hi=Hi.initSegment),this.loadFragment(Hi,_i,Vi))}}}},$e.loadFragment=function($e,je,Ye){var ti=this.fragmentTracker.getState($e);this.fragCurrent=$e,ti===Oa||ti===Na?"initSegment"===$e.sn?this._loadInitSegment($e,je):this.bitrateTest?(this.log("Fragment "+$e.sn+" of level "+$e.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag($e,je)):(this.startFragRequested=!0,He.prototype.loadFragment.call(this,$e,je,Ye)):this.clearTrackerIfNeeded($e)},$e.getBufferedFrag=function(He){return this.fragmentTracker.getBufferedFrag(He,Kr)},$e.followingBufferedFrag=function(He){return He?this.getBufferedFrag(He.end+.5):null},$e.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},$e.nextLevelSwitch=function(){var He=this.levels,$e=this.media;if(null!=$e&&$e.readyState){var je,Ye=this.getAppendedFrag($e.currentTime);Ye&&Ye.start>1&&this.flushMainBuffer(0,Ye.start-1);var ti=this.getLevelDetails();if(null!=ti&&ti.live){var mi=this.getMainFwdBufferInfo();if(!mi||mi.len<2*ti.targetduration)return}if(!$e.paused&&He){var _i=He[this.hls.nextLoadLevel],Pi=this.fragLastKbps;je=Pi&&this.fragCurrent?this.fragCurrent.duration*_i.maxBitrate/(1e3*Pi)+1:0}else je=0;var Mi=this.getBufferedFrag($e.currentTime+je);if(Mi){var Fi=this.followingBufferedFrag(Mi);if(Fi){this.abortCurrentFrag();var Oi=Fi.maxStartPTS?Fi.maxStartPTS:Fi.start,Ni=Fi.duration,Ui=Math.max(Mi.end,Oi+Math.min(Math.max(Ni-this.config.maxFragLookUpTolerance,Ni*(this.couldBacktrack?.5:.125)),Ni*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(Ui,Number.POSITIVE_INFINITY)}}}},$e.abortCurrentFrag=function(){var He=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,He&&(He.abortRequests(),this.fragmentTracker.removeFragment(He)),this.state){case Ja:case Qa:case ts:case es:case is:this.state=Za}this.nextLoadPosition=this.getLoadPosition()},$e.flushMainBuffer=function($e,je){He.prototype.flushMainBuffer.call(this,$e,je,this.altAudio?"video":null)},$e.onMediaAttached=function($e,je){He.prototype.onMediaAttached.call(this,$e,je);var Ye=je.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),Ye.addEventListener("playing",this.onvplaying),Ye.addEventListener("seeked",this.onvseeked),this.gapController=new Bs(this.config,Ye,this.fragmentTracker,this.hls)},$e.onMediaDetaching=function(){var $e=this.media;$e&&this.onvplaying&&this.onvseeked&&($e.removeEventListener("playing",this.onvplaying),$e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),He.prototype.onMediaDetaching.call(this)},$e.onMediaPlaying=function(){this.tick()},$e.onMediaSeeked=function(){var He=this.media,$e=He?He.currentTime:null;Pi($e)&&this.log("Media seeked to "+$e.toFixed(3));var je=this.getMainFwdBufferInfo();null!==je&&0!==je.len?this.tick():this.warn('Main forward buffer length on "seeked" event '+(je?je.len:"empty")+")")},$e.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Oi.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1},$e.onManifestParsed=function(He,$e){var je,Ye,ti=!1,mi=!1;$e.levels.forEach((function(He){var $e=He.audioCodec;$e&&(ti=ti||-1!==$e.indexOf("mp4a.40.2"),mi=mi||-1!==$e.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=ti&&mi&&!("function"==typeof(null==(Ye=Wi())||null==(je=Ye.prototype)?void 0:je.changeType)),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=$e.levels,this.startFragRequested=!1},$e.onLevelLoading=function(He,$e){var je=this.levels;if(je&&this.state===Za){var Ye=je[$e.level];(!Ye.details||Ye.details.live&&this.levelLastLoaded!==Ye||this.waitForCdnTuneIn(Ye.details))&&(this.state=ss)}},$e.onLevelLoaded=function(He,$e){var je,Ye=this.levels,ti=$e.level,mi=$e.details,_i=mi.totalduration;if(Ye){this.log("Level "+ti+" loaded ["+mi.startSN+","+mi.endSN+"]"+(mi.lastPartSn?"[part-"+mi.lastPartSn+"-"+mi.lastPartIndex+"]":"")+", cc ["+mi.startCC+", "+mi.endCC+"] duration:"+_i);var Pi=Ye[ti],Mi=this.fragCurrent;!Mi||this.state!==Qa&&this.state!==ts||Mi.level!==$e.level&&Mi.loader&&this.abortCurrentFrag();var Fi=0;if(mi.live||null!=(je=Pi.details)&&je.live){var Ni;if(this.checkLiveUpdate(mi),mi.deltaUpdateFailed)return;Fi=this.alignPlaylists(mi,Pi.details,null==(Ni=this.levelLastLoaded)?void 0:Ni.details)}if(Pi.details=mi,this.levelLastLoaded=Pi,this.hls.trigger(Oi.LEVEL_UPDATED,{details:mi,level:ti}),this.state===ss){if(this.waitForCdnTuneIn(mi))return;this.state=Za}this.startFragRequested?mi.live&&this.synchronizeToLiveEdge(mi):this.setStartPosition(mi,Fi),this.tick()}else this.warn("Levels were reset while loading level "+ti)},$e._handleFragmentLoadProgress=function(He){var $e,je=He.frag,Ye=He.part,ti=He.payload,mi=this.levels;if(mi){var _i=mi[je.level],Pi=_i.details;if(!Pi)return this.warn("Dropping fragment "+je.sn+" of level "+je.level+" after level details were reset"),void this.fragmentTracker.removeFragment(je);var Mi=_i.videoCodec,Fi=Pi.PTSKnown||!Pi.live,Oi=null==($e=je.initSegment)?void 0:$e.data,Ni=this._getAudioCodec(_i),Ui=this.transmuxer=this.transmuxer||new Os(this.hls,Kr,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Gi=Ye?Ye.index:-1,Vi=-1!==Gi,Hi=new Di(je.level,je.sn,je.stats.chunkCount,ti.byteLength,Gi,Vi),zi=this.initPTS[je.cc];Ui.push(ti,Oi,Ni,Mi,je,Ye,Pi.totalduration,Fi,Hi,zi)}else this.warn("Levels were reset while fragment load was in progress. Fragment "+je.sn+" of level "+je.level+" will not be buffered")},$e.onAudioTrackSwitching=function(He,$e){var je=this.altAudio;if(!$e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var Ye=this.fragCurrent;Ye&&(this.log("Switching to main audio track, cancel main fragment load"),Ye.abortRequests(),this.fragmentTracker.removeFragment(Ye)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var ti=this.hls;je&&(ti.trigger(Oi.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),ti.trigger(Oi.AUDIO_TRACK_SWITCHED,$e)}},$e.onAudioTrackSwitched=function(He,$e){var je=$e.id,Ye=!!this.hls.audioTracks[je].url;if(Ye){var ti=this.videoBuffer;ti&&this.mediaBuffer!==ti&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=ti)}this.altAudio=Ye,this.tick()},$e.onBufferCreated=function(He,$e){var je,Ye,ti=$e.tracks,mi=!1;for(var _i in ti){var Pi=ti[_i];if("main"===Pi.id){if(Ye=_i,je=Pi,"video"===_i){var Mi=ti[_i];Mi&&(this.videoBuffer=Mi.buffer)}}else mi=!0}mi&&je?(this.log("Alternate track found, use "+Ye+".buffered to schedule main fragment loading"),this.mediaBuffer=je.buffer):this.mediaBuffer=this.media},$e.onFragBuffered=function(He,$e){var je=$e.frag,Ye=$e.part;if(!je||je.type===Kr){if(this.fragContextChanged(je))return this.warn("Fragment "+je.sn+(Ye?" p: "+Ye.index:"")+" of level "+je.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===is&&(this.state=Za));var ti=Ye?Ye.stats:je.stats;this.fragLastKbps=Math.round(8*ti.total/(ti.buffering.end-ti.loading.first)),"initSegment"!==je.sn&&(this.fragPrevious=je),this.fragBufferedComplete(je,Ye)}},$e.onError=function(He,$e){var je;if($e.fatal)this.state=as;else switch($e.details){case Ui.FRAG_GAP:case Ui.FRAG_PARSING_ERROR:case Ui.FRAG_DECRYPT_ERROR:case Ui.FRAG_LOAD_ERROR:case Ui.FRAG_LOAD_TIMEOUT:case Ui.KEY_LOAD_ERROR:case Ui.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Kr,$e);break;case Ui.LEVEL_LOAD_ERROR:case Ui.LEVEL_LOAD_TIMEOUT:case Ui.LEVEL_PARSING_ERROR:$e.levelRetry||this.state!==ss||(null==(je=$e.context)?void 0:je.type)!==Hr||(this.state=Za);break;case Ui.BUFFER_APPEND_ERROR:case Ui.BUFFER_FULL_ERROR:if(!$e.parent||"main"!==$e.parent)return;if($e.details===Ui.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer($e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Ui.INTERNAL_EXCEPTION:this.recoverWorkerError($e)}},$e.checkBuffer=function(){var He=this.media,$e=this.gapController;if(He&&$e&&He.readyState){if(this.loadedmetadata||!ka.getBuffered(He).length){var je=this.state!==Za?this.fragCurrent:null;$e.poll(this.lastCurrentTime,je)}this.lastCurrentTime=He.currentTime}},$e.onFragLoadEmergencyAborted=function(){this.state=Za,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},$e.onBufferFlushed=function(He,$e){var je=$e.type;if(je!==qi||this.audioOnly&&!this.altAudio){var Ye=(je===Xi?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(Ye,je,Kr),this.tick()}},$e.onLevelsUpdated=function(He,$e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=$e.levels},$e.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},$e.seekToStartPos=function(){var He=this.media;if(He){var $e=He.currentTime,je=this.startPosition;if(je>=0&&$e<je){if(He.seeking)return void this.log("could not seek to "+je+", already seeking at "+$e);var Ye=ka.getBuffered(He),ti=(Ye.length?Ye.start(0):0)-je;ti>0&&(ti<this.config.maxBufferHole||ti<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+ti+" to match buffer start"),je+=ti,this.startPosition=je),this.log("seek to target start position "+je+" from current time "+$e),He.currentTime=je}}},$e._getAudioCodec=function(He){var $e=this.config.defaultAudioCodec||He.audioCodec;return this.audioCodecSwap&&$e&&(this.log("Swapping audio codec"),$e=-1!==$e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),$e},$e._loadBitrateTestFrag=function(He,$e){var je=this;He.bitrateTest=!0,this._doFragLoad(He,$e).then((function(Ye){var ti=je.hls;if(Ye&&!je.fragContextChanged(He)){$e.fragmentError=0,je.state=Za,je.startFragRequested=!1,je.bitrateTest=!1;var mi=He.stats;mi.parsing.start=mi.parsing.end=mi.buffering.start=mi.buffering.end=self.performance.now(),ti.trigger(Oi.FRAG_LOADED,Ye),He.bitrateTest=!1}}))},$e._handleTransmuxComplete=function(He){var $e,je="main",Ye=this.hls,ti=He.remuxResult,mi=He.chunkMeta,_i=this.getCurrentContext(mi);if(_i){var Mi=_i.frag,Fi=_i.part,Ni=_i.level,Ui=ti.video,Gi=ti.text,Vi=ti.id3,Hi=ti.initSegment,zi=Ni.details,Ki=this.altAudio?void 0:ti.audio;if(this.fragContextChanged(Mi))this.fragmentTracker.removeFragment(Mi);else{if(this.state=es,Hi){if(null!=Hi&&Hi.tracks){var ji=Mi.initSegment||Mi;this._bufferInitSegment(Ni,Hi.tracks,ji,mi),Ye.trigger(Oi.FRAG_PARSING_INIT_SEGMENT,{frag:ji,id:je,tracks:Hi.tracks})}var Yi=Hi.initPTS,Xi=Hi.timescale;Pi(Yi)&&(this.initPTS[Mi.cc]={baseTime:Yi,timescale:Xi},Ye.trigger(Oi.INIT_PTS_FOUND,{frag:Mi,id:je,initPTS:Yi,timescale:Xi}))}if(Ui&&zi&&"initSegment"!==Mi.sn){var lr=zi.fragments[Mi.sn-1-zi.startSN],hr=Mi.sn===zi.startSN,dr=!lr||Mi.cc>lr.cc;if(!1!==ti.independent){var ur=Ui.startPTS,vr=Ui.endPTS,yr=Ui.startDTS,xr=Ui.endDTS;if(Fi)Fi.elementaryStreams[Ui.type]={startPTS:ur,endPTS:vr,startDTS:yr,endDTS:xr};else if(Ui.firstKeyFrame&&Ui.independent&&1===mi.id&&!dr&&(this.couldBacktrack=!0),Ui.dropped&&Ui.independent){var kr=this.getMainFwdBufferInfo(),Er=(kr?kr.end:this.getLoadPosition())+this.config.maxBufferHole,Tr=Ui.firstKeyFramePTS?Ui.firstKeyFramePTS:ur;if(!hr&&Er<Tr-this.config.maxBufferHole&&!dr)return void this.backtrack(Mi);dr&&(Mi.gap=!0),Mi.setElementaryStreamInfo(Ui.type,Mi.start,vr,Mi.start,xr,!0)}else hr&&ur>2&&(Mi.gap=!0);Mi.setElementaryStreamInfo(Ui.type,ur,vr,yr,xr),this.backtrackFragment&&(this.backtrackFragment=Mi),this.bufferFragmentData(Ui,Mi,Fi,mi,hr||dr)}else{if(!hr&&!dr)return void this.backtrack(Mi);Mi.gap=!0}}if(Ki){var Ar=Ki.startPTS,wr=Ki.endPTS,Lr=Ki.startDTS,_r=Ki.endDTS;Fi&&(Fi.elementaryStreams[qi]={startPTS:Ar,endPTS:wr,startDTS:Lr,endDTS:_r}),Mi.setElementaryStreamInfo(qi,Ar,wr,Lr,_r),this.bufferFragmentData(Ki,Mi,Fi,mi)}if(zi&&null!=Vi&&null!=($e=Vi.samples)&&$e.length){var Cr={id:je,frag:Mi,details:zi,samples:Vi.samples};Ye.trigger(Oi.FRAG_PARSING_METADATA,Cr)}if(zi&&Gi){var Ir={id:je,frag:Mi,details:zi,samples:Gi.samples};Ye.trigger(Oi.FRAG_PARSING_USERDATA,Ir)}}}else this.resetWhenMissingContext(mi)},$e._bufferInitSegment=function(He,$e,je,Ye){var ti=this;if(this.state===es){this.audioOnly=!!$e.audio&&!$e.video,this.altAudio&&!this.audioOnly&&delete $e.audio;var mi=$e.audio,_i=$e.video,Pi=$e.audiovideo;if(mi){var Mi=He.audioCodec,Fi=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(Mi&&(Mi=-1!==Mi.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==mi.metadata.channelCount&&-1===Fi.indexOf("firefox")&&(Mi="mp4a.40.5")),Mi&&-1!==Mi.indexOf("mp4a.40.5")&&-1!==Fi.indexOf("android")&&"audio/mpeg"!==mi.container&&(Mi="mp4a.40.2",this.log("Android: force audio codec to "+Mi)),He.audioCodec&&He.audioCodec!==Mi&&this.log('Swapping manifest audio codec "'+He.audioCodec+'" for "'+Mi+'"'),mi.levelCodec=Mi,mi.id="main",this.log("Init audio buffer, container:"+mi.container+", codecs[selected/level/parsed]=["+(Mi||"")+"/"+(He.audioCodec||"")+"/"+mi.codec+"]")}_i&&(_i.levelCodec=He.videoCodec,_i.id="main",this.log("Init video buffer, container:"+_i.container+", codecs[level/parsed]=["+(He.videoCodec||"")+"/"+_i.codec+"]")),Pi&&this.log("Init audiovideo buffer, container:"+Pi.container+", codecs[level/parsed]=["+He.codecs+"/"+Pi.codec+"]"),this.hls.trigger(Oi.BUFFER_CODECS,$e),Object.keys($e).forEach((function(He){var mi=$e[He].initSegment;null!=mi&&mi.byteLength&&ti.hls.trigger(Oi.BUFFER_APPENDING,{type:He,data:mi,frag:je,part:null,chunkMeta:Ye,parent:je.type})})),this.tickImmediate()}},$e.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Kr)},$e.backtrack=function(He){this.couldBacktrack=!0,this.backtrackFragment=He,this.resetTransmuxer(),this.flushBufferGap(He),this.fragmentTracker.removeFragment(He),this.fragPrevious=null,this.nextLoadPosition=He.start,this.state=Za},$e.checkFragmentChanged=function(){var He=this.media,$e=null;if(He&&He.readyState>1&&!1===He.seeking){var je=He.currentTime;if(ka.isBuffered(He,je)?$e=this.getAppendedFrag(je):ka.isBuffered(He,je+.1)&&($e=this.getAppendedFrag(je+.1)),$e){this.backtrackFragment=null;var Ye=this.fragPlaying,ti=$e.level;Ye&&$e.sn===Ye.sn&&Ye.level===ti||(this.fragPlaying=$e,this.hls.trigger(Oi.FRAG_CHANGED,{frag:$e}),Ye&&Ye.level===ti||this.hls.trigger(Oi.LEVEL_SWITCHED,{level:ti}))}}},n(e,[{key:"nextLevel",get:function(){var He=this.nextBufferedFrag;return He?He.level:-1}},{key:"currentFrag",get:function(){var He=this.media;return He?this.fragPlaying||this.getAppendedFrag(He.currentTime):null}},{key:"currentProgramDateTime",get:function(){var He=this.media;if(He){var $e=He.currentTime,je=this.currentFrag;if(je&&Pi($e)&&Pi(je.programDateTime)){var Ye=je.programDateTime+1e3*($e-je.start);return new Date(Ye)}}return null}},{key:"currentLevel",get:function(){var He=this.currentFrag;return He?He.level:-1}},{key:"nextBufferedFrag",get:function(){var He=this.currentFrag;return He?this.followingBufferedFrag(He):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),e}(ns),Us=function(){function t(He){void 0===He&&(He={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Fs,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,D(He.debug||!1,"Hls instance");var $e=this.config=function(He,$e){if(($e.liveSyncDurationCount||$e.liveMaxLatencyDurationCount)&&($e.liveSyncDuration||$e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==$e.liveMaxLatencyDurationCount&&(void 0===$e.liveSyncDurationCount||$e.liveMaxLatencyDurationCount<=$e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==$e.liveMaxLatencyDuration&&(void 0===$e.liveSyncDuration||$e.liveMaxLatencyDuration<=$e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var je=ci(He),Ye=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(He){var ti=("level"===He?"playlist":He)+"LoadPolicy",mi=void 0===$e[ti],_i=[];Ye.forEach((function(Ye){var Pi=He+"Loading"+Ye,Mi=$e[Pi];if(void 0!==Mi&&mi){_i.push(Pi);var Fi=je[ti].default;switch($e[ti]={default:Fi},Ye){case"TimeOut":Fi.maxLoadTimeMs=Mi,Fi.maxTimeToFirstByteMs=Mi;break;case"MaxRetry":Fi.errorRetry.maxNumRetry=Mi,Fi.timeoutRetry.maxNumRetry=Mi;break;case"RetryDelay":Fi.errorRetry.retryDelayMs=Mi,Fi.timeoutRetry.retryDelayMs=Mi;break;case"MaxRetryTimeout":Fi.errorRetry.maxRetryDelayMs=Mi,Fi.timeoutRetry.maxRetryDelayMs=Mi}}})),_i.length&&Hi.warn('hls.js config: "'+_i.join('", "')+'" setting(s) are deprecated, use "'+ti+'": '+JSON.stringify($e[ti]))})),r(r({},je),$e)}(t.DefaultConfig,He);this.userConfig=He,$e.progressive&&function(He){var $e=He.loader;$e!==Pa&&$e!==Da?(Hi.log("[config]: Custom loader detected, cannot enable progressive streaming"),He.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(He){}return!1}()&&(He.loader=Pa,He.progressive=!0,He.enableSoftwareAES=!0,Hi.log("[config]: Progressive streaming enabled, using FetchLoader"))}($e);var je=$e.abrController,Ye=$e.bufferController,ti=$e.capLevelController,mi=$e.errorController,_i=$e.fpsController,Pi=new mi(this),Mi=this.abrController=new je(this),Fi=this.bufferController=new Ye(this),Ni=this.capLevelController=new ti(this),Ui=new _i(this),Gi=new ea(this),Vi=new la(this),zi=$e.contentSteeringController,Ki=zi?new zi(this):null,ji=this.levelController=new Fa(this,Ki),Yi=new Ga(this),qi=new Wa(this.config),Xi=this.streamController=new Ns(this,Yi,qi);Ni.setStreamController(Xi),Ui.setStreamController(Xi);var lr=[Gi,ji,Xi];Ki&&lr.splice(1,0,Ki),this.networkControllers=lr;var hr=[Mi,Fi,Ni,Ui,Vi,Yi];this.audioTrackController=this.createController($e.audioTrackController,lr);var dr=$e.audioStreamController;dr&&lr.push(new dr(this,Yi,qi)),this.subtitleTrackController=this.createController($e.subtitleTrackController,lr);var ur=$e.subtitleStreamController;ur&&lr.push(new ur(this,Yi,qi)),this.createController($e.timelineController,hr),qi.emeController=this.emeController=this.createController($e.emeController,hr),this.cmcdController=this.createController($e.cmcdController,hr),this.latencyController=this.createController(ha,hr),this.coreComponents=hr,lr.push(Pi);var vr=Pi.onErrorOut;"function"==typeof vr&&this.on(Oi.ERROR,vr,Pi)}t.isMSESupported=function(){return Ji()},t.isSupported=function(){return function(){if(!Ji())return!1;var He=Lt();return"function"==typeof(null==He?void 0:He.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((function($e){return He.isTypeSupported(Pt($e,"video"))}))||["mp4a.40.2","fLaC"].some((function($e){return He.isTypeSupported(Pt($e,"audio"))})))}()},t.getMediaSource=function(){return Lt()};var He=t.prototype;return He.createController=function(He,$e){if(He){var je=new He(this);return $e&&$e.push(je),je}return null},He.on=function(He,$e,je){void 0===je&&(je=this),this._emitter.on(He,$e,je)},He.once=function(He,$e,je){void 0===je&&(je=this),this._emitter.once(He,$e,je)},He.removeAllListeners=function(He){this._emitter.removeAllListeners(He)},He.off=function(He,$e,je,Ye){void 0===je&&(je=this),this._emitter.off(He,$e,je,Ye)},He.listeners=function(He){return this._emitter.listeners(He)},He.emit=function(He,$e,je){return this._emitter.emit(He,$e,je)},He.trigger=function(He,$e){if(this.config.debug)return this.emit(He,He,$e);try{return this.emit(He,He,$e)}catch($e){if(Hi.error("An internal error happened while handling event "+He+'. Error message: "'+$e.message+'". Here is a stacktrace:',$e),!this.triggeringException){this.triggeringException=!0;var je=He===Oi.ERROR;this.trigger(Oi.ERROR,{type:Ni.OTHER_ERROR,details:Ui.INTERNAL_EXCEPTION,fatal:je,event:He,error:$e}),this.triggeringException=!1}}return!1},He.listenerCount=function(He){return this._emitter.listenerCount(He)},He.destroy=function(){Hi.log("destroy"),this.trigger(Oi.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(He){return He.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(He){return He.destroy()})),this.coreComponents.length=0;var He=this.config;He.xhrSetup=He.fetchSetup=void 0,this.userConfig=null},He.attachMedia=function(He){Hi.log("attachMedia"),this._media=He,this.trigger(Oi.MEDIA_ATTACHING,{media:He})},He.detachMedia=function(){Hi.log("detachMedia"),this.trigger(Oi.MEDIA_DETACHING,void 0),this._media=null},He.loadSource=function(He){this.stopLoad();var $e=this.media,je=this.url,Ye=this.url=_i.buildAbsoluteURL(self.location.href,He,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,Hi.log("loadSource:"+Ye),$e&&je&&(je!==Ye||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia($e)),this.trigger(Oi.MANIFEST_LOADING,{url:He})},He.startLoad=function(He){void 0===He&&(He=-1),Hi.log("startLoad("+He+")"),this.started=!0,this.networkControllers.forEach((function($e){$e.startLoad(He)}))},He.stopLoad=function(){Hi.log("stopLoad"),this.started=!1,this.networkControllers.forEach((function(He){He.stopLoad()}))},He.resumeBuffering=function(){this.started&&this.networkControllers.forEach((function(He){"fragmentLoader"in He&&He.startLoad(-1)}))},He.pauseBuffering=function(){this.networkControllers.forEach((function(He){"fragmentLoader"in He&&He.stopLoad()}))},He.swapAudioCodec=function(){Hi.log("swapAudioCodec"),this.streamController.swapAudioCodec()},He.recoverMediaError=function(){Hi.log("recoverMediaError");var He=this._media;this.detachMedia(),He&&this.attachMedia(He)},He.removeLevel=function(He){this.levelController.removeLevel(He)},He.setAudioOption=function(He){var $e;return null==($e=this.audioTrackController)?void 0:$e.setAudioOption(He)},He.setSubtitleOption=function(He){var $e;return null==($e=this.subtitleTrackController)||$e.setSubtitleOption(He),null},n(t,[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(He){Hi.log("set currentLevel:"+He),this.levelController.manualLevel=He,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(He){Hi.log("set nextLevel:"+He),this.levelController.manualLevel=He,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(He){Hi.log("set loadLevel:"+He),this.levelController.manualLevel=He}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(He){this.levelController.nextLoadLevel=He}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(He){Hi.log("set firstLevel:"+He),this.levelController.firstLevel=He}},{key:"startLevel",get:function(){var He=this.levelController.startLevel;return-1===He&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:He},set:function(He){Hi.log("set startLevel:"+He),-1!==He&&(He=Math.max(He,this.minAutoLevel)),this.levelController.startLevel=He}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(He){var $e=!!He;$e!==this.config.capLevelToPlayerSize&&($e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=$e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(He){this._autoLevelCapping!==He&&(Hi.log("set autoLevelCapping:"+He),this._autoLevelCapping=He,this.levelController.checkMaxAutoUpdated())}},{key:"bandwidthEstimate",get:function(){var He=this.abrController.bwEstimator;return He?He.getEstimate():NaN},set:function(He){this.abrController.resetEstimator(He)}},{key:"ttfbEstimate",get:function(){var He=this.abrController.bwEstimator;return He?He.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(He){var $e;$e=He,da.indexOf($e)>-1&&this._maxHdcpLevel!==He&&(this._maxHdcpLevel=He,this.levelController.checkMaxAutoUpdated())}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var He=this.levels,$e=this.config.minAutoBitrate;if(!He)return 0;for(var je=He.length,Ye=0;Ye<je;Ye++)if(He[Ye].maxBitrate>=$e)return Ye;return 0}},{key:"maxAutoLevel",get:function(){var He,$e=this.levels,je=this.autoLevelCapping,Ye=this.maxHdcpLevel;if(He=-1===je&&null!=$e&&$e.length?$e.length-1:je,Ye)for(var ti=He;ti--;){var mi=$e[ti].attrs["HDCP-LEVEL"];if(mi&&mi<=Ye)return ti}return He}},{key:"firstAutoLevel",get:function(){return this.abrController.firstAutoLevel}},{key:"nextAutoLevel",get:function(){return this.abrController.nextAutoLevel},set:function(He){this.abrController.nextAutoLevel=He}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"allAudioTracks",get:function(){var He=this.audioTrackController;return He?He.allAudioTracks:[]}},{key:"audioTracks",get:function(){var He=this.audioTrackController;return He?He.audioTracks:[]}},{key:"audioTrack",get:function(){var He=this.audioTrackController;return He?He.audioTrack:-1},set:function(He){var $e=this.audioTrackController;$e&&($e.audioTrack=He)}},{key:"allSubtitleTracks",get:function(){var He=this.subtitleTrackController;return He?He.allSubtitleTracks:[]}},{key:"subtitleTracks",get:function(){var He=this.subtitleTrackController;return He?He.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var He=this.subtitleTrackController;return He?He.subtitleTrack:-1},set:function(He){var $e=this.subtitleTrackController;$e&&($e.subtitleTrack=He)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var He=this.subtitleTrackController;return!!He&&He.subtitleDisplay},set:function(He){var $e=this.subtitleTrackController;$e&&($e.subtitleDisplay=He)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(He){this.config.lowLatencyMode=He}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.5.1"}},{key:"Events",get:function(){return Oi}},{key:"ErrorTypes",get:function(){return Ni}},{key:"ErrorDetails",get:function(){return Ui}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Ma},set:function(He){t.defaultConfig=He}}]),t}();return Us.defaultConfig=void 0,Us},se.exports=$e()}(!1);const oe=A(ne.exports),he="请切换播放源",le="https://jx.xdys.vip";var Ae,de=((Ae=de||{}).SOURCEERROR="资源出错，"+he,Ae.SKIPTS="检测到错误片段，已为你跳过",Ae.POSTTEXT="片段缺失，已上报，如不能播放，"+he,Ae.PAGEERR="请刷新页面，重新播放",Ae.JXERR="解析失败，"+he,Ae),ue=(He=>(He.NODM="还没有弹幕,赶紧来一发吧",He.DMTIP="请不要相信网站及视频中的任何广告，牢记发布页:xdys.vip！",He.DMURL="📱手机追剧下载兄弟影视app",He.DMDURL="兄弟影视",He))(ue||{});const ce=(He,$e)=>{He.video.pause(),He.video.src=$e},ge=(He,$e,je,Ye)=>{He.option.type=je,He.switchQuality($e),Ye&&He.storage.mediaSet("xl",Ye)},fe=(He,$e)=>{const je=He.indexOf($e);return je>-1?He.substring(0,je+$e.length):""},pe={"v.qq.com":He=>fe(He,".html")||(He=>{const $e=new URL(He).searchParams,je=$e.get("cid"),Ye=$e.get("vid");let ti="https://v.qq.com/x/cover/",mi=".html";return je&&Ye?ti+(je+"/")+Ye+mi:je?ti+(je+"/")+mi:""})(He),".iqiyi.com":He=>fe(He,".html").replace("m.","www."),".youku.com":He=>fe(He,".html").replace("m.","v.").replace(/alipay_video|video/,"v_show"),".mgtv.com":He=>fe(He,".html").replace("m.","www.").replace("//w.","//www."),".bilibili.com":He=>He.replace("m.","www."),".sohu.com":He=>fe(He,".html")||fe(He,".shtml"),".pptv.com":He=>fe(He,".html").replace("m.","v."),".ixigua.com":He=>He.replace("m.","www.").replace("/video/","/")},me=()=>{throw window.location.replace("https://xdys.vip"),new Error("链接无效")},ve=He=>{if(!He)throw new Error("链接不能为空");const $e=decodeURIComponent(He),je=Object.keys(pe).find((He=>$e.includes(He)));return je?pe[je]($e).replace("http:","https:"):$e},Ee=(He,$e)=>{},ye=(He,$e)=>He.notice.show=$e,Ie=(()=>{const He=window.location.search;let $e={url:ve(He.split("?url=")[1]),next:He.split("&next=")[1],from:"",mp4:"",surl:"",type:""};return{get:function(He){return $e[He]},set:function(He){$e={...$e,...He}},getAll:function(){return{...$e}},clear:function(){$e={...$e,from:"",mp4:"",surl:"",type:""}}}})(),Ce=(He,$e,je)=>{je.currentTime=He,$e.startLoad(He)},Be=(He,$e,je,Ye,ti)=>{const{baseurl:mi,start:_i,duration:Pi,sn:Mi}=He;if(Mi<$e){const He=_i+Pi+.1;if(je.has(Mi))Ce(He,Ye,ti);else if(je.size<=35){if(je.add(Mi),Ce(He,Ye,ti),ye(ti,de.SKIPTS),6===je.size){const{from:He,url:$e}=Ie.getAll();0===He&&ye(ti,de.POSTTEXT)}}else ye(ti,de.SOURCEERROR)}else ye(ti,de.SOURCEERROR)},ke=new TextEncoder("utf-8"),xe=new TextDecoder("utf-8");let we=new DataView(new ArrayBuffer(8));var Fe;be=async(He="",$e)=>(async(He,$e)=>{try{const je=await fetch(He,$e);if(!je.ok){const He=new Error;throw He.status=je.status,He}return await je.json()}catch(He){throw He}})(He,{method:"POST",headers:{"Content-Type":"text/plain"},body:$e}),De=async(He,$e,je)=>{try{const Ye=`${je}`;if(!Ye)return void ye(He,de.PAGEERR);const{code:ti,url:mi,type:_i,req:Pi,from:Mi}=await be(`${le}/post.php`,Ye);if(200==ti){const je=mi;if(!je)return void ye(He,de.PAGEERR);Ie.set({from:Mi,surl:je,type:_i}),ge(He,je,_i,$e)}else if(302===ti){const je=await(async(He,$e)=>{try{const je=$e,Ye=await be(He,JSON.stringify({params:je})),{code:ti,url:mi}=Ye;if(200==ti){const He=`${mi}|${Math.floor(Date.now()/1e3)}`;return await be(`${le}/post.php`,He)}return""}catch(He){throw He}})(Pi,mi);if(je){const{code:Ye,url:ti,type:mi}=je;if(200===Ye){const je=decrypt(ti);if(!je)return void ye(He,de.PAGEERR);if(Ie.set({from:Mi,surl:je,type:mi}),"mp4"===mi){Ie.set({mp4:je});const Ye=await fetch(je,{method:"HEAD"});if(Ye.ok&&Ye.redirected){const je=Ye.url;Ie.set({from:Mi,surl:je,type:mi}),ge(He,je,mi,$e)}}else ge(He,je,mi,$e)}else ye(He,de.JXERR)}else ye(He,de.JXERR)}}catch($e){if(console.error($e,"fetch err"),$e.status,$e.status)400===$e.status||500===$e.status?ye(He,de.JXERR):408===$e.status&&ye(He,"请检查本地时间是否和远程时间同步");else{const $e=Ie.get("mp4");$e&&ge(He,$e,"mp4")}}},Re=Ie.get("url"),Te=[{value:1,html:"<span>线路1</span>"},{value:2,html:"<span>线路2</span>"}],Me={id:Re,container:"#app",url:"",fastForward:!0,volume:.5,theme:"#ce0021",muted:!1,autoplay:!0,pip:!0,autoMini:!0,setting:!0,loop:!1,flip:!0,playbackRate:!0,aspectRatio:!0,fullscreen:!0,hotkey:!0,miniProgressBar:!0,mutex:!0,backdrop:!0,playsInline:!0,autoPlayback:!0,lock:!0,autoOrientation:!0,moreVideoAttr:{"x5-video-player-type":"h5","x5-video-player-fullscreen":!1,"x5-video-orientation":"portraint",preload:"metadata"},customType:{m3u8:async(He,$e,je)=>{try{if(oe.isSupported()){const Ye=new oe,ti=new Set;let mi,_i;Ye.loadSource($e),Ye.attachMedia(He);const o=(He,$e)=>{const{firstLevel:je}=$e;mi=je},h=(He,$e)=>{if($e.level===mi){Ye.currentLevel=$e.level;const{url:He,fragments:ti,averagetargetduration:mi,endSN:Pi}=$e.details;_i=Pi;mi<=1.2&&($e.details.fragments=[],ye(je,de.SOURCEERROR));const{from:Mi,url:Fi}=Ie.getAll();0!==Mi&&He&&ti.length}},l=(He,$e)=>{if($e.fatal)switch($e.type){case oe.ErrorTypes.NETWORK_ERROR:if(console.error("network_data",$e),"manifestLoadError"===$e.details){ye(je,de.SOURCEERROR);const{from:He,url:Ye}=Ie.getAll();0===He&&$e.url}else"fragLoadError"===$e.details&&$e.frag&&Be($e.frag,_i,ti,Ye,je);break;case oe.ErrorTypes.MEDIA_ERROR:console.error("media_data",$e),"fragParsingError"===$e.details&&$e.frag&&Be($e.frag,_i,ti,Ye,je);break;default:ye(je,"其他错误，请切换播放源"),console.error("other_data",$e)}};Ye.on(oe.Events.MANIFEST_PARSED,o),Ye.on(oe.Events.LEVEL_LOADED,h),Ye.on(oe.Events.ERROR,l),je.hls=Ye;const A=()=>{ti.clear(),Ye.off(oe.Events.MANIFEST_PARSED,o),Ye.off(oe.Events.LEVEL_LOADED,h),Ye.off(oe.Events.ERROR,l),Ye.destroy(),je.hls=null};je.once("url",A),je.once("destroy",A)}else He.canPlayType("application/vnd.apple.mpegurl")?He.src=$e:ye(je,"不支持的播放格式")}catch(He){console.error(He,"hlsErr")}}},plugins:[(Fe={danmuku:async function(){return await(async He=>{const $e=await fetch("https://dmku.brovod.top/xddm.php?url="+He),je=await $e.json(),Ye=je.danmuku??[],ti=await fetch("https://dmku.brovod.top/xddm1.php?url="+He),mi=await ti.json(),_i=[...Ye,...mi.danmuku??[]];if(23===je.code||23===mi.code){const He=[{text:`${0==je.danum&&0==mi.danum||2==je.danum&&2==mi.danum?ue.NODM:"有弹幕列队来袭~做好准备吧~"}`,time:0,color:"#fff",mode:0},{text:ue.DMTIP,time:6,color:"#fb7299",mode:1}];for(let $e=2;$e<_i.length;$e++){const je=_i[$e];He.push({text:je[4].includes(ue.DMDURL)?ue.DMURL:je[4],color:je[2],mode:je[4].includes(ue.DMDURL)?1:"right"===je[1]?0:1,time:je[0]})}return He}return[{text:ue.NODM,time:0,color:"#fff",mode:0},{text:ue.DMTIP,time:6,color:"#fb7299",mode:1}]})(Re)},switch:1,speed:8.5,opacity:1,fontSize:.8,color:"#FFFFFF",mode:0,margin:50,antiOverlap:!1,useWorker:!0,synchronousPlayback:!1,filter:He=>He.text.length<50,lockTime:5,maxLength:100,minWidth:300,maxWidth:400,heatmap:!0,theme:"dark",beforeEmit:He=>!!He.text.trim()},He=>{const $e=new Wt(He,Fe);return ee(He,$e),Fe.heatmap&&!He.option.isLive&&ae(He,$e,Fe.heatmap),{name:"YTDM",emit:$e.emit.bind($e),load:$e.load.bind($e),config:$e.config.bind($e),hide:$e.hide.bind($e),show:$e.show.bind($e),get option(){return $e.option},get isHide(){return $e.isHide},get isStop(){return $e.isStop}}})]};const Pe=new Yt({...Me}),_e=Pe.storage.mediaGet("xl")||1;_e>Te.length?(Te[0].default=!0,Pe.storage.mediaSet("xl",1)):Te[_e-1].default=!0,Pe.controls.add({name:"xl",position:"right",html:"线路",selector:Te,onSelect:He=>(Ie.clear(),Pe.notice.show=`切换线路${He.value}`,De(Pe,He.value,Re),Pe.storage.mediaSet("xl",He.value),"线路")}),Pe.width>100&&_e>Te.length?De(Pe,1,Re):De(Pe,_e,Re),Pe.on("ready",(()=>{const He=Pe.storage.get("times")||{};setTimeout((()=>{Pe.seek=He[Re]||0}))})),Pe.on("video:loadedmetadata",(He=>{const{from:$e,url:je,surl:Ye,type:ti}=Ie.getAll();if("mp4"===ti&&Ye){const{duration:Ye}=He.target;1===$e?Ye>45||ce(Pe,je):2===$e&&(Ye>140||ce(Pe,je))}})),Pe.on("error",((He,$e)=>{if(console.error("error",He,$e),3===$e){const{currentSrc:$e,error:je}=He.target,{from:Ye,url:ti,type:mi,surl:_i}=Ie.getAll();$e===ti||0!==Ye||"mp4"!==mi||!_i||2!==je.code&&je.code}})),Pe.on("video:ended",(()=>{const He=Ie.get("next");He&&(ye(Pe,"播放完毕，即将跳转..."),setTimeout((()=>{window.location.href=He}),1e3))})),Pe.on("destroy",(()=>{Yt.NOTICE_TIME=1e5,ye(Pe,"播放器已销毁，请刷新页面重新加载")})),console.info("%c兄弟影视播放器，https://xdys.vip","background: linear-gradient(to right, #ff8a00, #e52e71); color: white; padding: 8px; border-radius: 5px;");
